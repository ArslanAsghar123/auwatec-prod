(function(){var e={550:function(){},672:function(){},364:function(){},354:function(){},229:function(){},167:function(){},885:function(){},36:function(){},741:function(){},112:function(){let{Component:e,Mixin:t}=Shopware;e.extend("aku-cms-factory-text-field","sw-text-field",{props:{maxlength:{type:String,required:!1,default(){return""}}},methods:{getMaxlength(){return this.maxlength&&!isNaN(this.maxlength)?parseInt(this.maxlength,10):-1},getSanitizedValue(e){let t=this.getMaxlength();return -1<t?e.substring(0,t):e},onChange(e){this.$emit("update:value",this.getSanitizedValue(e.target.value||""))},onInput(e){e.target.value=this.getSanitizedValue(e.target.value),this.$emit("update:value",this.getSanitizedValue(e.target.value))}}})},450:function(){let{Component:e,Mixin:t}=Shopware;e.extend("aku-cms-factory-textarea-field","sw-textarea-field",{props:{maxlength:{type:String,required:!1,default(){return""}}},methods:{getMaxlength(){return this.maxlength&&!isNaN(this.maxlength)?parseInt(this.maxlength,10):-1},getSanitizedValue(e){let t=this.getMaxlength();return -1<t?e.substring(0,t):e},onChange(e){this.$emit("update:value",this.getSanitizedValue(e.target.value||""))},onInput(e){e.target.value=this.getSanitizedValue(e.target.value),this.$emit("update:value",this.getSanitizedValue(e.target.value))}}})},71:function(e,t,r){var n=r(550);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals),r(346).Z("6adc4d35",n,!0,{})},467:function(e,t,r){var n=r(672);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals),r(346).Z("b3430ba0",n,!0,{})},787:function(e,t,r){var n=r(364);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals),r(346).Z("efa4427c",n,!0,{})},713:function(e,t,r){var n=r(354);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals),r(346).Z("509ee80a",n,!0,{})},75:function(e,t,r){var n=r(229);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals),r(346).Z("73eb8f00",n,!0,{})},598:function(e,t,r){var n=r(167);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals),r(346).Z("22131fa7",n,!0,{})},223:function(e,t,r){var n=r(885);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals),r(346).Z("7555646d",n,!0,{})},958:function(e,t,r){var n=r(36);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals),r(346).Z("7f0bf1cc",n,!0,{})},870:function(e,t,r){var n=r(741);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals),r(346).Z("1a792d64",n,!0,{})},346:function(e,t,r){"use strict";function n(e,t){for(var r=[],n={},i=0;i<t.length;i++){var a=t[i],s=a[0],l={id:e+":"+i,css:a[1],media:a[2],sourceMap:a[3]};n[s]?n[s].parts.push(l):r.push(n[s]={id:s,parts:[l]})}return r}r.d(t,{Z:function(){return f}});var i="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!i)throw Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var a={},s=i&&(document.head||document.getElementsByTagName("head")[0]),l=null,o=0,c=!1,d=function(){},m=null,u="data-vue-ssr-id",p="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function f(e,t,r,i){c=r,m=i||{};var s=n(e,t);return h(s),function(t){for(var r=[],i=0;i<s.length;i++){var l=a[s[i].id];l.refs--,r.push(l)}t?h(s=n(e,t)):s=[];for(var i=0;i<r.length;i++){var l=r[i];if(0===l.refs){for(var o=0;o<l.parts.length;o++)l.parts[o]();delete a[l.id]}}}}function h(e){for(var t=0;t<e.length;t++){var r=e[t],n=a[r.id];if(n){n.refs++;for(var i=0;i<n.parts.length;i++)n.parts[i](r.parts[i]);for(;i<r.parts.length;i++)n.parts.push(g(r.parts[i]));n.parts.length>r.parts.length&&(n.parts.length=r.parts.length)}else{for(var s=[],i=0;i<r.parts.length;i++)s.push(g(r.parts[i]));a[r.id]={id:r.id,refs:1,parts:s}}}}function y(){var e=document.createElement("style");return e.type="text/css",s.appendChild(e),e}function g(e){var t,r,n=document.querySelector("style["+u+'~="'+e.id+'"]');if(n){if(c)return d;n.parentNode.removeChild(n)}if(p){var i=o++;t=_.bind(null,n=l||(l=y()),i,!1),r=_.bind(null,n,i,!0)}else t=b.bind(null,n=y()),r=function(){n.parentNode.removeChild(n)};return t(e),function(n){n?(n.css!==e.css||n.media!==e.media||n.sourceMap!==e.sourceMap)&&t(e=n):r()}}var v=function(){var e=[];return function(t,r){return e[t]=r,e.filter(Boolean).join("\n")}}();function _(e,t,r,n){var i=r?"":n.css;if(e.styleSheet)e.styleSheet.cssText=v(t,i);else{var a=document.createTextNode(i),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(a,s[t]):e.appendChild(a)}}function b(e,t){var r=t.css,n=t.media,i=t.sourceMap;if(n&&e.setAttribute("media",n),m.ssrId&&e.setAttribute(u,t.id),i&&(r+="\n/*# sourceURL="+i.sources[0]+" */\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var a=t[n]={id:n,exports:{}};return e[n](a,a.exports,r),a.exports}r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="bundles/akucmsfactory/",window?.__sw__?.assetPath&&(r.p=window.__sw__.assetPath+"/bundles/akucmsfactory/"),function(){"use strict";let e=Shopware.Application.getContainer("init").httpClient,t={Accept:"application/vnd.api+json",Authorization:`Bearer ${Shopware.Context.api.authToken.access}`,"Content-Type":"application/json"},n=function(e,t,r){return(void 0==t&&(t="data",r=""),"media"==e.type)?p(e,t,r):"gallery"==e.type?f(e,t,r):"text-editor"==e.type?u(e,t,r):"textarea"==e.type?m(e,t,r):"category"==e.type?i(e,t,r):"manufacturer"==e.type?a(e,t,r):"custom-entity"==e.type?s(e,t,r):"product"==e.type?l(e,t,r):"color"==e.type?o(e,t,r):"checkbox"==e.type?d(e,t,r):"stream"==e.type?h(e,t,r):"repeater"==e.type?y(e,t,r):c(e,t,r)},i=function(e,t,r){return`${r}{# Category link #}
${r}{% if ${t}.${e.name} is defined and ${t}.${e.name} is not null %}
${r}    <p><a href="{{ seoUrl('frontend.navigation.page', { navigationId:${t}.${e.name}.getId()}) }}">
${r}       {{ ${t}.${e.name}.translated.name }}
${r}    </a></p>
${r}{% endif %}
`},a=function(e,t,r){return`${r}{# Manufacturer name #}
${r}{% if ${t}.${e.name} is defined and ${t}.${e.name} is not null %}
${r}    <ul>
${r}      {% for manufacturer in ${t}.${e.name} %} 
${r}            <li>{{ manufacturer.translated.name }}</li>
${r}      {% endfor %}
${r}    </ul>
${r}{% endif %}
`},s=function(e,t,r){return`${r}{# Custom Entity #}
${r}{% if ${t}.${e.name} is defined and ${t}.${e.name} is not null %}
${r}    <ul>
${r}     {% for entity in ${t}.${e.name} %} 
${r}           <li>{{ entity.${e.entityLabelProperty}}}</li>
${r}     {% endfor %}
${r}    </ul>
${r}{% endif %}
`},l=function(e,t,r){return`${r}{# Product link #}
${r}{% if ${t}.${e.name} is defined and ${t}.${e.name} is not null %}
${r}    <p><a href="{{ seoUrl('frontend.detail.page', { productId:${t}.${e.name}.getId()}) }}">
${r}       {{ ${t}.${e.name}.translated.name }}
${r}    </a></p>
${r}{% endif %}
`},o=function(e,t,r){return`${r}{# Color #}
${r}{% if ${t}.${e.name} is defined and ${t}.${e.name} is not null %}
${r}    <p style="color: {{ ${t}.${e.name} }};">Color: {{ ${t}.${e.name} }}</p>
${r}{% endif %}
`},c=function(e,t,r){return`${r}{# Text #}
${r}{% if ${t}.${e.name} is defined %}
${r}    <p>{{ ${t}.${e.name} }}</p>
${r}{% endif %}
`},d=function(e,t,r){return`${r}{# Checkbox #}
${r}{% if ${t}.${e.name} is defined %}
${r}    {% if true == ${t}.${e.name} %}
${r}        <p>TRUE</p>
${r}    {% else %}
${r}        <p>FALSE</p>
${r}    {% endif %}
${r}{% endif %}
`},m=function(e,t,r){return`${r}{# Multiline Text #}
${r}{% if ${t}.${e.name} is defined %}
${r}    <div>{{ ${t}.${e.name}|nl2br }}</div>
${r}{% endif %}
`},u=function(e,t,r){return`${r}{# HTML #}
${r}{% if ${t}.${e.name} is defined %}
${r}    {{ ${t}.${e.name}|raw }}
${r}{% endif %}
`},p=function(e,t,r){return`${r}{# Media #}
${r}{% if ${t}.${e.name} is defined and ${t}.${e.name} is not null %}
${r}    {% sw_thumbnails 'thumbnails' with {
${r}        media: ${t}.${e.name}
${r}    } %}
${r}{% endif %}
`},f=function(e,t,r){return`${r}{# Gallery #}
${r}{% if ${t}.${e.name} is defined and ${t}.${e.name} is iterable %}
${r}    {% for med in ${t}.${e.name} %}
${r}        {% if med is defined and med is not null %}
${r}            {% sw_thumbnails 'thumbnails' with {
${r}                media: med
${r}            } %}
${r}        {% endif %}
${r}    {% endfor %}
${r}{% endif %}
`},h=function(e,t,r){return`${r}{# Stream - dynamic product group #}
${r}{% if ${t}.${e.name} is defined and ${t}.${e.name} is not null %}
${r}   <p>
${r}       {{ ${t}.${e.name}.translated.name }}
${r}   </p>
${r}   {% if ${t}.${e.name}.extensions.products is defined and ${t}.${e.name}.extensions.products is iterable %}
${r}      <ul>
${r}      {% for stream_product in ${t}.${e.name}.extensions.products %}
${r}          <li>{{stream_product.translated.name}}</li>
${r}      {% endfor %}
${r}      </ul>
${r}   {% endif %}
${r}{% endif %}
`},y=function(e,t,r){let i=e.children,a="sub"+Math.round(r.length/8).toString(),s=`${r}{# Repeater #}
${r}{% if ${t}.${e.name} is defined and ${t}.${e.name} is iterable %}
${r}    <div class="row">
${r}    {% for ${a} in ${t}.${e.name} %}
${r}        <div class="col">
`;return i.forEach(function(e){s+=n(e,a,`${r}        `)}),s+=`${r}        </div>
${r}    {% endfor %}
${r}    </div>
${r}{% endif %}
`};var g={getSampleTemplate:function(e){let t="";return 0==e.length?"":(e.forEach(function(e){t+=n(e)}),t)},renderTemplate:async function(r,n,i){return await e.post("/aku/cms-factory/render-template",{template:r,fields:Array.isArray(n)?n:[],values:i||{}},{headers:t})}};let{Component:v,Mixin:_}=Shopware;v.register("aku-cms-factory-element-sample",{template:'{% block aku_cms_factory_element_sample %}\r\n    <div class="aku_cms_factory_element_sample">\r\n    <sw-code-editor :value="code" \r\n        :readOnly="true"\r\n        :completerFunction="null" completionMode="text" mode="twig" :softWraps="true" :setFocus="false" :disabled="false">\r\n    </sw-code-editor>\r\n    </div>\r\n\r\n{% endblock %}',props:["fields"],computed:{code(){return 0==this.fields.length?this.$tc("aku-cms-factory-element.edit.noFields"):g.getSampleTemplate(this.fields)}}});let{Component:b,Mixin:w}=Shopware,{Criteria:k}=Shopware.Data;b.register("aku-cms-factory-element-list",{template:'{% block aku_cms_factory_element_list %}\r\n\r\n\r\n\r\n    <sw-page class="cms-factory-element-list">\r\n\r\n            {% block sw_customer_list_search_bar %}\r\n            <template #search-bar>\r\n                <sw-search-bar\r\n                    initial-search-type="CMS Factory"\r\n                    :placeholder="$tc(\'aku-cms-factory-element.list.searchPlaceholderText\')"\r\n                    @search="onSearch"\r\n                />\r\n            </template>\r\n            {% endblock %}\r\n\r\n        {% block aku_cms_factory_element_list_smart_bar_actions %}\r\n        <template #smart-bar-actions>\r\n            <sw-button :routerLink="{name: \'aku.cms.factory.element.import\'}">\r\n                {{$tc(\'aku-cms-factory-element.list.importButtonText\')}}\r\n            </sw-button>\r\n            <sw-button variant="primary" :routerLink="{name: \'aku.cms.factory.element.create\'}">\r\n                {{$tc(\'aku-cms-factory-element.list.addButtonText\')}}\r\n            </sw-button>\r\n        </template>\r\n        {% endblock %}\r\n\r\n        <template #content>\r\n            {% block aku_cms_factory_element_list_content %}\r\n                <sw-entity-listing\r\n                    v-if="cms_elements"\r\n                    :items="cms_elements"\r\n                    :repository="repository"\r\n                    :showSelection="false"\r\n                    :columns="columns"\r\n                    :criteria="element_list_criteria"\r\n                    detailRoute="aku.cms.factory.element.detail"\r\n                >\r\n                <template #more-actions="{ item, isInlineEdit, compact }">\r\n                <a class="sw-context-menu-item" href="#"\r\n                    @click.prevent="exportItem(item)">Export</a>\r\n                </template>\r\n                </sw-entity-listing>\r\n            {% endblock %}\r\n        </template>\r\n    </sw-page>\r\n\r\n{% endblock %}',inject:["repositoryFactory"],data(){return{repository:null,cms_elements:null,isLoading:!1}},metaInfo(){return{title:this.$createTitle()}},computed:{columns(){return this.getColumns()},element_list_criteria(){return new k().addSorting(k.sort("name","ASC"))}},created(){this.createdComponent()},methods:{createdComponent(){this.repository=this.repositoryFactory.create("cms_factory_element"),this.repository.search(this.element_list_criteria,Shopware.Context.api).then(e=>{this.cms_elements=e})},exportFieldsRecursive(e){let t=this,r=[];return e.forEach(function(e,n){let i=Object.assign({},e);if(delete i.id,delete i.parent_id,delete i.children,e.hasOwnProperty("children")&&0<e.children.length){let r=t.exportFieldsRecursive(e.children);i.children=r}else i.children=[];r.push(i)}),r},exportItem(e){let t=JSON.parse(e.fields),r=this.exportFieldsRecursive(t),n={name:e.name,fields:r,twig:e.twig},i=new Blob([JSON.stringify(n,void 0,2)],{type:"application/json"}),a=document.createElement("a");a.href=window.URL.createObjectURL(i),a.download=e.name+".json",a.click()},getColumns(){return[{property:"name",label:"Name",rawData:!1,primary:!0,routerLink:"aku.cms.factory.element.detail"}]},onSearch(e){let t=new k().addSorting(k.sort("name","ASC"));""!=e&&e.split(" ").forEach(function(e){t.addFilter(k.contains("name",e))});let r=this;this.repository.search(t,Shopware.Context.api).then(e=>{r.cms_elements=e})}}}),r(467);let x=function(e,t){void 0===t&&(t="");let r=[],n=[];return e.forEach(function(e){if(-1<r.indexOf(e.name)?n.push(t+e.name):r.push(e.name),0<e.children.length){let t=e.name+"[i].";x(e.children,t).forEach(function(e){n.push(e)})}}),n};var $={validate:function(e,t,r){let n={};if((null===e.name||""===String(e.name).trim())&&(n.name={detail:r.$tc("aku-cms-factory-element.edit.inputRequired")}),(null===e.twig||""===String(e.twig).trim())&&(n.twig={detail:r.$tc("aku-cms-factory-element.edit.templateRequired")}),0<t.length){let e=x(t);0<e.length&&(n.fields={detail:r.$tc("aku-cms-factory-element.edit.fieldNameDuplicates"),duplicates:e})}return n}};let{Component:C,Mixin:S,Utils:E}=Shopware;C.register("aku-cms-factory-element-import",{template:'{% block aku_cms_factory_element_import %}\n    <sw-page class="aku-cms-factory-element-import">\n\n        {% block aku_cms_factory_element_edit_smart_bar_actions %}\n        <template #smart-bar-actions>\n            <sw-button :routerLink="{name: \'aku.cms.factory.element.overview\'}">\n                {{$tc(\'aku-cms-factory-element.edit.cancelButtonText\')}}\n            </sw-button>\n\n            <sw-button-process \n                variant="primary"\n                ::isLoading="isLoading"\n                :processSuccess="processSuccess"\n                :disabled="\'\' == import_content.trim()"\n                @click="onClickSave">\n                {{$tc(\'aku-cms-factory-element.import.importButtonText\')}}\n\n            </sw-button-process>\n        </template>\n        {% endblock %}\n\n        <template #content>\n            <sw-card-view>\n                <sw-card v-if="0 < errors.length">\n                <ul>\n                    <li v-for="error in errors">{{error}}</li>\n                </ul>\n                </sw-card>\n                <sw-card >\n                    <sw-file-input\n                        ref="file_input"\n                        v-model:value="selected_file"\n                        :label="$tc(\'aku-cms-factory-element.import.fileFieldLabel\')"\n                        :allowedMimeTypes="[\'application/json\']"\n                        >\n                    </sw-file-input>\n\n                    <sw-textarea-field v-model:value="import_content"\n                        style="margin-top:15px"\n                        :label="$tc(\'aku-cms-factory-element.import.importContentLabel\')"\n                        placeholder=\'{"name":"String", "fields":[], "twig": "HTML"}\'\n                        >\n                    </sw-textarea-field>\n                </sw-card>\n                \n            </sw-card-view>\n        </template>\n    </sw-page>\n{% endblock %}',inject:["repositoryFactory"],mixins:[S.getByName("notification")],data:function(){return{errors:[],selected_file:null,processSuccess:!1,import_content:"",isLoading:!1}},methods:{addFieldIdsRecursive:function(e,t){void 0==t&&(t="");let r=this,n=[];return e.forEach(function(e){e.id=E.createId(),e.parent_id=t,e.hasOwnProperty("children")&&Array.isArray(e.children)?e.children=r.addFieldIdsRecursive(e.children):e.children=[],n.push(e)}),n},createdComponent(){this.repository=this.repositoryFactory.create("cms_factory_element"),this.getCmsFactoryElement()},getCmsFactoryElement(){this.element=this.repository.create(Shopware.Context.api)},onClickSave:async function(){let e=this,t=[],r=null;if(this.errors=[],""==this.import_content.trim())return;try{r=JSON.parse(this.import_content)}catch(e){t.push(e),this.errors=t;return}if(r.hasOwnProperty("name")&&"string"==typeof r.name&&""!=r.name||t.push(this.$tc("aku-cms-factory-element.import.importErrorPropertyNameMissing")),r.hasOwnProperty("fields")&&Array.isArray(r.fields)||t.push(this.$tc("aku-cms-factory-element.import.importErrorPropertyFieldsMissing")),r.hasOwnProperty("twig")&&"string"==typeof r.twig&&""!=r.twig.trim()||t.push(this.$tc("aku-cms-factory-element.import.importErrorPropertyTwigMissing")),0<t.length){this.errors=t;return}this.element.name=r.name,this.element.twig=r.twig;let n=this.addFieldIdsRecursive(r.fields);this.element.fields=JSON.stringify(n);let i=$.validate(this.element,n,this),a=Object.keys(i);0<a.length&&a.forEach(function(e){t.push(e+" "+i[e].detail)}),this.isLoading=!0;try{await g.renderTemplate(this.element.twig)}catch(r){let e="";e="response"in r&&"data"in r.response&&"error"in r.response.data?r.response.data.error:r,e=this.$tc("aku-cms-factory-element.edit.errorRender")+": "+e,t.push("twig "+e)}if(0<t.length){this.errors=t,this.isLoading=!1;return}this.repository.save(this.element,Shopware.Context.api).then(t=>{e.isLoading=!1,e.$router.push({name:"aku.cms.factory.element.overview"})}).catch(t=>{e.isLoading=!1,e.createNotificationError({title:e.$tc("aku-cms-factory-element.edit.errorSave"),message:t})})}},created(){this.createdComponent()},watch:{selected_file:function(){let e=this,t=new FileReader;t.onload=function(r){e.import_content=t.result},t.readAsText(this.selected_file)}}});let{Component:F}=Shopware;F.extend("aku-cms-factory-element-create","aku-cms-factory-element-edit",{methods:{getCmsFactoryElement(){this.element=this.repository.create(Shopware.Context.api)},async onClickSave(){let e=this;this.element.fields=JSON.stringify(this.fields),this.errors={};let t=$.validate(this.element,this.fields,this);if(0<Object.keys(t).length){this.errors=t;return}this.isLoading=!0;try{await g.renderTemplate(this.element.twig)}catch(t){let e="";e="response"in t&&"data"in t.response&&"error"in t.response.data?t.response.data.error:t,e=this.$tc("aku-cms-factory-element.edit.errorRender")+": "+e,this.errors={twig_render:{detail:e}},this.isLoading=!1;return}this.repository.save(this.element,Shopware.Context.api).then(t=>{e.isLoading=!1,e.$router.push({name:"aku.cms.factory.element.overview"})}).catch(t=>{e.isLoading=!1,e.createNotificationError({title:e.$tc("aku-cms-factory-element.edit.errorSave"),message:t})})}}}),r(71);let{Component:L,Mixin:M,Utils:N}=Shopware;L.register("aku-cms-factory-element-edit",{template:'{% block aku_cms_factory_element_edit %}\r\n    <sw-page class="aku-cms-factory-element-edit">\r\n\r\n        {% block aku_cms_factory_element_edit_smart_bar_actions %}\r\n        <template #smart-bar-actions>\r\n            <sw-button :routerLink="{name: \'aku.cms.factory.element.overview\'}">\r\n                {{$tc(\'aku-cms-factory-element.edit.cancelButtonText\')}}\r\n            </sw-button>\r\n\r\n            <sw-button-process \r\n                :isLoading="isLoading"\r\n                :processSuccess="processSuccess"\r\n                variant="primary"\r\n                @process-finish="saveFinished"\r\n                @click="onClickSave">\r\n                {{$tc(\'aku-cms-factory-element.edit.saveButtonText\')}}\r\n\r\n\r\n            </sw-button-process>\r\n        </template>\r\n        {% endblock %}\r\n\r\n        <template #content>\r\n          \r\n            \r\n            {% block aku_cms_factory_element_edit_content %}\r\n            <sw-card-view>\r\n                <sw-card v-if="element" :isLoading="isLoading">\r\n                    <sw-text-field v-model:value="element.name" :error="errors[\'name\']" :label="$tc(\'aku-cms-factory-element.edit.elementNameLabel\')">\r\n                    </sw-text-field>\r\n\r\n                    <div class="d-flex justify-content-between">\r\n                        <span class="sw-field__label">{{$tc(\'aku-cms-factory-element.edit.templateLabel\')}}</span>\r\n                        <sw-context-button >\r\n                            <sw-context-menu-item\r\n                                @click="showSampleCode = !showSampleCode">\r\n                                {{$tc(\'aku-cms-factory-element.edit.showSampleTemplate\')}}\r\n                            </sw-context-menu-item>\r\n                            <sw-context-menu-item\r\n                                @click="useSampleCode">\r\n                                {{$tc(\'aku-cms-factory-element.edit.useSampleTemplate\')}}\r\n                            </sw-context-menu-item>\r\n                        </sw-context-button>\r\n                    </div>\r\n\r\n                    <sw-code-editor v-model:value="element.twig"\r\n                        :completerFunction="null" completionMode="text" mode="twig" :softWraps="true" :setFocus="false" :disabled="false">\r\n                    </sw-code-editor>\r\n\r\n                    <sw-alert variant="error" appearance="notification" :showIcon="false" :closable="false"\r\n                        v-if="errors[\'twig\']">\r\n                        <div class="d-flex justify-content-between align-items-center">\r\n                            <div>\r\n                            <p>{{ errors[\'twig\'].detail }}</p>\r\n                            </div>\r\n                            <sw-button :disabled="false" :square="false" :block="false" :isLoading="false" @click="useSampleCode">\r\n                                {{$tc(\'aku-cms-factory-element.edit.useSampleTemplate\')}}\r\n                            </sw-button>\r\n                        </div>\r\n                    </sw-alert>\r\n                    <sw-alert variant="error" appearance="notification" :showIcon="false" :closable="false"\r\n                        v-if="errors[\'twig_render\']">\r\n                        <p>{{ errors[\'twig_render\'].detail }}</p>\r\n                    </sw-alert>\r\n\r\n                    <div class="d-flex flex-row justify-content-between">\r\n                        <div class="sw-field__label">\r\n                            <label for="sw-field--element-name" class="">\r\n                                {{$tc(\'aku-cms-factory-element.edit.elementTreeHeadline\')}}\r\n                            </label>\r\n                        </div>\r\n                        <sw-icon name="regular-plus-square" color="#1abc9c"\r\n                            @click="fieldAdd" >\r\n                        </sw-icon>\r\n                    </div>\r\n\r\n                    <sw-alert variant="error" appearance="notification" :showIcon="true" :closable="false"\r\n                        v-if="errors[\'fields\']">\r\n                        <div class="d-flex justify-content-between align-items-center">\r\n                            <div>\r\n                                <p>{{ errors[\'fields\'].detail }}</p>\r\n                                <ul v-if="errors[\'fields\'].duplicates">\r\n                                    <li v-for="dupl in errors[\'fields\'].duplicates">\r\n                                        {{dupl}}\r\n                                    </li>\r\n                                </ul>\r\n                            </div>\r\n                        </div>\r\n                    </sw-alert>\r\n\r\n                    <sw-grid :items="gridItemsRecursive()" \r\n                        :sortable="true"\r\n                        :selectable="false">\r\n                        <template #columns="{ item }">\r\n\r\n                            <sw-grid-column flex="minmax(100px, 3fr)" label="Label">\r\n                                <div   :class="\'child-spacer-\'+item.level">\r\n                                    <span @click="treeItemEdit(item)" style="cursor:pointer">\r\n                                    {{ item.label }}\r\n                                    </span>\r\n                                    <br/><small><pre>{{ item.name }}</pre></small>\r\n                                </div>\r\n                            </sw-grid-column>\r\n\r\n                            <sw-grid-column flex="minmax(100px, 1fr)" label="Type">\r\n                                {{ item.type }}\r\n                            </sw-grid-column>\r\n\r\n\r\n                            <sw-grid-column flex="minmax(100px, 1fr)" label="" class="aku-cms-list-icons">\r\n                                <sw-icon name="solid-chevron-up" \r\n                                    style="cursor:pointer;"\r\n                                    small \r\n                                    @click="move(item.id, item.currentPos -1, item.parentItem ? item.parentItem.id : \'\')" \r\n                                    color="#1abc9c"\r\n                                    :disabled="item.isFirst" > \r\n                                </sw-icon>\r\n                                <sw-icon name="solid-chevron-down" \r\n                                    style="cursor:pointer;"\r\n                                    small \r\n                                    @click="move(item.id, item.currentPos + 1, item.parentItem ? item.parentItem.id : \'\')" \r\n                                    color="#1abc9c" \r\n                                    disabled="item.isLast">\r\n                                </sw-icon>\r\n                                <sw-context-button >\r\n                                    <sw-context-menu-item\r\n                                        v-if="\'repeater\' == item.type"\r\n                                        @click="fieldAdd(item)">\r\n                                        {{ $tc(\'aku-cms-factory-element.edit.createSub\') }}\r\n                                    </sw-context-menu-item>\r\n                                    <div class="sw-context-menu__group">\r\n                                        <sw-context-menu-item @click="treeItemEdit(item)">\r\n                                            {{ $tc(\'global.default.edit\') }}\r\n                                        </sw-context-menu-item>\r\n                                        <sw-context-menu-item\r\n                                            class="sw-context-menu__group-button-delete"\r\n                                            variant="danger"\r\n                                            @click="confirm_delete_item = item">\r\n                                            {{ $tc(\'global.default.delete\') }}\r\n                                        </sw-context-menu-item>\r\n                                    </div>\r\n                                </sw-context-button>\r\n                            </sw-grid-column>\r\n                        </template>\r\n\r\n                    </sw-grid>\r\n\r\n                    \r\n                </sw-card>\r\n\r\n            </sw-card-view>    \r\n\r\n            <sw-confirm-modal\r\n                v-if="confirm_delete_item != null"\r\n                class="sw-promotion-v2-individual-codes-behavior__confirm-delete-modal"\r\n                type="delete"\r\n                :text="$tc(\'global.default.delete\') + \' \' + confirm_delete_item.label + \'?\'"\r\n                @confirm="treeItemDelete"\r\n                @close="confirm_delete_item = null"\r\n                @cancel="confirm_delete_item = null">\r\n            </sw-confirm-modal>\r\n\r\n            <sw-modal \r\n                :title="$tc(\'aku-cms-factory-element.edit.modalTitle\')" \r\n                @modal-close="closedModal"\r\n                v-if="field">\r\n                \r\n                    <aku-cms-factory-element-edit-field\r\n                        :field="field"\r\n                        @saved="fieldSave"\r\n                        ></aku-cms-factory-element-edit-field>\r\n                \r\n            </sw-modal>\r\n\r\n            <sw-modal \r\n                :title="$tc(\'aku-cms-factory-element.edit.sampleCode\')" \r\n                @modal-close="showSampleCode = !showSampleCode"\r\n                v-if="showSampleCode">\r\n                <aku-cms-factory-element-sample :fields="fields" >\r\n                    </aku-cms-factory-element-sample>\r\n            </sw-modal>\r\n\r\n            {% endblock %}\r\n\r\n\r\n        </template>\r\n    </sw-page>\r\n\r\n{% endblock %}',inject:["repositoryFactory"],mixins:[M.getByName("notification")],metaInfo(){return{title:this.$createTitle()}},data(){return{element:null,isLoading:!1,processSuccess:!1,repository:null,field:null,fields:[],errors:{},showSampleCode:!1,confirm_delete_item:null}},created(){this.createdComponent()},computed:{gridItems(){let e=[],t=this.fields;return t.forEach(function(r,n){let i={id:r.id,parentItem:null,label:r.label,name:r.name,type:r.type,isFirst:0==n,isLast:n==t.length-1,currentPos:n};e.push(i),Array.isArray(r.children)&&r.children.forEach(function(t,n){e.push({id:t.id,parentItem:i,label:t.label,name:t.name,type:t.type,isFirst:0==n,isLast:n==r.children.length-1,currentPos:n})})}),e}},methods:{closedModal(){this.field=null},createdComponent(){this.repository=this.repositoryFactory.create("cms_factory_element"),this.getCmsFactoryElement()},getCmsFactoryElement(){this.resetErrors(),this.repository.get(this.$route.params.id,Shopware.Context.api).then(e=>{if(this.element=e,this.fields=[],null!=e.fields)try{let e=JSON.parse(this.element.fields);this.fields=e}catch(e){}})},gridItemsRecursive(e,t){let r=[],n=this;return void 0===e&&(e=this.fields),void 0===t&&(t=null),e.forEach(function(i,a){let s=t?t.name+"[0]":"";s+=i.name;let l={id:i.id,parentItem:t,level:t?t.level+1:0,label:i.label,name:s,type:i.type,isFirst:0==a,isLast:a==e.length-1,currentPos:a};if(r.push(l),Array.isArray(i.children)){let e=n.gridItemsRecursive(i.children,l);r.push(...e)}}),r},move(e,t,r){let n=[],i=[],a=null,s=0,l=null;if(r?this.fields.forEach(function(e,t){e.id==r&&(a=e,s=t,n=e.children)}):n=this.fields,!(0>t)&&!(t>n.length-1)){if(!(l=n.filter(function(t){return t.id==e})[0])){console.log("Error: field not found");return}n=n.filter(function(t){return t.id!=e});for(var o=0;o<n.length;o++)o==t&&i.push(l),i.push(n[o]);if(t>n.length-1&&i.push(l),r){a.children=i;let e=this.fields;e[s]=a,this.fields=e}else this.fields=i}},async onClickSave(){this.element.fields=JSON.stringify(this.fields),this.errors={};let e=$.validate(this.element,this.fields,this);if(0<Object.keys(e).length){this.errors=e;return}this.isLoading=!0;try{await g.renderTemplate(this.element.twig)}catch(t){let e="";e="response"in t&&"data"in t.response&&"error"in t.response.data?t.response.data.error:t,e=this.$tc("aku-cms-factory-element.edit.errorRender")+": "+e,this.errors={twig_render:{detail:e}},this.isLoading=!1;return}this.repository.save(this.element,Shopware.Context.api).then(()=>{this.getCmsFactoryElement(),this.isLoading=!1,this.processSuccess=!0}).catch(e=>{this.isLoading=!1,this.createNotificationError({title:this.$tc("aku-cms-factory-element.edit.errorTitle"),message:e})})},resetErrors(){this.errors.name=null},saveFinished(){this.processSuccess=!1},fieldAdd(e){let t={id:"",parent_id:void 0===e.id?"":e.id};this.field=t},fieldSave(e){let t=[];e.id?t=this.fieldUpdate(this.fields,"",e):(e.id=N.createId(),t=this.fieldAppend(this.fields,"",e)),this.fields=t,this.field=null},fieldUpdate(e,t,r){let n=this,i=[];return e.forEach(function(e){e.id==r.id?i.push(r):("repeater"==e.type&&Array.isArray(e.children)&&(e.children=n.fieldUpdate(e.children,e.id,r)),i.push(e))}),i},fieldAppend(e,t,r){let n=this,i=[];return e.forEach(function(e){"repeater"==e.type&&(Array.isArray(e.children)||(e.children=[]),e.children=n.fieldAppend(e.children,e.id,r)),i.push(e)}),r.parent_id==t&&i.push(r),i},getFieldById(e,t){let r=this,n=null;return t.forEach(function(t){if(t.id==e&&(n=t),Array.isArray(t.children)){let i=r.getFieldById(e,t.children);i&&(n=i)}}),n},treeItemEdit(e){this.field=this.getFieldById(e.id,this.fields)},treeItemDelete(){let e=this.confirm_delete_item,t=[];this.fields.forEach(function(r){if(r.id!=e.id){let n=[];Array.isArray(r.children)&&r.children.forEach(function(t){t.id!=e.id&&n.push(t)}),r.children=n,t.push(r)}}),this.fields=t,this.confirm_delete_item=null},useSampleCode(){this.element.twig=g.getSampleTemplate(this.fields)}},watch:{element:function(){}}}),Shopware.Component.register("aku-cms-factory-element-edit-field",{template:'{% block aku_cms_factory_element_text %}\r\n    <div class="aku-cms-factory-element-text">\r\n\r\n        <sw-single-select\r\n                v-model:value="type"\r\n                :label="$tc(\'aku-cms-factory-element.edit.typeLabel\')"\r\n                :options="type_choices">\r\n        </sw-single-select>\r\n\r\n        <sw-text-field v-model:value="label"\r\n                  :error="errors[\'label\']"\r\n                  :label="$tc(\'aku-cms-factory-element.edit.labelLabel\')">\r\n        </sw-text-field>\r\n\r\n        <sw-text-field v-model:value="name"\r\n                  :error="errors[\'name\']"\r\n                  :label="$tc(\'aku-cms-factory-element.edit.nameLabel\')"\r\n                  :placeholder="name_pattern"\r\n                  :helpText="$tc(\'aku-cms-factory-element.edit.nameHelp\')">\r\n        </sw-text-field>\r\n\r\n        \r\n\r\n        <sw-text-field v-model:value="choices" v-if="allow_choices"\r\n                  :error="errors[\'choices\']"\r\n                  :placeholder="$tc(\'aku-cms-factory-element.edit.choicesPlaceholder\')"\r\n                  :label="$tc(\'aku-cms-factory-element.edit.choicesLabel\')">\r\n        </sw-text-field>\r\n\r\n        <sw-text-field v-model:value="defaultValue" v-if="allow_default_value"\r\n                  :label="$tc(\'aku-cms-factory-element.edit.defaultValueLabel\')">\r\n        </sw-text-field>\r\n\r\n\r\n        <sw-radio-field\r\n                v-if="\'checkbox\' == type"\r\n                v-model:value="defaultValue"\r\n                :label="$tc(\'aku-cms-factory-element.edit.defaultValueLabel\')"\r\n                :options="default_value_choices">\r\n        </sw-radio-field>\r\n\r\n\r\n        <aku-cms-factory-element-multicheckbox\r\n                v-if="0 < association_choices.length"\r\n                :label="$tc(\'aku-cms-factory-element.edit.associationsLabel\')"\r\n                :helpText="$tc(\'aku-cms-factory-element.edit.associationsHelp\')"\r\n                :options="association_choices"\r\n                v-model:value="associations">\r\n        </aku-cms-factory-element-multicheckbox>\r\n\r\n        <sw-text-field v-if="\'custom-entity\' == type"\r\n                  :label="$tc(\'aku-cms-factory-element.edit.customEntityLabel\')"\r\n                  :helpText="$tc(\'aku-cms-factory-element.edit.customEntityHelp\')"\r\n                  v-model:value="entity">\r\n        </sw-text-field>\r\n\r\n        <sw-text-field v-if="\'custom-entity\' == type"\r\n                  :label="$tc(\'aku-cms-factory-element.edit.customEntityLabelPropertyLabel\')"\r\n                  :helpText="$tc(\'aku-cms-factory-element.edit.customEntityLabelPropertyHelp\')"\r\n                  v-model:value="entityLabelProperty">\r\n        </sw-text-field>\r\n\r\n        <sw-text-field v-if="\'custom-entity\' == type"\r\n                  :label="$tc(\'aku-cms-factory-element.edit.associationsLabel\')"\r\n                  :helpText="$tc(\'aku-cms-factory-element.edit.associationsHelp\')"\r\n                  v-model:value="associations_string">\r\n        </sw-text-field>\r\n\r\n        <sw-number-field\r\n                number-type="int"\r\n                v-if="allow_children_depth"\r\n                v-model:value="childrenDepth"\r\n                :label="$tc(\'aku-cms-factory-element.edit.childrenDepthLabelLabel\')"\r\n                :helpText="$tc(\'aku-cms-factory-element.edit.childrenDepthLabelHelp\')"\r\n                :min="1"\r\n                :step="1"\r\n                type="number"></sw-number-field>\r\n\r\n        <template v-if="\'text\' == type || \'textarea\' == type">\r\n            <sw-number-field\r\n                    numberType="int"\r\n                    :step="1"\r\n                    :min="1"\r\n                    :max="null"\r\n                    :digits="0"\r\n                    :label="$tc(\'aku-cms-factory-element.edit.fieldMaxlengthLabel\')"\r\n                    :helpText="$tc(\'aku-cms-factory-element.edit.fieldMaxlengthHelp\')"\r\n                    v-model:value="fieldMaxlength"\r\n                    :allowEmpty="true"\r\n            >\r\n            </sw-number-field>\r\n\r\n        </template>\r\n\r\n        <div style="display:flex;justify-content:space-between">\r\n            <sw-button variant="primary" @click="save">\r\n                {{ $tc(\'aku-cms-factory-element.edit.acceptLabel\') }}\r\n            </sw-button>\r\n        </div>\r\n\r\n\r\n    </div>\r\n{% endblock %}',props:["field"],data(){return{type:"text",name:"",label:"",defaultValue:"",childrenDepth:1,choices:"",fieldMaxlength:null,associations:[],associations_string:"",errors:{},show_confirm_delete:!1,entity:"",entityLabelProperty:""}},computed:{type_choices(){let e=[{value:"text",label:this.$tc("aku-cms-factory-element.edit.typeText")},{value:"textarea",label:this.$tc("aku-cms-factory-element.edit.typeTextarea")},{value:"text-editor",label:this.$tc("aku-cms-factory-element.edit.typeTextEditor")},{value:"media",label:this.$tc("aku-cms-factory-element.edit.typeMedia")},{value:"manufacturer",label:this.$tc("aku-cms-factory-element.edit.typeManufacturer")},{value:"gallery",label:this.$tc("aku-cms-factory-element.edit.typeGallery")},{value:"category",label:this.$tc("aku-cms-factory-element.edit.typeCategory")},{value:"product",label:this.$tc("aku-cms-factory-element.edit.typeProduct")},{value:"stream",label:this.$tc("aku-cms-factory-element.edit.typeStream")},{value:"color",label:this.$tc("aku-cms-factory-element.edit.typeColor")},{value:"choice",label:this.$tc("aku-cms-factory-element.edit.typeChoice")},{value:"checkbox",label:this.$tc("aku-cms-factory-element.edit.typeCheckbox")},{value:"custom-entity",label:this.$tc("aku-cms-factory-element.edit.typeCustomEntity")}];return e.push({value:"repeater",label:this.$tc("aku-cms-factory-element.edit.typeRepeater")}),e},allow_choices(){return"choice"==this.type},allow_default_value(){return -1===["media","gallery","manufacturer","custom-entity","repeater","category","product","color","stream","checkbox"].indexOf(this.type)},allow_input_required(){return -1<["text","textarea"].indexOf(this.type)},allow_children_depth(){return -1<["category"].indexOf(this.type)&&-1<this.associations.indexOf("children")},name_pattern(){return"category"==this.type?"cat[a-z0-9_]*":"choice"==this.type?"choice[a-z0-9_]*":"checkbox"==this.type?"bool[a-z0-9_]*":"color"==this.type?"color[a-z0-9_]*":"media"==this.type?"med[a-z0-9_]*":"manufacturer"==this.type?"man[a-z0-9_]*":"custom-entity"==this.type?"cus[a-z0-9_]*":"product"==this.type?"prod[a-z0-9_]*":"stream"==this.type?"stream[a-z0-9_]*":"gallery"==this.type?"gallery[a-z0-9_]*":"repeater"==this.type?"rep[a-z0-9_]*":"text[a-z0-9_]*"},association_choices(){let e=this,t=[],r=[];return"category"==this.type&&(r=["media","custom_fields","children","children.media","children.custom_fields","products","products.cover","products.media","products.custom_fields","products.children","products.children.cover","products.children.media","products.children.custom_fields"]),"media"==this.type&&(r=["custom_fields"]),"manufacturer"==this.type&&(r=["media","custom_fields"]),"gallery"==this.type&&(r=["custom_fields"]),"product"==this.type&&(r=["cover","media","custom_fields","properties","children","children.cover","children.media","children.custom_fields","crossSellings.assignedProducts","crossSellings.assignedProducts.product.cover","crossSellings.assignedProducts.product.media","crossSellings.assignedProducts.product.custom_fields"]),r.forEach(function(r){let n=r.split(".").join("_");"product"==e.type?n="product_"+n:"category"==e.type?n="category_"+n:"media"==e.type||"gallery"==e.type?n="media_"+n:"manufacturer"==e.type&&(n="manufacturer_"+n),t.push({value:r,label:e.$tc("aku-cms-factory-element.edit.association_"+n)})}),t},default_value_choices:function(){return"checkbox"==this.type?[{name:this.$tc("aku-cms-factory-element.edit.label_unchecked"),value:!1},{name:this.$tc("aku-cms-factory-element.edit.label_checked"),value:!0}]:[]}},methods:{save(){let e={name:null,label:null,choices:null},t=RegExp("^"+this.name_pattern+"$");if(""==this.name.trim()?e.name={detail:this.$tc("aku-cms-factory-element.edit.inputRequired")}:t.test(this.name)||("media"==this.type?e.name={detail:this.$tc("aku-cms-factory-element.edit.fieldNameRulesErrorMedia")}:"manufacturer"==this.type?e.name={detail:this.$tc("aku-cms-factory-element.edit.fieldNameRulesErrorManufacturer")}:"custom-entity"==this.type?e.name={detail:this.$tc("aku-cms-factory-element.edit.fieldNameRulesErrorCustomEntity")}:"gallery"==this.type?e.name={detail:this.$tc("aku-cms-factory-element.edit.fieldNameRulesErrorGallery")}:"checkbox"==this.type?e.name={detail:this.$tc("aku-cms-factory-element.edit.fieldNameRulesErrorCheckbox")}:"category"==this.type?e.name={detail:this.$tc("aku-cms-factory-element.edit.fieldNameRulesErrorCategory")}:"repeater"==this.type?e.name={detail:this.$tc("aku-cms-factory-element.edit.fieldNameRulesErrorRepeater")}:"product"==this.type?e.name={detail:this.$tc("aku-cms-factory-element.edit.fieldNameRulesErrorProduct")}:"color"==this.type?e.name={detail:this.$tc("aku-cms-factory-element.edit.fieldNameRulesErrorColor")}:"choice"==this.type?e.name={detail:this.$tc("aku-cms-factory-element.edit.fieldNameRulesErrorChoice")}:"stream"==this.type?e.name={detail:this.$tc("aku-cms-factory-element.edit.fieldNameRulesErrorStream")}:e.name={detail:this.$tc("aku-cms-factory-element.edit.fieldNameRulesErrorText")}),""==this.label.trim()&&(e.label={detail:this.$tc("aku-cms-factory-element.edit.inputRequired")}),"choice"==this.type){if(""==this.choices.trim())e.choices={detail:this.$tc("aku-cms-factory-element.edit.inputRequired")};else try{JSON.parse(this.choices)}catch(t){e.choices={detail:this.$tc("aku-cms-factory-element.edit.fieldChoiceRulesErrorJson")}}}for(let t in e)if(null!=e[t]){this.errors=e;return}let r=null,n=null;"custom-entity"===this.type&&(this.associations_string&&this.associations_string.trim().length>0&&(this.associations=this.associations_string.split(",")),r=this.entity,n=this.entityLabelProperty),this.$emit("saved",{id:this.field.id,parent_id:this.field.parent_id,children:"repeater"==this.type&&Array.isArray(this.field.children)?this.field.children:[],type:this.type,name:this.name.trim(),label:this.label,choices:this.choices,defaultValue:this.defaultValue,associations:this.associations,fieldMaxlength:this.fieldMaxlength,childrenDepth:this.childrenDepth,entity:r,entityLabelProperty:n})},resetErrors(){this.errors={name:null,label:null,choices:null}},load(){this.resetErrors(),this.type=this.field.hasOwnProperty("type")?this.field.type:"text",this.name=this.field.hasOwnProperty("name")?this.field.name:"",this.label=this.field.hasOwnProperty("label")?this.field.label:"",this.choices=this.field.hasOwnProperty("choices")?this.field.choices:"",this.defaultValue=this.field.hasOwnProperty("defaultValue")?this.field.defaultValue:"",this.associations=this.field.hasOwnProperty("associations")?this.field.associations:[],this.fieldMaxlength=this.field.hasOwnProperty("fieldMaxlength")?this.field.fieldMaxlength:null,this.childrenDepth=this.field.hasOwnProperty("childrenDepth")?this.field.childrenDepth:1,this.entity=this.field.hasOwnProperty("entity")?this.field.entity:null,this.entityLabelProperty=this.field.hasOwnProperty("entityLabelProperty")?this.field.entityLabelProperty:null,this.associations_string=this.field.hasOwnProperty("associations")?this.field.associations.join(","):null}},watch:{field(){this.load()}},created(){this.load()}}),Shopware.Component.register("aku-cms-factory-element-multicheckbox",{template:'<div class="sw-field sw-block-field sw-field--default">\n    <div class="sw-field__label">\n        <label for="sw-field--label" class="">{{ label }}</label>\n        <sw-help-text class="sw-field__help-text" :text="helpText" v-if="helpText"></sw-help-text>\n    </div>\n    <sw-checkbox-field\n            v-for="row in model"\n            :key="row.key"\n            :label="row.label"\n            v-model:value="row.checked" />\n</div>',props:["label","helpText","value","options"],data:function(){return{model:[]}},methods:{setModel:function(){let e=[],t=this;this.options.forEach(function(r){e.push({label:r.label,key:r.value,checked:-1<t.value.indexOf(r.value)})}),this.model=e},save:function(){let e=[];this.model.forEach(function(t){t.checked&&e.push(t.key)}),console.log(e),this.$emit("update:value",e)}},created:function(){this.setModel()},watch:{options:function(){this.setModel()},model:function(){this.save()}}}),Shopware.Module.register("aku-cms-factory-element",{type:"plugin",name:"CmsFactoryElement",title:"aku-cms-factory-element.list.title",description:"Cms Factory Elements",color:"#62ff80",routes:{overview:{component:"aku-cms-factory-element-list",path:"overview"},import:{component:"aku-cms-factory-element-import",path:"import"},detail:{component:"aku-cms-factory-element-edit",path:"detail/:id",meta:{parentPath:"aku.cms.factory.element.overview"}},create:{component:"aku-cms-factory-element-create",path:"create",meta:{parentPath:"aku.cms.factory.element.overview"}}},navigation:[{label:"aku-cms-factory-element.list.title",color:"#62ff80",path:"aku.cms.factory.element.overview",parent:"sw-content"}]}),r(787),Shopware.Component.register("sw-cms-preview-aku-cms-factory",{template:'{% block sw_cms_preview_aku_cms_factory %}\r\n<div class="sw-cms-preview-aku-cms-factory">\r\n    <div class="upperpart">\r\n        <div class="leftpart"></div>\r\n        <div class="rightpart">\r\n            <div class="multigrid ">\r\n            </div>\r\n            <div class="multigrid">\r\n            </div>\r\n            <div class="multigrid">\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="lowerpart"></div>\r\n</div>\r\n{% endblock %}'}),Shopware.Component.register("sw-cms-block-aku-cms-factory",{template:'{% block sw_cms_block_aku_cms_factory %}\r\n    <div class="sw-cms-block-aku-cms-factory">\r\n        <slot name="content">{% block sw_cms_block_aku_cms_factory_left %}{% endblock %}</slot>\r\n    </div>\r\n{% endblock %}'}),Shopware.Service("cmsService").registerCmsBlock({name:"aku-cms-factory",label:"sw-cms.blocks.akuCmsFactory.labelLabel",category:"text",component:"sw-cms-block-aku-cms-factory",previewComponent:"sw-cms-preview-aku-cms-factory",defaultConfig:{marginBottom:"20px",marginTop:"20px",marginLeft:"20px",marginRight:"20px",sizingMode:"boxed"},slots:{content:"aku-cms-factory"}}),r(598);let{Component:P,Mixin:R}=Shopware,{Criteria:T,EntityCollection:I}=Shopware.Data;Shopware.Component.register("sw-cms-el-aku-cms-factory-config-fieldgroup",{template:'{% block sw_cms_el_aku_cms_factory_config_fieldgroup %}\r\n<div class="sw-cms-el-aku-cms-factory-config-fieldgroup">\r\n\r\n            \r\n\r\n    <div v-for="field in fields">\r\n\r\n        <aku-cms-factory-text-field \r\n            v-if="\'text\' == field.type"\r\n            :label="field.label" \r\n            small\r\n            v-model:value="configValues[field.name]"\r\n            :maxlength="getFieldMaxlength(field)"\r\n            @update:value="save"\r\n            >\r\n        </aku-cms-factory-text-field>\r\n\r\n        <aku-cms-factory-textarea-field\r\n            v-if="\'textarea\' == field.type"\r\n            :label="field.label"\r\n            v-model:value="configValues[field.name]"\r\n            small\r\n            :maxlength="getFieldMaxlength(field)"\r\n            @update:value="save"\r\n            >\r\n        </aku-cms-factory-textarea-field>\r\n\r\n        <sw-text-editor\r\n            v-if="\'text-editor\' == field.type"\r\n            :label="field.label"\r\n            v-model:value="configValues[field.name]"\r\n            @update:value="save"\r\n            >\r\n        </sw-text-editor>\r\n\r\n        <sw-entity-single-select\r\n            v-if="\'category\' == field.type"\r\n            :label="field.label"\r\n            entity="category"\r\n            class="sw-cms-el-aku-cms-factory-config__category-select"\r\n            @update:value="(evt) => saveSingleId(evt, field.name)"\r\n            v-model:value="configValues[field.name]">\r\n            <template #selection-label-property="{ item }">\r\n                <sw-product-variant-info\r\n                    :variations="item.variation">\r\n                    <span v-if="item.breadcrumb" v-html="item.breadcrumb.join(\'/\')"></span>\r\n                    <span v-if="!item.breadcrumb" v-html="item.translated.name || item.name"></span>\r\n                    <span v-if="item.productNumber"> ({{ item.productNumber}})</span>\r\n                </sw-product-variant-info>\r\n            </template>\r\n            <template #result-item="{ item, index }">\r\n                <li is="sw-select-result" v-bind="{ item, index }">\r\n\r\n                    {% block sw_entity_single_select_base_results_list_result_label %}\r\n                        <span class="sw-select-result__result-item-text">\r\n                            <sw-product-variant-info :variations="item.variation">\r\n                                <span v-if="item.breadcrumb" v-html="item.breadcrumb.join(\'/\')"></span>\r\n                                <span v-if="!item.breadcrumb" v-html="item.translated.name || item.name"></span>\r\n                                <span v-if="item.productNumber"> ({{ item.productNumber}})</span>\r\n                            </sw-product-variant-info>\r\n                        </span>\r\n                    {% endblock %}\r\n\r\n                </li>\r\n            </template>\r\n        </sw-entity-single-select>\r\n\r\n        <sw-colorpicker\r\n            v-if="\'color\' == field.type"\r\n            v-model:value="configValues[field.name]"\r\n            :alpha="true"\r\n            colorOutput="hex"\r\n            :zIndex="1000"\r\n            @update:value="save"\r\n        >\r\n        </sw-colorpicker>\r\n\r\n        <sw-single-select\r\n            v-if="\'choice\' == field.type"\r\n            :label="field.label"\r\n            :options="field.select_options"\r\n            v-model:value="configValues[field.name]"\r\n            @update:value="save">\r\n        </sw-single-select>\r\n\r\n        <sw-checkbox-field\r\n            v-if="\'checkbox\' == field.type"\r\n            :label="field.label"\r\n            v-model:value="configValues[field.name]"\r\n            @update:value="save">\r\n        </sw-checkbox-field>\r\n\r\n        <aku-cms-factory-gallery-field\r\n            v-if="\'gallery\' == field.type"\r\n            v-model="configValues[field.name]"\r\n            :label="field.label"\r\n            @change="save"\r\n        >\r\n        </aku-cms-factory-gallery-field>\r\n\r\n\r\n        <sw-entity-single-select\r\n            v-if="\'product\' == field.type"\r\n            :label="field.label"\r\n            entity="product"\r\n            :criteria="productCriteria"\r\n            :context="productSelectContext"\r\n            class="sw-cms-el-aku-cms-factory-config__product-select"\r\n            @update:value="(evt) => saveSingleId(evt, field.name)"\r\n            v-model:value="configValues[field.name]">\r\n            <template #selection-label-property="{ item }">\r\n                <sw-product-variant-info\r\n                    :variations="item.variation">\r\n                    <span v-if="item.breadcrumb" v-html="item.breadcrumb.join(\'/\')"></span>\r\n                    <span v-if="!item.breadcrumb" v-html="item.translated.name || item.name"></span>\r\n                    <span v-if="item.productNumber"> ({{ item.productNumber}})</span>\r\n                </sw-product-variant-info>\r\n            </template>\r\n            <template #result-item="{ item, index }">\r\n                <li is="sw-select-result" v-bind="{ item, index }">\r\n\r\n                    {% block sw_entity_single_select_base_results_list_result_label %}\r\n                        <span class="sw-select-result__result-item-text">\r\n                            <sw-product-variant-info :variations="item.variation">\r\n                                <span v-if="item.breadcrumb" v-html="item.breadcrumb.join(\'/\')"></span>\r\n                                <span v-if="!item.breadcrumb" v-html="item.translated.name || item.name"></span>\r\n                                <span v-if="item.productNumber"> ({{ item.productNumber}})</span>\r\n                            </sw-product-variant-info>\r\n                        </span>\r\n                    {% endblock %}\r\n\r\n                </li>\r\n            </template>\r\n            \r\n        </sw-entity-single-select>\r\n        <template v-if="\'stream\' == field.type" >\r\n            <sw-entity-single-select\r\n                :label="field.label"\r\n                entity="product_stream"\r\n                class="sw-cms-el-aku-cms-factory-config__product-select"\r\n                @update:value="(evt) => saveSingleId(evt, field.name)"\r\n                v-model:value="configValues[field.name]">\r\n            </sw-entity-single-select>\r\n            <div style="display:flex;justify-content:space-between;">\r\n                \r\n                <sw-single-select @update:value="(evt) => saveSingleId(evt, field.name+\'_sorting\')"  v-model:value="configValues[field.name + \'_sorting\']"\r\n                    :label="$tc(\'sw-cms.element.akuCmsFactory.config.streamSortingLabel\')"\r\n                    :options="sorting_choices"\r\n                    style="margin-right:5px;">\r\n                    \r\n                </sw-single-select>\r\n\r\n                <sw-number-field \r\n                    class="mr-1"\r\n                    numberType="int" \r\n                    :step="1" \r\n                    :min="1" \r\n                    :max="null"\r\n                    :digits="0"\r\n                    :label="$tc(\'sw-cms.element.akuCmsFactory.config.streamLimitLabel\')"\r\n                    v-model:value="configValues[field.name + \'_limit\']"\r\n                    :allowEmpty="false"\r\n                    @update:value="save"\r\n                    >\r\n                </sw-number-field>\r\n            </div>\r\n        </template>\r\n        \r\n        <sw-entity-multi-id-select\r\n            v-if="\'manufacturer\' == field.type"\r\n            :label="field.label"\r\n            :repository="manufacturerRepository"\r\n            :criteria="manufacturerCriteria"\r\n            :context="productSelectContext"\r\n            @update:value="(evt) => saveMultiId(evt, field.name)"\r\n            v-model:value="configValues[field.name]">\r\n        </sw-entity-multi-id-select>\r\n\r\n        <sw-entity-multi-id-select\r\n                v-if="\'custom-entity\' == field.type"\r\n                :label="field.label"\r\n                :repository="customEntityRepository(field.entity)"\r\n                :criteria="manufacturerCriteria"\r\n                :context="productSelectContext"\r\n                :labelProperty="field.entityLabelProperty"\r\n                @update:value="(evt) => saveMultiId(evt, field.name)"\r\n                v-model:value="configValues[field.name]">\r\n        </sw-entity-multi-id-select>\r\n\r\n        \r\n        <div v-if="\'media\' == field.type" class="media-row" >   \r\n            <div class="label">\r\n                {{field.label}}\r\n            </div>\r\n            <div class="preview">\r\n                <sw-button v-if="!configValues[field.name]" @click="openMediaModal(field)">\r\n                    Select\r\n                </sw-button>\r\n                <sw-cms-el-media-preview-aku-cms-factory \r\n                    v-if="configValues[field.name]"\r\n                    :media_id="configValues[field.name]"\r\n                    >\r\n                </sw-cms-el-media-preview-aku-cms-factory>\r\n            </div>\r\n            <div class="actions">\r\n                <sw-icon small \r\n                    class="button"\r\n                    :disabled="!configValues[field.name]"\r\n                    @click="removeMediaFromField(field)"\r\n                    name="regular-times-square">\r\n                </sw-icon>\r\n            </div>\r\n           \r\n        </div>\r\n\r\n        \r\n        <sw-cms-el-aku-cms-factory-config-repeater \r\n            v-if="\'repeater\' == field.type"\r\n            :label="field.label"\r\n            :fields="field.children"\r\n            @change="save"\r\n            v-model="configValues[field.name]" >\r\n        </sw-cms-el-aku-cms-factory-config-repeater>\r\n        \r\n    </div>\r\n\r\n    <sw-media-modal-v2\r\n        variant="full"\r\n        allow-multi-select="false"\r\n        v-if="mediaModalIsOpen"\r\n        :initial-folder-id="defaultMediaFolderId"\r\n        :entity-context="entityName"\r\n        @media-upload-remove-image="onImageRemove"\r\n        @media-modal-selection-change="onSelectionChanges"\r\n        @modal-close="mediaModalIsOpen = false"\r\n        >\r\n    </sw-media-modal-v2>\r\n</div>\r\n{% endblock %}',props:["fields","value","defaultMediaFolderId","entityName"],data(){return{test:"#fff",configValues:{},mediaModalIsOpen:!1,currentMediaField:null}},inject:["repositoryFactory"],computed:{productSelectContext(){let e=Object.assign({},Shopware.Context.api);return e.inheritance=!0,e},productCriteria(){let e=new T;return e.addAssociation("options.group"),e},mediaRepository(){return this.repositoryFactory.create("media")},categoryRepository(){return this.repositoryFactory.create("category")},manufacturerRepository(){return this.repositoryFactory.create("product_manufacturer")},manufacturerCriteria(){new T},created(){this.createdComponent()},sorting_choices(){return[{value:"name:ASC",label:this.$tc("sw-cms.element.akuCmsFactory.config.sorting_name_asc")},{value:"name:DESC",label:this.$tc("sw-cms.element.akuCmsFactory.config.sorting_name_desc")},{value:"createdAt:ASC",label:this.$tc("sw-cms.element.akuCmsFactory.config.sorting_created_at_asc")},{value:"createdAt:DESC",label:this.$tc("sw-cms.element.akuCmsFactory.config.sorting_created_at_desc")},{value:"cheapestPrice:ASC",label:this.$tc("sw-cms.element.akuCmsFactory.config.sorting_price_asc")},{value:"cheapestPrice:DESC",label:this.$tc("sw-cms.element.akuCmsFactory.config.sorting_price_desc")}]}},methods:{customEntityRepository(e){return this.repositoryFactory.create(e)},getFieldMaxlength(e){return e.hasOwnProperty("fieldMaxlength")&&null!=e.fieldMaxlength&&void 0!=e.fieldMaxlength&&!isNaN(e.fieldMaxlength)?e.fieldMaxlength.toString():""},getFieldRequired(e){return!!e.hasOwnProperty("inputRequired")&&e.inputRequired},createdComponent(){},saveSingleId(e,t){this.configValues[t]=e,this.save()},saveMultiId(e,t){this.configValues[t]=e,this.save()},save(e){let t=Object.assign({},this.configValues);this.$emit("input",t)},presetConfigValues(){let e={},t=this.value;for(var r=0;r<this.fields.length;r++){let n=this.fields[r].name,i=this.fields[r].defaultValue,a=t.hasOwnProperty(n)?t[n]:i;if("repeater"!=this.fields[r].type||Array.isArray(a)||(a=[]),"manufacturer"!=this.fields[r].type||Array.isArray(a)||(a=[]),"custom-entity"!=this.fields[r].type||Array.isArray(a)||(a=[]),e[n]=a,"stream"==this.fields[r].type){let n=this.fields[r].name+"_limit",i=t.hasOwnProperty(n)?t[n]:1;e[n]=i;let a=this.fields[r].name+"_sorting",s=t.hasOwnProperty(a)?t[a]:"name:ASC";e[a]=s}}this.configValues=e},onImageRemove(e){this.configValues[this.currentMediaField.name]="",this.save(),this.mediaModalIsOpen=!1},onSelectionChanges(e){let t=e[0];t&&t.id?this.configValues[this.currentMediaField.name]=t.id:this.configValues[this.currentMediaField.name]="",this.save(),this.mediaModalIsOpen=!1},openMediaModal(e){this.currentMediaField=e,this.mediaModalIsOpen=!0},removeMediaFromField(e){this.configValues[e.name]="",this.save()}},watch:{fields(){this.presetConfigValues()},value(){this.presetConfigValues()}},created(){this.presetConfigValues()}}),r(870),Shopware.Component.register("sw-cms-el-aku-cms-factory-config-repeater",{template:'{% block sw_cms_el_aku_cms_factory_config_repeater %}\r\n<sw-base-field class="sw-cms_el-aku-cms-factory-config-repeater"\r\n    :label="label">\r\n\r\n    <template #sw-field-input>\r\n    <div v-for="vals, idx in value">\r\n        <sw-card>\r\n             <template #title >\r\n                <div class="d-flex justify-content-between">\r\n                    <div>\r\n                        {{$tc(\'sw-cms.element.akuCmsFactory.config.rowNumber\')}} {{idx+1}}\r\n                    </div>\r\n                    <div>\r\n                        <sw-icon name="solid-chevron-up"\r\n                            :disabled="0 == idx"\r\n                             @click="moveFieldGroup(idx, idx-1)"\r\n                            class="button me-1"\r\n                            style="margin-left:5px">\r\n                        </sw-icon>\r\n                        <sw-icon name="solid-chevron-down"\r\n                            :disabled="idx >= (value.length -1) "\r\n                            @click="moveFieldGroup(idx, idx+1)"\r\n                            class="button" \r\n                            style="margin-left:5px">\r\n                        </sw-icon>\r\n                        <sw-icon name="regular-trash" color="#de294c" \r\n                            :small="true"\r\n                            @click="deleteFieldGroup(idx)"\r\n                            class="button" \r\n                            style="margin-left:5px">\r\n                        </sw-icon>\r\n                    </div>\r\n                </div>\r\n             </template>\r\n\r\n             <sw-cms-el-aku-cms-factory-config-fieldgroup\r\n                :value="getValue(idx)"\r\n                @input="(dat) => {saveFieldgroup(idx, dat)}"\r\n                @change="(dat) => {saveFieldgroup(idx, dat)}"\r\n                @update:value="(dat) => {saveFieldgroup(idx, dat)}"\r\n                :fields="fields">\r\n            </sw-cms-el-aku-cms-factory-config-fieldgroup>\r\n\r\n        </sw-card>\r\n    </div>\r\n\r\n    <sw-button @click="addFieldGroup">\r\n        <sw-icon name="regular-plus-square" ></sw-icon>\r\n        {{$tc(\'sw-cms.element.akuCmsFactory.config.add_a_row\')}}\r\n    </sw-button>\r\n    </template>\r\n\r\n\r\n</sw-base-field>\r\n{% endblock %}',props:{label:{type:String,required:!1,default:""},value:{type:Array,required:!1,default:[]},fields:{type:Array,required:!0,default:[]}},data:function(){return{confirm_delete_idx:null,new_values:[]}},computed:{getValue(){let e=this;return function(t){return e.value[t]}}},methods:{save(e){this.$emit("input",e),this.$emit("update",e),this.$emit("change",!0)},saveFieldgroup(e,t){let r=[];for(var n=0;n<this.value.length;n++)if(n==e)r.push(t);else{console.log(this.value);let e=Object.assign({},this.value[n]);r.push(e)}this.save(r)},addFieldGroup(){let e=this.value;e.push({}),this.save(e)},moveFieldGroup(e,t){if(e==t||0>t||t>=this.value.length)return;let r=[];for(var n=0;n<this.value.length;n++)n!=e&&(n==t&&t<e&&r.push(this.value[e]),r.push(this.value[n]),n==t&&t>e&&r.push(this.value[e]));this.save(r)},deleteFieldGroup(e){let t=[];for(var r=0;r<this.value.length;r++)r!=e&&t.push(this.value[r]);this.save(t)}},watch:{value(){}}}),r(75);let{Component:A,Mixin:O}=Shopware,{Criteria:V,EntityCollection:B}=Shopware.Data;Shopware.Component.register("sw-cms-el-config-aku-cms-factory",{template:'{% block sw_cms_el_config_aku_cms_factory %}\r\n<div class="sw-cms-el-config-aku-cms-factory">\r\n\r\n    \r\n    <sw-loader size="50px" \r\n        v-if="\'loading\' == current_state">\r\n    </sw-loader>\r\n\r\n    <div class="select-cms-element-type">\r\n        \r\n        <div class="select-cms-element-type--select">\r\n            <sw-entity-single-select\r\n                entity="cms_factory_element"\r\n                class="sw-cms-el-aku-cms-factory-config__element-select"\r\n                label="Element"\r\n                placeholder="Element"\r\n                :criteria="element_list_criteria"\r\n                v-model:value="element.config.cms_factory_element_id.value">\r\n            </sw-entity-single-select>\r\n        </div>\r\n    </div>\r\n\r\n\r\n    \r\n    <sw-cms-el-aku-cms-factory-config-fieldgroup\r\n        :fields="fields"\r\n        :defaultMediaFolderId="cmsPageState.defaultMediaFolderId"\r\n        :entityName="cmsPageState.entityName"\r\n        v-if="\'element_found\' == current_state"\r\n        :value="current_values"\r\n        @input="updateFieldValues"\r\n        ></sw-cms-el-aku-cms-factory-config-fieldgroup>\r\n\r\n</div>\r\n{% endblock %}',data(){return{cmsFactoryElement:null,loading:!1,current_values:{}}},mixins:[O.getByName("cms-element")],inject:["repositoryFactory"],computed:{current_state(){return this.loading?"loading":null==this.cmsFactoryElement?"no_element":"element_found"},element_list_criteria(){let e=new V;return e.addSorting(V.sort("name","ASC")),e},fields(){let e=this.cmsFactoryElement;if(null==e||null==e.fields)return[];try{let t=JSON.parse(e.fields),r=function(e){if("choice"==e.type){let t=[],r=[];try{t=JSON.parse(e.choices)}catch(e){t=[]}Array.isArray(t)?t.forEach(function(e){r.push({label:e,value:e})}):"object"==typeof t&&Object.keys(t).forEach(function(e){r.push({label:t[e],value:e})}),e.select_options=r}return"repeater"==e.type&&(e.children=e.children.map(r)),e};return t=t.map(r)}catch(e){return[]}},elementRepository(){return this.repositoryFactory.create("cms_factory_element")},cmsFactoryElementId(){return this.element.config.cms_factory_element_id.value}},created(){this.createdComponent()},methods:{async createdComponent(){await this.initElementConfig("aku-cms-factory"),this.loadCmsFactoryElement()},loadCmsFactoryElement(){let e=this;e.loading=!0,this.element.config.cms_factory_element_id.value?this.elementRepository.get(this.element.config.cms_factory_element_id.value,Shopware.Context.api,new V).then(t=>{if(e.cmsFactoryElement=t,e.loading=!1,"object"==typeof e.element.config.field_values.value)e.current_values=Object.assign({},e.element.config.field_values.value);else try{e.current_values=JSON.parse(e.element.config.field_values.value)}catch(e){}}).catch(function(t){e.loading=!1}):(e.cmsFactoryElement=null,e.loading=!1)},updateFieldValues(e){let t=Object.assign({},e);this.element.config.field_values.value=JSON.stringify(t),this.$emit("element-update",this.element)}},watch:{cmsFactoryElementId(){this.loadCmsFactoryElement()}}}),r(958),Shopware.Component.register("sw-cms-el-preview-aku-cms-factory",{template:'{% block sw_cms_el_preview_aku_cms_factory %}\r\n<div class="sw-cms-el-preview-aku-cms-factory">\r\n    <div class="upperpart">\r\n        <div class="leftpart"></div>\r\n        <div class="rightpart">\r\n            <div class="multigrid ">\r\n            </div>\r\n            <div class="multigrid">\r\n            </div>\r\n            <div class="multigrid">\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="lowerpart"></div>\r\n</div>\r\n{% endblock %}'});let{Component:D,Mixin:j}=Shopware,{Criteria:z,EntityCollection:U}=Shopware.Data;Shopware.Component.register("sw-cms-el-media-preview-aku-cms-factory",{template:'{% block sw_cms_media_preview_aku_cms_factory %}\r\n    \r\n    \r\n    <div :style="getStyle">\r\n        <sw-media-preview-v2 :source="medium" \r\n            v-if="medium"\r\n            :show-controls="false" \r\n            :autoplay="false" :use-thumbnails="true">\r\n        </sw-media-preview-v2>\r\n    </div>\r\n{% endblock %}',props:{media_id:{type:String},height:{type:Number,default:30},width:{type:Number,default:50}},inject:["repositoryFactory"],data(){return{medium:null}},computed:{mediaRepository(){return this.repositoryFactory.create("media")},getStyle(){return"width:"+this.width+"px;height:"+this.height+"px;position:relative;"}},methods:{loadMedium(){let e=this,t=RegExp("^[0-9a-fA-F]{32}$");this.medium=null,null!=this.media_id&&t.test(String(this.media_id))&&this.mediaRepository.get(this.media_id,Shopware.Context.api).then(t=>{e.medium=t})}},created(){this.loadMedium()},watch:{media_id(){this.loadMedium()}}});let{Component:Z,Mixin:q}=Shopware,{Criteria:H,EntityCollection:J}=Shopware.Data;Shopware.Component.register("sw-cms-el-category-preview-aku-cms-factory",{template:'{% block sw_cms_category_preview_aku_cms_factory %}\r\n    <div class="sw_cms_category_preview_aku_cms_factory">\r\n        <span v-if="category">{{breadcrumbs}}</span>\r\n    </div>\r\n{% endblock %}',props:{category_id:{type:String}},inject:["repositoryFactory"],data(){return{category:null}},computed:{categoryRepository(){return this.repositoryFactory.create("category")},breadcrumbs(){return this.category&&this.category.hasOwnProperty("breadcrumb")&&Array.isArray(this.category.breadcrumb)&&0<this.category.breadcrumb.length?this.category.breadcrumb.join("/"):this.category?this.category.name:"/"}},methods:{loadCategory(){let e=this,t=RegExp("^[0-9a-fA-F]{32}$");this.category=null,null!=this.category_id&&t.test(String(this.category_id))&&this.categoryRepository.get(this.category_id,Shopware.Context.api).then(t=>{e.category=t})}},created(){this.loadCategory()},watch:{category_id(){this.loadCategory()}}});let{Component:G,Mixin:W}=Shopware,{Criteria:K,EntityCollection:Q}=Shopware.Data;Shopware.Component.register("sw-cms-el-product-preview-aku-cms-factory",{template:'{% block sw_cms_product_preview_aku_cms_factory %}\n    <div class="sw_cms_product_preview_aku_cms_factory">\n        <sw-product-variant-info :variations="product.variation" v-if="product">\n            {{ product.translated.name || product.name }}<span v-if="product.productNumber"> ({{ product.productNumber}})</span>\n        </sw-product-variant-info>\n    </div>\n{% endblock %}',props:{product_id:{type:String}},inject:["repositoryFactory"],data(){return{product:null}},computed:{productRepository(){return this.repositoryFactory.create("product")},productCriteria(){let e=new K;return e.setIds([this.product_id]),e.addAssociation("options.group"),e},productSelectContext(){let e=Object.assign({},Shopware.Context.api);return e.inheritance=!0,e}},methods:{async loadData(){let e=RegExp("^[0-9a-fA-F]{32}$");this.product=null,null!=this.product_id&&e.test(String(this.product_id))&&this.productRepository.search(this.productCriteria,this.productSelectContext).then(e=>{this.product=e.first()})}},created(){this.loadData()},watch:{product_id(){this.loadData()}}});let{Component:X,Mixin:Y}=Shopware,{Criteria:ee,EntityCollection:et}=Shopware.Data;Shopware.Component.register("sw-cms-el-manufacturer-preview-aku-cms-factory",{template:'{% block sw_cms_manufacturer_preview_aku_cms_factory %}\n    <div class="sw_cms_manufacturer_preview_aku_cms_factory">\n        <ul>\n            <li v-for="manufacturer in manufacturers">\n                {{ manufacturer.translated.name }}\n            </li>\n        </ul>\n    </div>\n{% endblock %}',props:{manufacturer_id:{type:Array}},inject:["repositoryFactory"],data(){return{manufacturers:null}},computed:{manufacturerepository(){return this.repositoryFactory.create("product_manufacturer")},manufacturerCriteria(){let e=new ee;return e.setIds(this.manufacturer_id),e},manufacturerSelectContext(){let e=Object.assign({},Shopware.Context.api);return e.inheritance=!0,e}},methods:{async loadData(){this.manufacturers=null,null!=this.manufacturer_id&&Array.isArray(this.manufacturer_id)&&!(this.manufacturer_id.length<=0)&&this.manufacturerepository.search(this.manufacturerCriteria,this.manufacturerSelectContext).then(e=>{this.manufacturers=e})}},created(){this.loadData()},watch:{manufacturer_id(){this.loadData()}}});let{Component:er,Mixin:en}=Shopware,{Criteria:ei,EntityCollection:ea}=Shopware.Data;Shopware.Component.register("sw-cms-el-custom-entity-preview-aku-cms-factory",{template:'{% block sw_cms_custom_entity_preview_aku_cms_factory %}\n    <div class="sw_cms_custom_entity_preview_aku_cms_factory">\n        <ul>\n            <li v-for="entity in entities">\n                {{ entity[labelProperty] }}\n            </li>\n        </ul>\n    </div>\n{% endblock %}',props:{entityIds:{type:Array},labelProperty:{type:String},entityName:{type:String}},inject:["repositoryFactory"],data(){return{entities:null}},computed:{entityRepository(){return this.repositoryFactory.create(this.entityName)},entityCriteria(){let e=new ei;return e.setIds(this.entityIds),e},entitySelectContext(){let e=Object.assign({},Shopware.Context.api);return e.inheritance=!0,e}},methods:{async loadData(){this.entities=null,null!=this.entityIds&&Array.isArray(this.entityIds)&&!(this.entityIds.length<=0)&&this.entityRepository.search(this.entityCriteria,this.entitySelectContext).then(e=>{this.entities=e})}},created(){this.loadData()},watch:{entityIds(){this.loadData()}}});let{Component:es,Mixin:el}=Shopware,{Criteria:eo,EntityCollection:ec}=Shopware.Data;Shopware.Component.register("sw-cms-el-product-stream-preview-aku-cms-factory",{template:'{% block sw_cms_product_stream_preview_aku_cms_factory %}\n    <div class="sw_cms_product_stream_preview_aku_cms_factory">\n        <span v-if="product_stream">{{product_stream.translated.name}}</span>\n    </div>\n{% endblock %}',props:{product_stream_id:{type:String}},inject:["repositoryFactory"],data(){return{product_stream:null}},computed:{productStreamRepository(){return this.repositoryFactory.create("product_stream")}},methods:{loadData(){let e=this,t=RegExp("^[0-9a-fA-F]{32}$");this.product_stream=null,null!=this.product_stream_id&&t.test(String(this.product_stream_id))&&this.productStreamRepository.get(this.product_stream_id,Shopware.Context.api).then(t=>{e.product_stream=t})}},created(){this.loadData()},watch:{product_stream_id(){this.loadData()}}}),r(112),r(450),r(223);let{Component:ed,Mixin:em}=Shopware,{Criteria:eu,EntityCollection:ep}=Shopware.Data;Shopware.Component.register("aku-cms-factory-gallery-field",{template:'<div class="sw-cms-el-aku-cms-factory-gallery-field sw-field">\n    <div class="sw-field__label"><label>{{label}}</label></div>\n\n    <div  class="current_images" >\n        \n        <div v-for="med in media" class="image" draggable="true"\n            v-on:drop="onDrop(med)"\n            v-on:dragstart="onDragStart(med)">\n            <sw-media-preview-v2 :source="med" \n                :showControls="false" \n                :autoplay="false" :useThumbnails="true">\n            </sw-media-preview-v2>\n            \n            <div class="controls">\n                <button type="button" @click="removeImage(med)"\n                    >&times;</button>\n            </div>\n\n        </div>\n    </div>\n\n    <div style="display:flex;">\n        <sw-entity-multi-select\n            :placeholder="$tc(\'sw-cms.element.akuCmsFactory.galleryField.addImages\')"\n            :entityCollection="new_image_ids"\n            @update:entity-collection="addImageIds"\n            @change="addImageIds"\n            entity-name="media">\n            <template #selection-label-property="{ item }">\n\n                <sw-cms-el-media-preview-aku-cms-factory\n                    :height="20"\n                    :media_id="item.id"\n                    ></sw-cms-el-media-preview-aku-cms-factory>\n            </template>\n            <template #result-item="{ item, index }">\n                <div is="sw-select-result" v-bind="{ item, index }">\n\n                    {% block sw_entity_single_select_base_results_list_result_label %}\n                        <div class="sw-cms-el-aku-cms-factory-gallery-field-search-result">\n                            <sw-cms-el-media-preview-aku-cms-factory\n                                :media_id="item.id"\n                            ></sw-cms-el-media-preview-aku-cms-factory>&nbsp;\n                            {{item.fileName}}\n                        </div>\n                    {% endblock %}\n\n                </div>\n            </template>\n        </sw-entity-multi-select>\n        <div>\n            <sw-button type="button" @click="add"\n                :square="true" variant="ghost">+</sw-button>\n        </div>\n    </div>\n\n</div>',props:["value","label"],inject:["repositoryFactory"],data(){return{image_ids:[],media:[],new_image_ids:[],collection:null,entity_collection:[],dragged:null}},computed:{mediaRepository(){return this.repositoryFactory.create("media")}},methods:{addImageIds:function(e){this.new_image_ids=e},add:function(){if(0==this.new_image_ids.length)return;let e=this.image_ids;this.new_image_ids.forEach(function(t){-1==e.indexOf(t.id)&&e.push(t.id)}),this.image_ids=e,this.new_image_ids=[],this.save(),this.loadMedia()},onDragStart:function(e){this.dragged=e},onDrop:function(e){let t=this.dragged;if(!t||!e||t.id==e.id){this.dragged=null;return}let r=this.media.filter(function(e){return e.id!=t.id}),n=[];for(var i=0;i<r.length;i++)if(r[i].id==e.id&&(n.push(e),n.push(t)),r[i].id!=t.id){if(r[i].id==e.id)continue;n.push(r[i])}this.dragged=null,this.media=n,this.image_ids=n.map(function(e){return e.id}),this.save()},onDragOver:function(e){},removeImage:function(e){let t=this.image_ids;t=t.filter(function(t){return t!=e.id}),this.image_ids=t;let r=this.media.filter(function(t){return t.id!=e.id});this.media=r,this.save()},save:function(){this.$emit("input",this.image_ids),this.$emit("change")},loadMedia(){let e=this,t=RegExp("^[0-9a-fA-F]{32}$"),r=this.image_ids.filter(function(e){return t.test(String(e))});if(0==r.length){this.media=[];return}let n=new eu;n.addFilter(eu.equalsAny("id",r)),this.mediaRepository.search(n,Shopware.Context.api).then(t=>{let n=[];r.forEach(function(e){let r=t.filter(function(t){return t.id==e})[0];r&&n.push(r)}),e.media=n})}},created:function(){Array.isArray(this.value)&&(this.image_ids=this.value,this.loadMedia())}}),r(713);let{Component:ef,Mixin:eh}=Shopware,{Criteria:ey,EntityCollection:eg}=Shopware.Data;Shopware.Component.register("sw-cms-el-aku-cms-factory",{template:'{% block sw_cms_el_aku_cms_factory %}\r\n    <div class="sw-cms-el-aku-cms-factory">\r\n\r\n        \r\n        <sw-loader size="50px" v-if="\'loading\' == current_state">\r\n        </sw-loader>\r\n\r\n        \r\n        {#\r\n        <sw-grid :items="cmsFactoryElementList"\r\n            :selectable="false"\r\n            v-if="\'element_selection\' == current_state">\r\n            <template slot="columns" slot-scope="{ item }">\r\n            <sw-grid-column flex="minmax(200px, 1fr)"\r\n                :label="$tc(\'sw-cms.element.akuCmsFactory.component.selectAnElement\')"\r\n                @click="selectCmsFactoryElement(item)"\r\n                style="cursor:pointer"\r\n                >\r\n                {{ item.name }}\r\n            </sw-grid-column>\r\n            </template>\r\n        </sw-grid>\r\n        #}\r\n\r\n        \r\n        <sw-card v-if="\'no_elements\' == current_state"\r\n                 :large="true"\r\n                 :title="$tc(\'sw-cms.element.akuCmsFactory.component.no_elements\')"\r\n        >\r\n            <sw-cms-el-preview-aku-cms-factory></sw-cms-el-preview-aku-cms-factory>\r\n        </sw-card>\r\n\r\n        \r\n        <sw-card v-if="\'element_selection\' == current_state"\r\n                 :large="true"\r\n                 :title="$tc(\'sw-cms.element.akuCmsFactory.component.selectAnElement\')"\r\n        >\r\n            <sw-cms-el-preview-aku-cms-factory></sw-cms-el-preview-aku-cms-factory>\r\n        </sw-card>\r\n\r\n        \r\n        <sw-card\r\n                :title="cmsFactoryElement.name"\r\n                :hero="false"\r\n                :large="true"\r\n                v-if="\'element_defined\' == current_state"\r\n        >\r\n            <sw-grid\r\n                    :showActions="false"\r\n                    :selectable="false"\r\n                    :items="dataSource"\r\n                    :columns="columns">\r\n\r\n\r\n                <template #columns="{ item }">\r\n                    <sw-grid-column\r\n                            :label="$tc(\'sw-cms.element.akuCmsFactory.component.labelLabel\')"\r\n                            flex="minmax(200px, 1fr)"\r\n                    >\r\n                        {{ item.label }}\r\n                    </sw-grid-column>\r\n\r\n                    <sw-grid-column\r\n                            flex="minmax(200px, 1fr)"\r\n                            :label="$tc(\'sw-cms.element.akuCmsFactory.component.valueLabel\')"\r\n                    >\r\n                        <template v-if="\'media\' == item.type">\r\n                            <sw-cms-el-media-preview-aku-cms-factory\r\n                                    :height="40" :width="50"\r\n                                    v-if="item.value" :media_id="item.value"/>\r\n                        </template>\r\n                        <template v-else-if="\'text-editor\' == item.type"\r\n                        >\r\n                            <div v-html="item.value"></div>\r\n                        </template>\r\n                        <template v-else-if="\'textarea\' == item.type">\r\n                            {{ item.value }}\r\n                        </template>\r\n                        <template v-else-if="\'category\' == item.type">\r\n                            <sw-cms-el-category-preview-aku-cms-factory\r\n                                    v-if="item.value" :category_id="item.value"/>\r\n                        </template>\r\n                        <template v-else-if="\'gallery\' == item.type">\r\n                            {{ item.value.length }} {{ $tc(\'sw-cms.element.akuCmsFactory.component.galleryUnit\') }}\r\n                        </template>\r\n                        <template v-else-if="\'product\' == item.type">\r\n                            <sw-cms-el-product-preview-aku-cms-factory\r\n                                    v-if="item.value" :product_id="item.value"/>\r\n                        </template>\r\n                        <template v-else-if="\'manufacturer\' == item.type">\r\n                            <sw-cms-el-manufacturer-preview-aku-cms-factory\r\n                                    v-if="item.value" :manufacturer_id="item.value"/>\r\n                        </template>\r\n                         <template v-else-if="\'custom-entity\' == item.type">\r\n                            <sw-cms-el-custom-entity-preview-aku-cms-factory\r\n                                    v-if="item.value" :entityIds="item.value" :entityName="item.entity"\r\n                                    :labelProperty="item.entityLabelProperty"/>\r\n                        </template>\r\n                        <template v-else-if="\'stream\' == item.type">\r\n                            <sw-cms-el-product-stream-preview-aku-cms-factory\r\n                                    v-if="item.value" :product_stream_id="item.value"/>\r\n                        </template>\r\n                        <template v-else>\r\n                            {{ item.value }}\r\n                        </template>\r\n                    </sw-grid-column>\r\n\r\n                </template>\r\n\r\n            </sw-grid>\r\n        </sw-card>\r\n\r\n\r\n    </div>\r\n{% endblock %}',mixins:[eh.getByName("cms-element")],inject:["repositoryFactory"],data(){return{cmsFactoryElementList:[],cmsFactoryElement:null,cmsFactoryElementLoading:!1}},computed:{current_state(){return this.cmsFactoryElementLoading?"loading":null!==this.cmsFactoryElement?"element_defined":0==this.cmsFactoryElementList.length?"no_elements":"element_selection"},elementRepository(){return this.repositoryFactory.create("cms_factory_element")},columns(){return[{property:"label",label:this.$tc("aku-cms-factory-element.component.labelLabel")},{property:"value",label:this.$tc("aku-cms-factory-element.component.valueLabel")}]},dataSource(){if(!this.cmsFactoryElement)return[];let e=JSON.parse(this.cmsFactoryElement.fields);null===e&&(e=[]);let t=this.element.config.field_values?this.element.config.field_values.value:{};if("string"==typeof t)try{t=JSON.parse(t)}catch(e){t={}}return this.preRender(),this.getValues(e,t)},cmsFactoryElementId(){return this.element.config&&this.element.config.cms_factory_element_id?this.element.config.cms_factory_element_id.value:""},elementor(){return this.element}},created(){this.createdComponent()},methods:{createdComponent(){this.initElementConfig("aku-cms-factory"),this.loadCmsFactoryElement()},loadCmsFactoryElementList(){let e=this;this.cmsFactoryElementLoading=!0,this.elementRepository.search(new ey,Shopware.Context.api).then(function(t){e.cmsFactoryElementList=t,e.cmsFactoryElementLoading=!1}).catch(function(t){e.cmsFactoryElementLoading=!1})},loadCmsFactoryElement(){let e=this;this.cmsFactoryElementId?(this.cmsFactoryElementLoading=!0,this.elementRepository.get(this.cmsFactoryElementId,Shopware.Context.api,new ey).then(t=>{e.cmsFactoryElement=t,e.cmsFactoryElementLoading=!1,null==t&&this.loadCmsFactoryElementList()}).catch(function(t){e.cmsFactoryElementLoading=!1})):(this.cmsFactoryElement=null,this.loadCmsFactoryElementList())},getChoiceLabel(e,t){let r=[];try{r=JSON.parse(e.choices)}catch(e){r=[]}if(Array.isArray(r));else for(let e in r)if(t==r[e])return e;return t},getValues(e,t,r){let n=this,i=[];return void 0===r&&(r=""),e.forEach(function(e){let a=e.defaultValue,s=t.hasOwnProperty(e.name)?t[e.name]:a;if("repeater"==e.type)for(var l=0;l<s.length;l++){let t=s[l],a=`${r}${e.label}[${l}].`;n.getValues(e.children,t,a).forEach(function(e){i.push(e)})}else"custom-entity"===e.type?i.push({name:r+e.name,label:r+e.label,value:s,type:e.type,entity:e.entity,entityLabelProperty:e.entityLabelProperty}):("choice"==e.type&&(s=n.getChoiceLabel(e,s)),i.push({name:r+e.name,label:r+e.label,value:s,type:e.type}))}),i},async preRender(){this.cmsFactoryElement&&(this.cmsFactoryElement.twig,JSON.parse(this.cmsFactoryElement.fields),this.element.config.field_values&&this.element.config.field_values.value)},selectCmsFactoryElement(e){this.element.config.cms_factory_element_id.value=e.id}},watch:{cmsFactoryElementId(){let e=this.cmsFactoryElementId;e&&!this.cmsFactoryElementLoading&&(!this.cmsFactoryElement||this.cmsFactoryElement.id!=e)&&this.loadCmsFactoryElement()}}}),Shopware.Service("cmsService").registerCmsElement({name:"aku-cms-factory",label:"sw-cms.element.akuCmsFactory.labelLabel",component:"sw-cms-el-aku-cms-factory",configComponent:"sw-cms-el-config-aku-cms-factory",previewComponent:"sw-cms-el-preview-aku-cms-factory",defaultConfig:{field_values:{source:"static",value:""},cms_factory_element_id:{source:"static",value:""}}});var ev=JSON.parse('{"aku-cms-factory-element":{"list":{"title":"CMS Factory Elemente","columnName":"Name","columnSlug":"Slug","addButtonText":"Neu","importButtonText":"Import","searchPlaceholderText":"Suche CMS-Factory-Element"},"edit":{"elementTreeHeadline":"Eingabe-Set","modalTitle":"Eingabefeld","noItems":"Noch keine Elemente","elementNameLabel":"Element Bezeichnung","createSub":"Sub-Element erstellen","templateLabel":"Template","templateHelp":"Sie k\xf6nnen TWIG-Syntax benutzen.","cancelButtonText":"Zur\xfcck","saveButtonText":"Speichern","inputRequired":"Eingabe erforderlich","childrenDepthLabelLabel":"Tiefe Unterkategorien","childrenDepthLabelHelp":"Wie viele Unterkategorie-Ebenen","fieldNameRulesErrorText":"Muss mit \'text\' beginnen und darf nur Buchstaben, Zahlen und Unterstrich enthalten","fieldNameRulesErrorCheckbox":"Muss mit \'bool\' beginnen und darf nur Buchstaben, Zahlen und Unterstrich enthalten","fieldNameRulesErrorMedia":"Muss mit \'med\' beginnen und darf nur Buchstaben, Zahlen und Unterstrich enthalten","fieldNameRulesErrorManufacturer":"Muss mit \'man\' beginnen und darf nur Buchstaben, Zahlen und Unterstrich enthalten","fieldNameRulesErrorGallery":"Muss mit \'gallery\' beginnen und darf nur Buchstaben, Zahlen und Unterstrich enthalten","fieldNameRulesErrorCategory":"Muss mit \'cat\' beginnen und darf nur Buchstaben, Zahlen und Unterstrich enthalten","fieldNameRulesErrorRepeater":"Muss mit \'rep\' beginnen und darf nur Buchstaben, Zahlen und Unterstrich enthalten","fieldNameRulesErrorColor":"Muss mit \'color\' beginnen und darf nur Buchstaben, Zahlen und Unterstrich enthalten","fieldNameRulesErrorProduct":"Muss mit \'prod\' beginnen und darf nur Buchstaben, Zahlen und Unterstrich enthalten","fieldNameRulesErrorChoice":"Muss mit \'choice\' beginnen und darf nur Buchstaben, Zahlen und Unterstrich enthalten","fieldNameRulesErrorStream":"Muss mit \'stream\' beginnen und darf nur Buchstaben, Zahlen und Unterstrich enthalten","fieldNameRulesErrorCustomEntity":"Muss mit \'cus\' beginnen und darf nur Buchstaben, Zahlen und Unterstrich enthalten","fieldNamePlaceholder":"Erlaubt: Buchstaben, Zahlen, Unterstrich","fieldsRequired":"Noch keine Eingabefelder definiert.","fieldNameDuplicates":"Folgende Feldnamen werden doppelt verwendet:","inputRequiredLabel":"Eingabe erforderlich","label_unchecked":"Nicht ausgew\xe4hlt (false)","label_checked":"Ausge\xe4hlt (true)","labelLabel":"Bezeichnung","acceptLabel":"\xdcbernehmen","removeLabel":"L\xf6schen","nameLabel":"Feldname","associationsLabel":"Zusatz-Inhalte laden (Associations)","associationsHelp":"Bei Bedarf stehen im Frontend Zusatzinhalte wie Bilder oder Kind-Elemente zur Verf\xfcgung.","nameHelp":"Mit diesem Namen referenziert im Ausgabe-Template.","defaultValueLabel":"Default-Wert","fieldRequiredLabel":"Eingabe erforderlich","fieldMaxlengthLabel":"Maximale L\xe4nge","fieldMaxlengthHelp":"Maximale Anzahl Zeichen. Leer == unlimittiert.","templateRequired":"Template ist erforderlich f\xfcr die Anzeige im Frontend. Siehe Beispiel-Template.","templateParsingErrors":"Das Template hat Fehler, Syntax pr\xfcfen.","typeLabel":"Eingabe-Typ","typeText":"Text","typeTextarea":"Textarea","typeTextEditor":"HTML-Texteditor","typeMedia":"Media","typeManufacturer":"Hersteller","typeGallery":"Galerie","typeCategory":"Kategorie","typeRepeater":"Wiederholung","typeChoice":"Auswahl","typeProduct":"Produkt","typeColor":"Farbe","typeCheckbox":"Checkbox","typeStream":"Dynamische Produktgruppe","typeCustomEntity":"Eigene Entity","showSampleTemplate":"Beispiel-Template anzeigen","useSampleTemplate":"Beispiel-Template \xfcbernehmen","noFields":"Noch keine Felder erstellt","errorTitle":"Fehler beim Speichern","errorName":"Name ist erforderlich","errorRender":"Template-Pr\xfcfung ergab Fehler","choicesLabel":"Wahlm\xf6glichkeiten (JSON Array oder Objekt)","choicesPlaceholder":"[\\"abc\\", \\"def\\"]","association_media_custom_fields":"Zusatzfelder","association_manufacturer_media":"Bild","association_manufacturer_custom_fields":"Zusatzfelder","association_category_cover":"Hauptbild","association_category_media":"Bilder","association_category_custom_fields":"Zusatzfelder","association_category_children":"Unterkategorien","association_category_children_custom_fields":"Unterkategorien - Zusatzfelder","association_category_children_media":"Unterkategorien - Bilder","association_category_products":"Produkte","association_category_products_cover":"Produkte - Hauptbild","association_category_products_media":"Produkte - Bilder","association_category_products_custom_fields":"Produkte - Zusatzfelder","association_category_products_children":"Produktvarianten","association_category_products_children_cover":"Produktvarianten - Hauptbild","association_category_products_children_media":"Produktvarianten - Bilder","association_category_products_children_custom_fields":"Produktvarianten - Zusatzfelder","association_product_cover":"Hauptbild","association_product_media":"Bilder","association_product_custom_fields":"Zusatzfelder","association_product_children":"Produktvarianten","association_product_children_custom_fields":"Produktvarianten - Zusatzfelder","association_product_children_cover":"Produktvarianten - Hauptbild","association_product_children_media":"Produktvarianten - Bilder","association_product_crossSellings_assignedProducts":"Cross-Selling-Produkte","association_product_crossSellings_assignedProducts_product_cover":"Cross-Selling-Produkte - Hauptbild","association_product_crossSellings_assignedProducts_product_media":"Cross-Selling-Produkte - Bilder","association_product_crossSellings_assignedProducts_product_custom_fields":"Cross-Selling-Produkten - Zusatzfelder","association_product_properties":"Eigenschaften","customEntityLabel":"Entit\xe4tsname","customEntityLabelPropertyLabel":"Eigenschaft zur Anzeige in Auswahl"},"component":{"labelLabel":"Bezeichnung","valueLabel":"Value"},"import":{"fileFieldLabel":"JSON-Datei w\xe4hlen ...","importContentLabel":"... oder direkt JSON hier eingeben","importButtonText":"Importieren","importErrorPropertyNameMissing":"Property `name` fehlt, muss ein String sein.","importErrorPropertyFieldsMissing":"Property `fields` fehlt,  muss ein Array sein.","importErrorPropertyTwigMissing":"Property `twig` fehlt, muss ein String sein."}}}'),e_=JSON.parse('{"aku-cms-factory-element":{"list":{"title":"CMS Factory Elements","columnName":"Name","columnSlug":"Slug","addButtonText":"New","importButtonText":"Import","searchPlaceholderText":"Search CMS Factory element"},"edit":{"elementTreeHeadline":"Input Field Set","modalTitle":"Input field","createSub":"Create sub-element","noItems":"No elements","elementNameLabel":"Element name","templateLabel":"Template","templateHelp":"TWIG-Syntax enabled.","cancelButtonText":"Back","saveButtonText":"Save","inputRequired":"Input required","childrenDepthLabelLabel":"Subcategory Depth","childrenDepthLabelHelp":"Number of subcategory levels","fieldNameRulesErrorText":"Must begin with \'text\' and must only contain letters, numbers or underline.","fieldNameRulesErrorCheckbox":"Must begin with \'bool\' and must only contain letters, numbers or underline.","fieldNameRulesErrorMedia":"Must begin with \'med\' and must only contain letters, numbers or underline.","fieldNameRulesErrorManufacturer":"Must begin with \'man\' and must only contain letters, numbers or underline.","fieldNameRulesErrorGallery":"Must begin with \'gallery\' and must only contain letters, numbers or underline.","fieldNameRulesErrorCategory":"Must begin with \'cat\' and must only contain letters, numbers or underline.","fieldNameRulesErrorRepeater":"Must begin with \'rep\' and must only contain letters, numbers or underline.","fieldNameRulesErrorColor":"Must begin with \'color\' and must only contain letters, numbers or underline.","fieldNameRulesErrorProduct":"Must begin with \'prod\' and must only contain letters, numbers or underline.","fieldNameRulesErrorChoice":"Must begin with \'choice\' and must only contain letters, numbers or underline.","fieldNameRulesErrorStream":"Must begin with \'stream\' and must only contain letters, numbers or underline.","fieldNameRulesErrorCustomEntity":"Must begin with \'cus\' and must only contain letters, numbers or underline.","fieldNamePlaceholder":"Allowed: letters, numbers, underline","fieldNameDuplicates":"There are field name duplicates","inputRequiredLabel":"Input required","fieldsRequired":"No input fields defined.","labelLabel":"Label","label_unchecked":"Not checked (false)","label_checked":"Checked (true)","acceptLabel":"Accept","removeLabel":"Remove","nameLabel":"Field name","nameHelp":"Used as reference in the output template.","defaultValueLabel":"Default value","fieldRequiredLabel":"Input required","fieldMaxlengthLabel":"Max. length","fieldMaxlengthHelp":"Max. number of chars. Leave empty for no limit.","templateRequired":"Template required for frontend display. See sample template.","templateParsingErrors":"Template parsing failed, check syntax.","typeLabel":"Field type","associationsLabel":"Load associations","associationsHelp":"Associated contents such as images or child elements are loaded if required","typeText":"Text","typeTextarea":"Textarea","typeTextEditor":"HTML-Texteditor","typeMedia":"Media","typeManufacturer":"Manufacturer","typeGallery":"Gallery","typeCategory":"Category","typeRepeater":"Repeater","typeChoice":"Choice","typeProduct":"Product","typeColor":"Color","typeCheckbox":"Checkbox","typeStream":"Dynamic Product Group","typeCustomEntity":"Custom Entity","showSampleTemplate":"Show sample template","useSampleTemplate":"Use sample template","noFields":"No fields created yet","errorTitle":"Error saving","errorName":"Name is required","errorRender":"Errors found in template check","choicesLabel":"Choices (JSON array or object)","choicesPlaceholder":"[\\"abc\\", \\"def\\"]","association_media_custom_fields":"Custom Fields","association_manufacturer_media":"Media","association_manufacturer_custom_fields":"Custom Fields","association_category_cover":"Cover","association_category_media":"Media","association_category_custom_fields":"Custom Fields","association_category_children":"Subcategories","association_category_children_custom_fields":"Subcategories - Custom Fields","association_category_children_media":"Subcategories - Media","association_category_products":"Products","association_category_products_cover":"Products - Cover","association_category_products_media":"Products - Media","association_category_products_custom_fields":"Products - Custom Fields","association_category_products_children":"Productvariants","association_category_products_children_cover":"Productvariants - Cover","association_category_products_children_media":"Productvariants - Media","association_category_products_children_custom_fields":"Productvariants - Custom Fields","association_product_cover":"Cover","association_product_media":"Media","association_product_custom_fields":"Custom Fields","association_product_children":"Variants","association_product_children_cover":"Variants - Cover","association_product_children_media":"Variants - Media","association_product_children_custom_fields":"Variants - Custom Fields","association_product_crossSellings_assignedProducts":"Cross-Selling Products","association_product_crossSellings_assignedProducts_product_cover":"Cross-Selling Products - Cover","association_product_crossSellings_assignedProducts_product_media":"Cross-Selling Products - Media","association_product_crossSellings_assignedProducts_product_custom_fields":"Cross-Selling Products - Custom Fields","association_product_properties":"Properties","customEntityLabel":"Entity Name","customEntityLabelPropertyLabel":"Label Property"},"component":{"labelLabel":"Label","valueLabel":"Value"},"import":{"fileFieldLabel":"Select a JSON file ...","importContentLabel":"... or insert JSON content","importButtonText":"Import","importErrorPropertyNameMissing":"Property `name` is missing, must be a string.","importErrorPropertyFieldsMissing":"Property `fields` is missing, must be an array.","importErrorPropertyTwigMissing":"Property `twig` is missing,  must be a string."}}}'),eb=JSON.parse('{"sw-cms":{"blocks":{"akuCmsFactory":{"labelLabel":"CMS Factory"}},"element":{"akuCmsFactory":{"labelLabel":"CMS Factory","config":{"add_a_row":"Zeile hinzuf\xfcgen","rowNumber":"Zeile","element_not_found":"Element nicht gefunden. Konfiguration schliessen und Element w\xe4hlen.","streamLimitLabel":"Maximale Anzahl Produkte","streamSortingLabel":"Sortierung","sorting_name_asc":"Name aufsteigend","sorting_name_desc":"Name absteigend","sorting_created_at_asc":"Erstellt aufsteigend","sorting_created_at_desc":"Erstellt absteigend","sorting_price_asc":"Preis aufsteigend","sorting_price_desc":"Preis absteigend"},"component":{"selectAnElement":"CMS Factory Element ausw\xe4hlen","no_elements":"Noch keine Elemente, siehe Inhalte > CMS Element Factory","labelLabel":"Bezeichnung","valueLabel":"Wert","galleryUnit":"Bilder"},"galleryField":{"addImages":"Bilder hinzuf\xfcgen"}}}}}'),ew=JSON.parse('{"sw-cms":{"blocks":{"akuCmsFactory":{"labelLabel":"CMS Factory"}},"element":{"akuCmsFactory":{"labelLabel":"CMS Factory","config":{"add_a_row":"Add a row","rowNumber":"Row","element_not_found":"Element not found. Close config and select from List.","streamLimitLabel":"Maximum number of products","streamSortingLabel":"Sorting","sorting_name_asc":"Name ascending","sorting_name_desc":"Name descending","sorting_created_at_asc":"Created date ascending","sorting_created_at_desc":"Created date descending","sorting_price_asc":"Price ascending","sorting_price_desc":"Price descending"},"component":{"selectAnElement":"Open config and select CMS Factory element","no_elements":"No elements yet, see Content > CMS Element Factory","labelLabel":"Label","valueLabel":"Value","galleryUnit":"Images"},"galleryField":{"addImages":"add Images"}}}}}');Shopware.Locale.extend("de-DE",ev),Shopware.Locale.extend("en-GB",e_),Shopware.Locale.extend("de-DE",eb),Shopware.Locale.extend("en-GB",ew)}()})();