!function(){var e={341:function(){},968:function(){},42:function(){},469:function(){},969:function(){},792:function(){let{Module:e}=Shopware;e.register("acris-discount-group-customer-tab",{routeMiddleware(e,t){"sw.customer.detail"===t.name&&t.children.push({name:"acris.discount.group.customer.tab",path:"/sw/customer/detail/:id/discount-group",component:"acris-discount-group-customer-tab",meta:{parentPath:"sw.customer.index"}}),e(t)}})},979:function(){let{Module:e}=Shopware;e.register("acris-discount-group-product-tab",{routeMiddleware(e,t){"sw.product.detail"===t.name&&t.children.push({name:"acris.discount.group.product.tab",path:"/sw/product/detail/:id/discount-group",component:"acris-discount-group-product-tab",meta:{parentPath:"sw.product.index"}}),e(t)}})},305:function(){Shopware.Component.override("sw-import-export-edit-profile-general",{created(){this.supportedEntities=this.supportedEntities.push(this.discountGroupEntity)},data(){return{discountGroupEntity:{value:"acris_discount_group",label:this.$tc("acris-discount-group.import-export-profile.discountGroupLabel"),type:"import-export"}}}})},922:function(e,t,i){var n=i(341);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals),(0,i(534).A)("2ccf9cf0",n,!0,{})},625:function(e,t,i){var n=i(968);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals),(0,i(534).A)("b2fa22c8",n,!0,{})},687:function(e,t,i){var n=i(42);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals),(0,i(534).A)("944b009c",n,!0,{})},998:function(e,t,i){var n=i(469);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals),(0,i(534).A)("585f9a2d",n,!0,{})},410:function(e,t,i){var n=i(969);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals),(0,i(534).A)("477e64e0",n,!0,{})},534:function(e,t,i){"use strict";function n(e,t){for(var i=[],n={},o=0;o<t.length;o++){var s=t[o],r=s[0],c={id:e+":"+o,css:s[1],media:s[2],sourceMap:s[3]};n[r]?n[r].parts.push(c):i.push(n[r]={id:r,parts:[c]})}return i}i.d(t,{A:function(){return _}});var o,s="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!s)throw Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var r={},c=s&&(document.head||document.getElementsByTagName("head")[0]),a=null,l=0,u=!1,d=function(){},p=null,m="data-vue-ssr-id",g="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function _(e,t,i,o){u=i,p=o||{};var s=n(e,t);return b(s),function(t){for(var i=[],o=0;o<s.length;o++){var c=r[s[o].id];c.refs--,i.push(c)}t?b(s=n(e,t)):s=[];for(var o=0;o<i.length;o++){var c=i[o];if(0===c.refs){for(var a=0;a<c.parts.length;a++)c.parts[a]();delete r[c.id]}}}}function b(e){for(var t=0;t<e.length;t++){var i=e[t],n=r[i.id];if(n){n.refs++;for(var o=0;o<n.parts.length;o++)n.parts[o](i.parts[o]);for(;o<i.parts.length;o++)n.parts.push(f(i.parts[o]));n.parts.length>i.parts.length&&(n.parts.length=i.parts.length)}else{for(var s=[],o=0;o<i.parts.length;o++)s.push(f(i.parts[o]));r[i.id]={id:i.id,refs:1,parts:s}}}}function h(){var e=document.createElement("style");return e.type="text/css",c.appendChild(e),e}function f(e){var t,i,n=document.querySelector("style["+m+'~="'+e.id+'"]');if(n){if(u)return d;n.parentNode.removeChild(n)}if(g){var o=l++;t=y.bind(null,n=a||(a=h()),o,!1),i=y.bind(null,n,o,!0)}else t=T.bind(null,n=h()),i=function(){n.parentNode.removeChild(n)};return t(e),function(n){n?(n.css!==e.css||n.media!==e.media||n.sourceMap!==e.sourceMap)&&t(e=n):i()}}var v=(o=[],function(e,t){return o[e]=t,o.filter(Boolean).join("\n")});function y(e,t,i,n){var o=i?"":n.css;if(e.styleSheet)e.styleSheet.cssText=v(t,o);else{var s=document.createTextNode(o),r=e.childNodes;r[t]&&e.removeChild(r[t]),r.length?e.insertBefore(s,r[t]):e.appendChild(s)}}function T(e,t){var i=t.css,n=t.media,o=t.sourceMap;if(n&&e.setAttribute("media",n),p.ssrId&&e.setAttribute(m,t.id),o&&(i+="\n/*# sourceURL="+o.sources[0]+" */",i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}}},t={};function i(n){var o=t[n];if(void 0!==o)return o.exports;var s=t[n]={id:n,exports:{}};return e[n](s,s.exports,i),s.exports}i.d=function(e,t){for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="bundles/acrisdiscountgroupcs/",window?.__sw__?.assetPath&&(i.p=window.__sw__.assetPath+"/bundles/acrisdiscountgroupcs/"),function(){"use strict";i(410);let{Component:e,Mixin:t}=Shopware,{Criteria:n}=Shopware.Data;e.register("acris-discount-group-list",{template:'{% block acris_discount_group_list %}\n\n<sw-page class="acris-discount-group-list">\n    {% block acris_discount_group_list_search_bar %}\n        <template #search-bar>\n            <sw-search-bar :initialSearchType="$tc(\'acris-discount-group.general.initialSearchType\')"\n                           :placeholder="$tc(\'acris-discount-group.general.placeholderSearchBar\')"\n                           :initialSearch="term"\n                           @search="onSearch" id="discount-group">\n            </sw-search-bar>\n        </template>\n    {% endblock %}\n\n    {% block acris_discount_group_list_smart_bar_header %}\n        <template #smart-bar-header>\n            {% block acris_discount_group_list_smart_bar_header_title %}\n                <h2>\n                    {% block acris_discount_group_list_smart_bar_header_title_text %}\n                        {{ $tc(\'acris-discount-group.list.textHeadline\') }}\n                        {% endblock %}\n\n                        {% block acris_discount_group_list_smart_bar_header_amount %}\n                        <span v-if="!isLoading" class="sw-page__smart-bar-amount">\n                        ({{ total }})\n                        </span>\n                    {% endblock %}\n                </h2>\n            {% endblock %}\n        </template>\n    {% endblock %}\n\n    {% block acris_discount_group_list_smart_bar_actions %}\n    <template #smart-bar-actions>\n        {% block acris_discount_group_list_smart_bar_actions_add %}\n        <sw-button variant="primary" :routerLink="{ name: \'acris.discount.group.create\' }">\n            {{ $tc(\'acris-discount-group.list.buttonAdd\') }}\n        </sw-button>\n        {% endblock %}\n    </template>\n    {% endblock %}\n\n    {% block acris_discount_group_list_cardview %}\n    <template #content>\n        <div class="acris-discount-group-list__content">\n            {% block acris_discount_group_list_content %}\n            <sw-entity-listing class="acris-discount-group-list-grid"\n                               v-if="items && total > 0"\n                               :items="items"\n                               :repository="entityRepository"\n                               detailRoute="acris.discount.group.detail"\n                               :showSeleciton="true"\n                               :isLoading="isLoading"\n                               :columns="columns">\n\n                {% block acris_discount_group_list_grid_columns_active %}\n                <template #column-active="{ item, isInlineEdit }">\n                    {% block acris_discount_group_list_grid_columns_active_inline_edit %}\n                    <template v-if="isInlineEdit">\n                        <sw-checkbox-field v-model:value="item.active"></sw-checkbox-field>\n                    </template>\n                    {% endblock %}\n\n                    {% block acris_discount_group_list_grid_columns_active_content %}\n                    <template v-else>\n                        <sw-icon v-if="item.active" name="regular-checkmark-xs" small\n                                 class="is--active"></sw-icon>\n                        <sw-icon v-else name="regular-times-s" small class="is--inactive"></sw-icon>\n                    </template>\n                    {% endblock %}\n                </template>\n                {% endblock %}\n\n                {% block acris_discount_group_list_grid_columns_excluded %}\n                <template #column-excluded="{ item, isInlineEdit }">\n                    {% block acris_discount_group_list_grid_columns_excluded_inline_edit %}\n                    <template v-if="isInlineEdit">\n                        <sw-checkbox-field v-model:value="item.excluded"></sw-checkbox-field>\n                    </template>\n                    {% endblock %}\n\n                    {% block acris_discount_group_list_grid_columns_excluded_content %}\n                    <template v-else>\n                        <sw-icon v-if="item.excluded" name="regular-checkmark-xs" small\n                                 class="is--active"></sw-icon>\n                        <sw-icon v-else name="regular-times-s" small class="is--inactive"></sw-icon>\n                    </template>\n                    {% endblock %}\n                </template>\n                {% endblock %}\n\n                {% block acris_discount_group_list_grid_columns_discount_type %}\n                <template #column-discountType="{ item, isInlineEdit }">\n                    {% block acris_discount_group_list_grid_columns_discount_type_link %}\n                    <template v-if="item.discountType == \'percentage\'">\n                        <a @click="onEditDiscountGroup(item.id)" class="acris-discount-group-edit-link">{{ $tc(\'acris-discount-group.detail.percentageOption\') }}</a>\n                    </template>\n                    <template v-else>\n                        <a @click="onEditDiscountGroup(item.id)" class="acris-discount-group-edit-link">{{ $tc(\'acris-discount-group.detail.absoluteOption\') }}</a>\n                    </template>\n                    {% endblock %}\n                </template>\n                {% endblock %}\n\n                {% block acris_discount_group_list_grid_columns_customer_assignment_type %}\n                <template #column-customerAssignmentType="{ item, isInlineEdit }">\n                    {% block acris_discount_group_list_grid_columns_customer_assignment_type_link %}\n                    <template v-if="item.customerAssignmentType == \'customer\'">\n                        <a v-if="item.customer && item.customer.firstName && item.customer.lastName" @click="onEditDiscountGroup(item.id)" class="acris-discount-group-edit-link">{{ $tc(\'acris-discount-group.list.customerAssignmentOptionCustomer\') }} {{ item.customer.firstName }} {{ item.customer.lastName }}</a>\n                    </template>\n                    <template v-if="item.customerAssignmentType == \'materialGroup\'">\n                        <a v-if="item.discountGroup" @click="onEditDiscountGroup(item.id)" class="acris-discount-group-edit-link">{{ $tc(\'acris-discount-group.list.customerAssignmentOptionMaterialGroup\') }} {{ item.discountGroup }}</a>\n                    </template>\n                    <template v-else-if="item.customerAssignmentType == \'everyCustomer\'">\n                        <a>{{ $tc(\'acris-discount-group.list.customerAssignmentOptionEveryCustomer\') }}</a>\n                    </template>\n                    <template v-else-if="item.customerAssignmentType != \'materialGroup\' && item.customerAssignmentType != \'customer\'">\n                        <a v-if="item.rules && item.rules.length > 0" @click="onEditDiscountGroup(item.id)" class="acris-discount-group-edit-link acris-discount-group-edit-link-rules">{{ $tc(\'acris-discount-group.list.customerAssignmentOptionRules\') }}</a>\n                        <a v-else @click="onEditDiscountGroup(item.id)" class="acris-discount-group-edit-link acris-discount-group-edit-link-rules">{{ $tc(\'acris-discount-group.list.customerAssignmentOptionNoRules\') }}</a>\n                        <template v-if="item.rules && item.rules.length > 0">\n                            <sw-label v-for="rule in item.rules"\n                                      :disabled="isInlineEdit">\n                                {{ rule.name }}\n                            </sw-label>\n                        </template>\n                    </template>\n                    {% endblock %}\n                </template>\n                {% endblock %}\n\n                {% block acris_discount_group_list_grid_columns_product_assignment_type %}\n                <template #column-productAssignmentType="{ item, isInlineEdit }">\n                    {% block acris_discount_group_list_grid_columns_product_assignment_type_link %}\n                    <template v-if="item.productAssignmentType == \'product\'">\n                        <a v-if="item.product" @click="onEditDiscountGroup(item.id)" class="acris-discount-group-edit-link">{{ $tc(\'acris-discount-group.list.productAssignmentOptionProduct\') }}\n                            <sw-product-variant-info :variations="item.product.variation">\n                               {{ item.product.translated.name || item.product.name }}\n                            </sw-product-variant-info>\n                        </a>\n                    </template>\n                    <template v-else-if="item.productAssignmentType == \'materialGroup\'">\n                        <a v-if="item.materialGroup" @click="onEditDiscountGroup(item.id)" class="acris-discount-group-edit-link">{{ $tc(\'acris-discount-group.list.productAssignmentOptionMaterialGroup\') }} {{ item.materialGroup }}</a>\n                    </template>\n                    <template v-else-if="item.productAssignmentType == \'everyProduct\'">\n                        <a>{{ $tc(\'acris-discount-group.list.productAssignmentOptionEveryProduct\') }}</a>\n                    </template>\n                    <template v-else-if="item.productAssignmentType != \'product\' && item.productAssignmentType != \'materialGroup\'">\n                        <a v-if="item.productStreams && item.productStreams.length > 0" @click="onEditDiscountGroup(item.id)" class="acris-discount-group-edit-link acris-discount-group-edit-link-rules">{{ $tc(\'acris-discount-group.list.productAssignmentOptionDynamicProductGroup\') }}</a>\n                        <a v-else @click="onEditDiscountGroup(item.id)" class="acris-discount-group-edit-link acris-discount-group-edit-link-rules">{{ $tc(\'acris-discount-group.list.productAssignmentOptionDynamicProductGroupEmpty\') }}</a>\n                        <template v-if="item.productStreams && item.productStreams.length > 0">\n                            <sw-label v-for="productStream in item.productStreams"\n                                      :disabled="isInlineEdit">\n                                {{ productStream.name }}\n                            </sw-label>\n                        </template>\n                    </template>\n                    {% endblock %}\n                </template>\n                {% endblock %}\n\n                {% block acris_discount_group_list_grid_columns_calculation_base %}\n                    <template #column-calculationBase="{ item, isInlineEdit }">\n                        {% block acris_discount_group_list_grid_columns_calculation_base_link %}\n                            <template v-if="item.calculationBase == \'price\'">\n                                <a @click="onEditDiscountGroup(item.id)" class="acris-discount-group-edit-link">{{ $tc(\'acris-discount-group.list.calculationBaseOptionPrice\') }}</a>\n                            </template>\n                            <template v-else-if="item.calculationBase == \'listPrice\'">\n                                <a @click="onEditDiscountGroup(item.id)" class="acris-discount-group-edit-link">{{ $tc(\'acris-discount-group.list.calculationBaseOptionListPrice\') }}</a>\n                            </template>\n                            <template v-else-if="item.calculationBase == \'rrp\'">\n                                <a @click="onEditDiscountGroup(item.id)" class="acris-discount-group-edit-link">{{ $tc(\'acris-discount-group.list.calculationBaseOptionRrp\') }}</a>\n                            </template>\n                            <template v-else-if="item.calculationBase == \'purchasePrice\'">\n                                <a @click="onEditDiscountGroup(item.id)" class="acris-discount-group-edit-link">{{ $tc(\'acris-discount-group.list.calculationBaseOptionPurchasePrice\') }}</a>\n                            </template>\n                        {% endblock %}\n                    </template>\n                {% endblock %}\n\n                {% block acris_discount_group_list_grid_columns_list_price_type %}\n                    <template #column-listPriceType="{ item, isInlineEdit }">\n                        {% block acris_discount_group_list_grid_columns_list_price_type_link %}\n                            <template v-if="item.listPriceType == \'set\'">\n                                <a @click="onEditDiscountGroup(item.id)" class="acris-discount-group-edit-link">{{ $tc(\'acris-discount-group.detail.listPriceOptionSet\') }}</a>\n                            </template>\n                            <template v-else-if="item.listPriceType == \'setPrice\'">\n                                <a @click="onEditDiscountGroup(item.id)" class="acris-discount-group-edit-link">{{ $tc(\'acris-discount-group.detail.listPriceOptionSetPrice\') }}</a>\n                            </template>\n                            <template v-else-if="item.listPriceType == \'rrp\'">\n                                <a @click="onEditDiscountGroup(item.id)" class="acris-discount-group-edit-link">{{ $tc(\'acris-discount-group.detail.listPriceOptionRrp\') }}</a>\n                            </template>\n                            <template v-else-if="item.listPriceType == \'setRrp\'">\n                                <a @click="onEditDiscountGroup(item.id)" class="acris-discount-group-edit-link">{{ $tc(\'acris-discount-group.detail.listPriceOptionSetRrp\') }}</a>\n                            </template>\n                            <template v-else-if="item.listPriceType == \'purchasePrice\'">\n                                <a @click="onEditDiscountGroup(item.id)" class="acris-discount-group-edit-link">{{ $tc(\'acris-discount-group.detail.listPriceOptionPurchasePrice\') }}</a>\n                            </template>\n                            <template v-else-if="item.listPriceType == \'remove\'">\n                                <a @click="onEditDiscountGroup(item.id)" class="acris-discount-group-edit-link">{{ $tc(\'acris-discount-group.detail.listPriceOptionRemove\') }}</a>\n                            </template>\n                            <template v-else>\n                                <a @click="onEditDiscountGroup(item.id)" class="acris-discount-group-edit-link">{{ $tc(\'acris-discount-group.detail.listPriceOptionIgnore\') }}</a>\n                            </template>\n                        {% endblock %}\n                    </template>\n                {% endblock %}\n\n                {% block acris_discount_group_list_grid_columns_product_streams %}\n                <template #column-productStreams="{ item, isInlineEdit }">\n                    <template v-if="item.productStreams && item.productStreams.length > 0">\n                        <sw-label v-for="productStream in item.productStreams"\n                                  :disabled="isInlineEdit">\n                            {{ productStream.name }}\n                        </sw-label>\n                    </template>\n                </template>\n                {% endblock %}\n\n                {% block acris_discount_group_list_grid_columns_rules %}\n                <template #column-rules="{ item, isInlineEdit }">\n\n                </template>\n                {% endblock %}\n\n                {% block acris_discount_group_list_grid_columns_account_display %}\n                    <template #column-account-display="{ item, isInlineEdit }">\n                        {% block acris_discount_group_list_grid_columns_account_display_inline_edit %}\n                            <template v-if="isInlineEdit">\n                                <sw-checkbox-field v-model:value="item.accountDisplay"></sw-checkbox-field>\n                            </template>\n                        {% endblock %}\n\n                        {% block acris_discount_group_list_grid_columns_account_display_content %}\n                            <template v-else>\n                                <sw-icon v-if="item.accountDisplay" name="regular-checkmark-xs" small\n                                         class="is--active"></sw-icon>\n                                <sw-icon v-else name="regular-times-s" small class="is--inactive"></sw-icon>\n                            </template>\n                        {% endblock %}\n                    </template>\n                {% endblock %}\n\n                <template #pagination>\n                    {% block sw_order_list_grid_pagination %}\n                    <sw-pagination :page="page"\n                                   :limit="limit"\n                                   :total="total"\n                                   :total-visible="7"\n                                   @page-change="onPageChange">\n                    </sw-pagination>\n                    {% endblock %}\n                </template>\n\n            </sw-entity-listing>\n            {% endblock %}\n\n            {% block acris_discount_group_list_empty_state %}\n            <sw-empty-state v-if="!isLoading && total === 0" :title="$tc(\'acris-discount-group.list.contentEmpty\')"></sw-empty-state>\n            {% endblock %}\n\n        </div>\n    </template>\n    {% endblock %}\n\n    {% block acris_discount_group_list_sidebar %}\n    <template #sidebar>\n        <sw-sidebar class="acris-discount-group-list__sidebar">\n            {% block acris_discount_group_list_sidebar_item %}\n            <sw-sidebar-item\n                icon="regular-undo"\n                :title="$tc(\'acris-discount-group.list.titleSidebarItemRefresh\')"\n                @click="onRefresh">\n            </sw-sidebar-item>\n            {% endblock %}\n        </sw-sidebar>\n    </template>\n    {% endblock %}\n\n</sw-page>\n{% endblock %}\n',inject:["repositoryFactory"],mixins:[t.getByName("listing"),t.getByName("notification"),t.getByName("placeholder")],data(){return{items:null,isLoading:!1,showDeleteModal:!1,repository:null,total:0}},metaInfo(){return{title:this.$createTitle()}},computed:{entityRepository(){return this.repositoryFactory.create("acris_discount_group")},productRepository(){return this.repositoryFactory.create("product")},columns(){return this.getColumns()}},methods:{getList(){this.isLoading=!0;let e=new n(this.page,this.limit);e.setTerm(this.term),e.addAssociation("product"),e.addAssociation("product.options.group"),e.addAssociation("customer"),e.addAssociation("rules"),e.addAssociation("productStreams"),e.addAssociation("productStreams"),e.addSorting(n.sort("priority","DESC")),this.entityRepository.search(e,Shopware.Context.api).then(e=>(this.total=e.total,this.items=e,this.items.forEach(e=>{e.product&&e.product.parentId&&this.productRepository.get(e.product.parentId,Shopware.Context.api).then(t=>{e.product.name=t.name,e.product.translated.name=t.translated.name})}),this.isLoading=!1,e)).catch(()=>{this.isLoading=!1})},onEditDiscountGroup(e){this.$router.push({name:"acris.discount.group.detail",params:{id:e}})},getColumns(){return[{property:"internalName",inlineEdit:"string",label:"acris-discount-group.list.columnInternalName",routerLink:"acris.discount.group.detail",allowResize:!0,primary:!0},{property:"internalId",inlineEdit:"string",label:"acris-discount-group.list.columnInternalId",routerLink:"acris.discount.group.detail",allowResize:!0,primary:!0},{property:"displayName",inlineEdit:"string",label:"acris-discount-group.list.columnDisplayName",routerLink:"acris.discount.group.detail",allowResize:!0},{property:"customerAssignmentType",label:"acris-discount-group.list.columnCustomerAssignmentType",routerLink:"acris.discount.group.detail",allowResize:!0},{property:"productAssignmentType",label:"acris-discount-group.list.columnProductAssignmentType",routerLink:"acris.discount.group.detail",allowResize:!0},{property:"active",label:"acris-discount-group.list.columnActive",inlineEdit:"boolean",width:"80px",allowResize:!0,align:"center"},{property:"discountType",label:"acris-discount-group.list.columnDiscountType",routerLink:"acris.discount.group.detail",allowResize:!0},{property:"discount",label:"acris-discount-group.list.columnDiscount",routerLink:"acris.discount.group.detail",allowResize:!0},{property:"minQuantity",label:"acris-discount-group.list.columnMinQuantity",routerLink:"acris.discount.group.detail",allowResize:!0},{property:"maxQuantity",label:"acris-discount-group.list.columnMaxQuantity",routerLink:"acris.discount.group.detail",allowResize:!0},{property:"priority",inlineEdit:"number",label:"acris-discount-group.list.columnPriority",routerLink:"acris.discount.group.detail",allowResize:!0},{property:"excluded",label:"acris-discount-group.list.columnExcluded",inlineEdit:"boolean",width:"80px",allowResize:!0,align:"center"},{property:"calculationBase",label:"acris-discount-group.list.columnCalculationBase",routerLink:"acris.discount.group.detail",allowResize:!0},{property:"listPriceType",label:"acris-discount-group.list.columnListPriceType",routerLink:"acris.discount.group.detail",allowResize:!0},{property:"accountDisplay",label:"acris-discount-group.list.columnAccountDisplay",inlineEdit:"boolean",width:"80px",allowResize:!0,align:"center"}]}}});let{Component:o}=Shopware,s=Shopware.Utils;o.extend("acris-discount-group-create","acris-discount-group-detail",{template:"",beforeRouteEnter(e,t,i){e.name.includes("acris.discount.group.create")&&!e.params.id&&(e.params.id=s.createId(),e.params.newItem=!0),i()},methods:{getEntity(){this.item=this.repository.create(Shopware.Context.api),this.item.priority=10,this.item.discount=0,this.item.minQuantity=1,this.item.discountType="percentage",this.item.listPriceType="set",this.item.calculationBase="price",this.item.rrpTax="auto",this.item.rrpTaxDisplay="auto",this.item.calculationType="discount",this.item.customerAssignmentType="rules",this.item.productAssignmentType="dynamicProductGroup",this.item.active=!0,this.item.excluded=!0,this.item.accountDisplay=!1},saveFinish(){this.isSaveSuccessful=!1,this.$router.push({name:"acris.discount.group.detail",params:{id:this.item.id}})},onClickSave(){this.isLoading=!0;let e=this.$tc("acris-discount-group.detail.titleSaveError"),t=this.$tc("acris-discount-group.detail.messageSaveError"),i=this.$tc("acris-discount-group.detail.titleSaveSuccess"),n=this.$tc("acris-discount-group.detail.messageSaveSuccess");this.repository.save(this.item,Shopware.Context.api).then(()=>{this.isLoading=!1,this.createNotificationSuccess({title:i,message:n}),this.$router.push({name:"acris.discount.group.detail",params:{id:this.item.id}})}).catch(()=>{this.isLoading=!1,this.createNotificationError({title:e,message:t})})}}});let r="percentage";class c{getValueSuffix(e,t="?"){return e===r?"%":t}getMinValue(){return 0}getMaxValue(e){return e===r?100:null}getFixedValue(e,t){return t===r&&(e=e>100?this.getMaxValue(t):e),e<=this.getMinValue()&&(e=this.getMinValue()),e}}i(998);let{Component:a}=Shopware,{Mixin:l}=Shopware,{Criteria:u}=Shopware.Data,d=new c;a.register("acris-discount-group-detail",{template:'{% block acris_discount_group_detail %}\n<sw-page class="acris-discount-group-detail" v-if="item">\n\n\n    {% block acris_discount_group_detail_smart_bar_header %}\n    <template #smart-bar-header>\n        {% block acris_discount_group_detail_smart_bar_header_title %}\n        <h2>{{ $tc(\'acris-discount-group.detail.textHeadline\') }}</h2>\n        {% endblock %}\n    </template>\n    {% endblock %}\n\n    {% block acris_discount_group_detail_smart_bar_language %}\n        <template #language-switch>\n            <sw-language-switch @on-change="onChangeLanguage"\n                                :disabled="$route.params.newItem || item.unknown"></sw-language-switch>\n        </template>\n    {% endblock %}\n\n    {% block acris_discount_group_detail_smart_bar_actions %}\n    <template #smart-bar-actions>\n        {% block acris_discount_group_detail_smart_bar_actions_cancel %}\n        <sw-button :disabled="item.isLoading" :routerLink="{ name: \'acris.discount.group.index\' }">\n            {{ $tc(\'acris-discount-group.detail.buttonCancel\') }}\n        </sw-button>\n        {% endblock %}\n\n        {% block acris_discount_group_detail_smart_bar_actions_save %}\n        <sw-button-process\n            class="acris-discount-group-detail__save-action"\n            :isLoading="isLoading"\n            :processSuccess="processSuccess"\n            variant="primary"\n            :disabled="isDisabled"\n            @update:processSuccess="saveFinish"\n            @click="onClickSave">\n            {{ $tc(\'acris-discount-group.detail.buttonSave\') }}\n        </sw-button-process>\n        {% endblock %}\n    </template>\n    {% endblock %}\n\n\n    {% block acris_discount_group_detail_content %}\n        <template #content>\n            <sw-card-view>\n                {% block acris_discount_group_detail_content_card %}\n                    <sw-card :isLoading="isLoading" v-if="item"\n                             :title="$tc(\'acris-discount-group.detail.cardGeneral\')">\n\n                        {% block acris_discount_group_detail_content_internal_name %}\n                            <sw-text-field v-model:value="item.internalName"\n                                           class="acris-discount-group-detail__item_internalName"\n                                           :label="$tc(\'acris-discount-group.detail.fieldTitleLabelInternalName\')"\n                                           :helpText="$tc(\'acris-discount-group.detail.fieldTitleHelpTextInternalName\')"\n                                           :placeholder="$tc(\'acris-discount-group.detail.fieldTitlePlaceholderInternalName\')">\n                            </sw-text-field>\n                        {% endblock %}\n\n                        {% block acris_discount_group_detail_content_internal_id %}\n                            <sw-text-field v-model:value="item.internalId"\n                                           class="acris-discount-group-detail__item_internalId"\n                                           :label="$tc(\'acris-discount-group.detail.fieldTitleLabelInternalId\')"\n                                           :helpText="$tc(\'acris-discount-group.detail.fieldTitleHelpTextInternalId\')"\n                                           :placeholder="$tc(\'acris-discount-group.detail.fieldTitlePlaceholderInternalId\')">\n                            </sw-text-field>\n                        {% endblock %}\n\n                        {% block acris_discount_group_detail_content_display_name %}\n                            <sw-text-field v-model:value="item.displayName"\n                                           class="acris-discount-group-detail__item_display_name"\n                                           :label="$tc(\'acris-discount-group.detail.fieldTitleLabelDisplayName\')"\n                                           :helpText="$tc(\'acris-discount-group.detail.fieldTitleHelpTextDisplayName\')"\n                                           :placeholder="$tc(\'acris-discount-group.detail.fieldTitlePlaceholderDisplayName\')">\n                            </sw-text-field>\n                        {% endblock %}\n\n                        {% block acris_discount_group_detail_content_active %}\n                            <sw-switch-field v-model:value="item.active"\n                                      class="acris-discount-group-detail__item_active"\n                                      :label="$tc(\'acris-discount-group.detail.fieldTitleLabelActive\')"\n                                      :helpText="$tc(\'acris-discount-group.detail.fieldTitleHelpTextActive\')">\n                            </sw-switch-field>\n                        {% endblock %}\n\n                        {% block acris_discount_group_detail_base_active_container %}\n                            <sw-container\n                                    columns="1fr 1fr"\n                                    gap="0 32px"\n                            >\n\n                                {% block acris_discount_group_detail_active_from %}\n                                    <sw-datepicker\n                                            v-model:value="item.activeFrom"\n                                            class="acris-discount-group-detail-base__field-active-from"\n                                            date-type="datetime-local"\n                                            :label="$tc(\'acris-discount-group.detail.fieldTitleLabelActiveFrom\')"\n                                            :placeholder-text="$tc(\'acris-discount-group.detail.fieldTitlePlaceholderActiveFrom\')"\n                                    />\n                                {% endblock %}\n\n                                {% block acris_discount_group_detail_active_until %}\n                                    <sw-datepicker\n                                            v-model:value="item.activeUntil"\n                                            class="acris-discount-group-detail-base__field-active-until"\n                                            date-type="datetime-local"\n                                            :label="$tc(\'acris-discount-group.detail.fieldTitleLabelActiveUntil\')"\n                                            :placeholder-text="$tc(\'acris-discount-group.detail.fieldTitlePlaceholderActiveUntil\')"\n                                    />\n                                {% endblock %}\n\n                            </sw-container>\n                        {% endblock %}\n\n                        {% block acris_discount_group_detail_content_priority %}\n                            <sw-number-field numberType="int"\n                                             v-model:value="item.priority"\n                                             :min="0"\n                                             class="acris-discount-group-detail__item_priority"\n                                             :label="$tc(\'acris-discount-group.detail.fieldTitleLabelPriority\')"\n                                             :helpText="$tc(\'acris-discount-group.detail.fieldTitleHelpTextPriority\')"\n                                             :placeholder="$tc(\'acris-discount-group.detail.fieldTitlePlaceholderPriority\')">\n                            </sw-number-field>\n                        {% endblock %}\n\n                        {% block acris_discount_group_detail_content_excluded %}\n                            <sw-switch-field v-model:value="item.excluded"\n                                      class="acris-discount-group-detail__item_excluded"\n                                      :label="$tc(\'acris-discount-group.detail.fieldTitleLabelExcluded\')"\n                                      :helpText="$tc(\'acris-discount-group.detail.fieldTitleHelpTextExcluded\')">\n                            </sw-switch-field>\n                        {% endblock %}\n                    </sw-card>\n                {% endblock %}\n\n                {% block acris_discount_group_detail_card_customer %}\n                    <sw-card :isLoading="isLoading" v-if="item"\n                             :title="$tc(\'acris-discount-group.detail.cardCustomer\')">\n\n                        {% block acris_discount_group_detail_content_customer_assignment_type %}\n                            <sw-select-field\n                                    v-model:value="item.customerAssignmentType"\n                                    required\n                                    class="acris-discount-group-detail__item_customer_assignment_type"\n                                    :label="$tc(\'acris-discount-group.detail.fieldTitleLabelCustomerAssignmentType\')"\n                                    :helpText="$tc(\'acris-discount-group.detail.fieldTitleHelpTextCustomerAssignmentType\')">\n                                <option v-for="option in customerAssignmentTypes"\n                                        :key="option.value"\n                                        :value="option.value">\n                                    {{ option.label }}\n                                </option>\n                            </sw-select-field>\n                        {% endblock %}\n\n                        {% if item.customerAssignmentType != \'everyCustomer\' %}\n\n                            {% block acris_discount_group_detail_customer_select %}\n                                <sw-entity-single-select\n                                        v-model:value="item.customerId"\n                                        entity="customer"\n                                        v-if="item.customerAssignmentType === \'customer\'"\n                                        required\n                                        :label="$tc(\'acris-discount-group.detail.fieldTitleLabelCustomer\')"\n                                        :helpText="$tc(\'acris-discount-group.detail.fieldTitleHelpTextCustomer\')"\n                                        :placeholder="$tc(\'acris-discount-group.detail.fieldTitlePlaceholderCustomer\')">\n\n                                    {% block acris_discount_group_detail_customer_variant_label %}\n                                        <template #selection-label-property="{ item }">\n                                            {{ item.firstName }} {{ item.lastName }}\n                                        </template>\n                                    {% endblock %}\n\n                                    {% block acris_discount_group_detail_customer_select_result_item %}\n                                        <template #result-item="{ item, index }">\n                                            <li is="sw-select-result" v-bind="{ item, index }">\n                                                {% block acris_discount_group_detail_single_select_customer_base_results_list_result_label %}\n                                                    <span class="sw-select-result__result-item-text">\n                                            {{ item.firstName }} {{ item.lastName }}\n                                        </span>\n                                                {% endblock %}\n                                            </li>\n                                        </template>\n                                    {% endblock %}\n                                </sw-entity-single-select>\n                            {% endblock %}\n\n                            {% block acris_discount_group_detail_content_discount_group %}\n                                <sw-text-field v-model:value="item.discountGroup"\n                                               required\n                                               v-if="item.customerAssignmentType === \'materialGroup\'"\n                                               class="acris-discount-group-detail__item_materialGroup"\n                                               :label="$tc(\'acris-discount-group.detail.fieldTitleLabelMaterialGroupCustomer\')"\n                                               :helpText="$tc(\'acris-discount-group.detail.fieldTitleHelpTextMaterialGroupCustomer\')"\n                                               :placeholder="$tc(\'acris-discount-group.detail.fieldTitlePlaceholderMaterialGroupCustomer\')">\n                                </sw-text-field>\n                            {% endblock %}\n\n                            {% block acris_discount_group_detail_content_rules %}\n                                <sw-entity-many-to-many-select\n                                        v-if="item && item.rules && item.customerAssignmentType === \'rules\'"\n                                        :localMode="true"\n                                        required\n                                        class="acris-discount-group-detail__rules"\n                                        :label="$tc(\'acris-discount-group.detail.rulesSelectFieldLabel\')"\n                                        :helpText="$tc(\'acris-discount-group.detail.rulesSelectFieldHelpText\')"\n                                        :placeholder="$tc(\'acris-discount-group.detail.rulesSelectFieldPlaceholder\')"\n                                        v-model:entityCollection="item.rules">\n                                </sw-entity-many-to-many-select>\n                            {% endblock %}\n\n                        {% endif %}\n\n                    </sw-card>\n                {% endblock %}\n\n                {% block acris_discount_group_detail_content_card_product %}\n                    <sw-card :isLoading="isLoading" v-if="item"\n                             :title="$tc(\'acris-discount-group.detail.cardProduct\')">\n\n                        {% block acris_discount_group_detail_content_product_assignment_type %}\n                            <sw-select-field\n                                    v-model:value="item.productAssignmentType"\n                                    required\n                                    class="acris-discount-group-detail__item_product_assignment_type"\n                                    :label="$tc(\'acris-discount-group.detail.fieldTitleLabelProductAssignmentType\')"\n                                    :helpText="$tc(\'acris-discount-group.detail.fieldTitleHelpTextProductAssignmentType\')">\n                                <option v-for="option in productAssignmentTypes"\n                                        :key="option.value"\n                                        :value="option.value">\n                                    {{ option.label }}\n                                </option>\n                            </sw-select-field>\n                        {% endblock %}\n\n                        {% if item.productAssignmentType != \'everyProduct\' %}\n\n                            {% block acris_discount_group_detail_product_select %}\n                                <sw-entity-single-select\n                                        v-model:value="item.productId"\n                                        v-if="item.productAssignmentType === \'product\'"\n                                        entity="product"\n                                        :label="$tc(\'acris-discount-group.detail.fieldTitleLabelProduct\')"\n                                        :helpText="$tc(\'acris-discount-group.detail.fieldTitleHelpTextProduct\')"\n                                        :placeholder="$tc(\'acris-discount-group.detail.fieldTitlePlaceholderProduct\')"\n                                        required\n                                        :criteria="productCriteria"\n                                        :context="productSelectContext">\n\n                                    {% block acris_discount_group_detail_product_variant_label %}\n                                        <template #selection-label-property="{ item }">\n                                            <sw-product-variant-info :variations="item.variation">\n                                                {{ item.translated.name || item.name }}\n                                            </sw-product-variant-info>\n                                        </template>\n                                    {% endblock %}\n\n                                    {% block acris_discount_group_detail_product_select_result_item %}\n                                        <template #result-item="{ item, index }">\n                                            <li is="sw-select-result" v-bind="{ item, index }">\n                                                {% block acris_discount_group_detail_single_select_base_results_list_result_label %}\n                                                    <span class="sw-select-result__result-item-text">\n                                            <sw-product-variant-info :variations="item.variation">\n                                                {{ item.translated.name || item.name }}\n                                            </sw-product-variant-info>\n                                         </span>\n                                                {% endblock %}\n\n                                            </li>\n                                        </template>\n                                    {% endblock %}\n                                </sw-entity-single-select>\n                            {% endblock %}\n\n                            {% block acris_discount_group_detail_content_material_group %}\n                                <sw-text-field v-model:value="item.materialGroup"\n                                               required\n                                               v-if="item.productAssignmentType === \'materialGroup\'"\n                                               class="acris-discount-group-detail__item_materialGroup"\n                                               :label="$tc(\'acris-discount-group.detail.fieldTitleLabelMaterialGroupProduct\')"\n                                               :helpText="$tc(\'acris-discount-group.detail.fieldTitleHelpTextMaterialGroupProduct\')"\n                                               :placeholder="$tc(\'acris-discount-group.detail.fieldTitlePlaceholderMaterialGroupProduct\')">\n                                </sw-text-field>\n                            {% endblock %}\n\n                            {% block acris_discount_group_form_content_product_streams %}\n                                <sw-entity-many-to-many-select\n                                        v-if="item && item.productStreams && item.productAssignmentType === \'dynamicProductGroup\'"\n                                        :localMode="true"\n                                        required\n                                        class="acris-discount-group-detail__product_streams"\n                                        :label="$tc(\'acris-discount-group.detail.productStreamsSelectFieldLabel\')"\n                                        :helpText="$tc(\'acris-discount-group.detail.productStreamsSelectFieldHelpText\')"\n                                        :placeholder="$tc(\'acris-discount-group.detail.productStreamsSelectFieldPlaceholder\')"\n                                        v-model:entityCollection="item.productStreams">\n                                </sw-entity-many-to-many-select>\n                            {% endblock %}\n\n                        {% endif %}\n\n                    </sw-card>\n                {% endblock %}\n\n                {% block acris_discount_group_detail_content_card_discount %}\n                    <sw-card :isLoading="isLoading" v-if="item"\n                             :title="$tc(\'acris-discount-group.detail.cardDiscount\')">\n\n                        {% block acris_discount_group_detail_content_discount_container %}\n                            <sw-container columns="1fr 1fr" gap="0px 30px">\n                                {% block acris_discount_group_detail_content_discount_type %}\n                                    <sw-select-field\n                                            v-model:value="item.discountType"\n                                            class="acris-discount-group-detail__item_discount_type"\n                                            :label="$tc(\'acris-discount-group.detail.fieldTitleLabelDiscountType\')">\n                                        <option v-for="option in discountTypes"\n                                                :key="option.value"\n                                                :value="option.value">\n                                            {{ option.label }}\n                                        </option>\n                                    </sw-select-field>\n                                {% endblock %}\n\n                                {% block acris_discount_group_detail_content_discount %}\n                                <sw-number-field\n                                            v-model:value="item.discount"\n                                            required\n                                            :min="0"\n                                            class="acris-discount-group-detail__item_discount"\n                                            :label="$tc(\'acris-discount-group.detail.fieldTitleLabelDiscount\')"\n                                            :placeholder="$tc(\'acris-discount-group.detail.fieldTitlePlaceholderDiscount\')">\n                                        <template #suffix>\n                                            {{ discountSuffix }}\n                                        </template>\n                                    </sw-number-field>\n                                {% endblock %}\n                            </sw-container>\n                        {% endblock %}\n\n                        {% block acris_discount_group_detail_content_calcualtion_type %}\n                            <sw-select-field\n                                    v-model:value="item.calculationType"\n                                    class="acris-discount-group-detail__item_calculation_type"\n                                    :label="$tc(\'acris-discount-group.detail.fieldTitleLabelCalculationType\')">\n                                <option v-for="option in calculationTypes"\n                                        :key="option.value"\n                                        :value="option.value">\n                                    {{ option.label }}\n                                </option>\n                            </sw-select-field>\n                        {% endblock %}\n\n                        {% block acris_discount_group_detail_content_calculation_base %}\n                            <sw-select-field\n                                    v-model:value="item.calculationBase"\n                                    required\n                                    class="acris-discount-group-detail__item_calculation_base"\n                                    :label="$tc(\'acris-discount-group.detail.fieldTitleLabelCalculationBase\')"\n                                    :helpText="$tc(\'acris-discount-group.detail.fieldTitleHelpTextLabelCalculationBase\')">\n                                <option v-for="option in calculationBaseOptions"\n                                        :key="option.value"\n                                        :value="option.value">\n                                    {{ option.label }}\n                                </option>\n                            </sw-select-field>\n                        {% endblock %}\n\n                        {% block acris_discount_group_detail_content_rrp_tax %}\n                            <sw-select-field\n                                    v-if="item.calculationBase === \'rrp\'"\n                                    v-model:value="item.rrpTax"\n                                    required\n                                    class="acris-discount-group-detail__item_rrp_tax"\n                                    :label="$tc(\'acris-discount-group.detail.fieldTitleLabelRrpTax\')">\n                                <option v-for="option in rrpTaxOptions"\n                                        :key="option.value"\n                                        :value="option.value">\n                                    {{ option.label }}\n                                </option>\n                            </sw-select-field>\n                        {% endblock %}\n\n                        {% block acris_discount_group_detail_content_list_price_type %}\n                            <sw-select-field\n                                    v-model:value="item.listPriceType"\n                                    v-if="item.calculationType === \'discount\'"\n                                    required\n                                    class="acris-discount-group-detail__item_list_price_type"\n                                    :label="$tc(\'acris-discount-group.detail.fieldTitleLabelListPriceType\')">\n                                <option v-for="option in listPriceTypes"\n                                        :key="option.value"\n                                        :value="option.value">\n                                    {{ option.label }}\n                                </option>\n                            </sw-select-field>\n                        {% endblock %}\n\n                        {% block acris_discount_group_detail_content_rrp_tax_display %}\n                            <sw-select-field\n                                    v-if="item.listPriceType === \'rrp\' || item.listPriceType === \'setRrp\'"\n                                    v-model:value="item.rrpTaxDisplay"\n                                    required\n                                    class="acris-discount-group-detail__item_rrp_tax_display"\n                                    :label="$tc(\'acris-discount-group.detail.fieldTitleLabelRrpTaxDisplay\')">\n                                <option v-for="option in rrpTaxDisplayOptions"\n                                        :key="option.value"\n                                        :value="option.value">\n                                    {{ option.label }}\n                                </option>\n                            </sw-select-field>\n                        {% endblock %}\n\n                        {% block acris_discount_group_detail_content_rrp_alert %}\n                            <sw-alert variant="info" v-if="item.calculationBase === \'rrp\' || item.listPriceType === \'rrp\' || item.listPriceType === \'setRrp\'">\n                                {{ $tc(\'acris-discount-group.detail.acrisRrpPluginAlert\') }}\n                            </sw-alert>\n                        {% endblock %}\n                    </sw-card>\n                {% endblock %}\n\n                {% block acris_discount_group_detail_content_card_scale_discount %}\n                    <sw-card :isLoading="isLoading" v-if="item"\n                             :title="$tc(\'acris-discount-group.detail.cardScalePrice\')">\n\n                        {% block acris_discount_group_detail_content_min_quantity %}\n                            <sw-number-field\n                                    v-model:value="item.minQuantity"\n                                    required\n                                    class="acris-discount-group-detail__item_min_quantity"\n                                    numberType="int"\n                                    :min="1"\n                                    :label="$tc(\'acris-discount-group.detail.fieldTitleLabelMinQuantity\')">\n                            </sw-number-field>\n                        {% endblock %}\n\n                        {% block acris_discount_group_detail_content_max_quantity %}\n                            <sw-number-field\n                                    v-model:value="item.maxQuantity"\n                                    class="acris-discount-group-detail__item_max_quantity"\n                                    numberType="int"\n                                    :min="1"\n                                    :allowEmpty="true"\n                                    :label="$tc(\'acris-discount-group.detail.fieldTitleLabelMaxQuantity\')"\n                                    :helpText="$tc(\'acris-discount-group.detail.fieldTitleHelpTextMaxQuantity\')">\n                            </sw-number-field>\n                        {% endblock %}\n                    </sw-card>\n                {% endblock %}\n\n                {% block acris_discount_group_detail_card_account_display %}\n                    <sw-card :isLoading="isLoading" v-if="item"\n                             :title="$tc(\'acris-discount-group.detail.cardAccountDisplay\')">\n\n                        {% block acris_discount_group_detail_card_account_display_account_display %}\n                            <sw-switch-field v-model:value="item.accountDisplay"\n                                      class="acris-discount-group-detail__item_account_display"\n                                      :label="$tc(\'acris-discount-group.detail.fieldTitleLabelAccountDisplay\')"\n                                      :helpText="$tc(\'acris-discount-group.detail.fieldTitleHelpTextAccountDisplay\')">\n                            </sw-switch-field>\n                        {% endblock %}\n\n                        {% block acris_discount_group_detail_card_account_display_text %}\n                            <sw-text-editor required\n                                            v-model:value="item.displayText"\n                                            v-if="item.accountDisplay"\n                                            class="acris-discount-group-detail__item_account_display_text"\n                                            :label="$tc(\'acris-discount-group.detail.fieldTitleLabelAccountDisplayText\')"\n                                            :placeholder="placeholder(item, \'displayText\', $tc(\'acris-discount-group.detail.fieldTitlePlaceholderAccountDisplayText\'))">\n                            </sw-text-editor>\n                        {% endblock %}\n                    </sw-card>\n                {% endblock %}\n\n            </sw-card-view>\n        </template>\n    {% endblock %}\n\n</sw-page>\n{% endblock %}\n',inject:["repositoryFactory","context"],mixins:[l.getByName("notification"),l.getByName("placeholder")],data(){return{item:null,isLoading:!1,processSuccess:!1,repository:null,isSaveSuccessful:!1,currencies:[],defaultCurrency:null,currencySymbol:null}},metaInfo(){return{title:this.$createTitle()}},created(){this.createdComponent()},computed:{discountSuffix(){return d.getValueSuffix(this.item.discountType,this.currencySymbol)},currencyRepository(){return this.repositoryFactory.create("currency")},discountGroupCriteria(){let e=new u;return e.addAssociation("rules"),e.addAssociation("productStreams"),e},isDisabled(){if(this.isLoading||!this.item.customerAssignmentType||!this.item.productAssignmentType||this.item.discount<0||!this.item.minQuantity)return!0;if("customer"===this.item.customerAssignmentType){if(!this.item.customerId)return!0}else if("materialGroup"===this.item.customerAssignmentType){if(!this.item.discountGroup)return!0}else if("everyCustomer"!==this.item.customerAssignmentType&&(!this.item.rules||this.item.rules.length<=0))return!0;if("product"===this.item.productAssignmentType){if(!this.item.productId)return!0}else if("materialGroup"===this.item.productAssignmentType){if(!this.item.materialGroup)return!0}else if("everyProduct"!==this.item.productAssignmentType&&(!this.item.productStreams||this.item.productStreams.length<=0))return!0;return!!this.item.accountDisplay&&!this.item.displayText},productSelectContext(){return{...Shopware.Context.api,inheritance:!0}},productCriteria(){let e=new u;return e.addAssociation("options.group"),e},discountTypes(){return[{label:this.$tc("acris-discount-group.detail.absoluteOption"),value:"absolute"},{label:this.$tc("acris-discount-group.detail.percentageOption"),value:"percentage"}]},customerAssignmentTypes(){return[{label:this.$tc("acris-discount-group.detail.customerAssignmentOptionCustomer"),value:"customer"},{label:this.$tc("acris-discount-group.detail.customerAssignmentOptionMaterialGroup"),value:"materialGroup"},{label:this.$tc("acris-discount-group.detail.customerAssignmentOptionRules"),value:"rules"},{label:this.$tc("acris-discount-group.detail.customerAssignmentOptionEveryCustomer"),value:"everyCustomer"}]},productAssignmentTypes(){return[{label:this.$tc("acris-discount-group.detail.productAssignmentOptionProduct"),value:"product"},{label:this.$tc("acris-discount-group.detail.productAssignmentOptionMaterialGroup"),value:"materialGroup"},{label:this.$tc("acris-discount-group.detail.productAssignmentOptionDynamicProductGroup"),value:"dynamicProductGroup"},{label:this.$tc("acris-discount-group.detail.productAssignmentOptionEveryProduct"),value:"everyProduct"}]},listPriceTypes(){return[{label:this.$tc("acris-discount-group.detail.listPriceOptionIgnore"),value:"ignore"},{label:this.$tc("acris-discount-group.detail.listPriceOptionSet"),value:"set"},{label:this.$tc("acris-discount-group.detail.listPriceOptionSetPrice"),value:"setPrice"},{label:this.$tc("acris-discount-group.detail.listPriceOptionRrp"),value:"rrp"},{label:this.$tc("acris-discount-group.detail.listPriceOptionSetRrp"),value:"setRrp"},{label:this.$tc("acris-discount-group.detail.listPriceOptionPurchasePrice"),value:"purchasePrice"},{label:this.$tc("acris-discount-group.detail.listPriceOptionRemove"),value:"remove"}]},calculationBaseOptions(){return[{label:this.$tc("acris-discount-group.detail.calculationBaseOptionPrice"),value:"price"},{label:this.$tc("acris-discount-group.detail.calculationBaseOptionListPrice"),value:"listPrice"},{label:this.$tc("acris-discount-group.detail.calculationBaseOptionRrp"),value:"rrp"},{label:this.$tc("acris-discount-group.detail.calculationBaseOptionPurchasePrice"),value:"purchasePrice"}]},rrpTaxOptions(){return[{label:this.$tc("acris-discount-group.detail.rrpTaxOptionAuto"),value:"auto"},{label:this.$tc("acris-discount-group.detail.rrpTaxOptionGross"),value:"gross"},{label:this.$tc("acris-discount-group.detail.rrpTaxOptionNet"),value:"net"}]},rrpTaxDisplayOptions(){return[{label:this.$tc("acris-discount-group.detail.rrpTaxOptionAuto"),value:"auto"},{label:this.$tc("acris-discount-group.detail.rrpTaxOptionGross"),value:"gross"},{label:this.$tc("acris-discount-group.detail.rrpTaxOptionNet"),value:"net"}]},calculationTypes(){return[{label:this.$tc("acris-discount-group.detail.calculationOptionSurcharge"),value:"surcharge"},{label:this.$tc("acris-discount-group.detail.calculationOptionDiscount"),value:"discount"}]},languageStore(){return StateDeprecated.getStore("language")}},methods:{createdComponent(){this.repository=this.repositoryFactory.create("acris_discount_group"),this.getEntity(),this.currencyRepository.search(new u,Shopware.Context.api).then(e=>{this.currencies=e,this.defaultCurrency=this.currencies.find(e=>e.isSystemDefault),this.currencySymbol=this.defaultCurrency.symbol})},getEntity(){this.repository.get(this.$route.params.id,Shopware.Context.api,this.discountGroupCriteria).then(e=>{this.item=e})},onClickSave(){this.isLoading=!0;let e=this.$tc("acris-discount-group.detail.titleSaveError"),t=this.$tc("acris-discount-group.detail.messageSaveError"),i=this.$tc("acris-discount-group.detail.titleSaveSuccess"),n=this.$tc("acris-discount-group.detail.messageSaveSuccess");this.isSaveSuccessful=!1,this.isLoading=!0,this.repository.save(this.item,Shopware.Context.api).then(()=>{this.getEntity(),this.isLoading=!1,this.processSuccess=!0,this.createNotificationSuccess({title:i,message:n})}).catch(()=>{this.isLoading=!1,this.createNotificationError({title:e,message:t})})},saveFinish(){this.processSuccess=!1},onChangeLanguage(){this.getEntity()}}}),i(687);var p=JSON.parse('{"acris-discount-group-c-s":{"general":{"mainMenuItemGeneral":"Rabattgruppen","mainMenuItemMoreSettings":"Weitere Einstellungen","descriptionTextModule":"Konfigurieren Sie Rabattgruppen.","placeholderSearchBar":"Rabattgruppen suchen","initialSearchType":"Rabattgruppen"},"list":{"textHeadline":"Rabattgruppen","buttonAdd":"Rabattgruppe hinzuf\xfcgen","columnInternalName":"Interner Name","columnInternalId":"Interne ID","columnPriority":"Priorit\xe4t","columnRules":"Regeln","columnProductStreams":"Dynamische Produktgruppen","columnDiscountType":"Rabatt-Typ","columnDiscount":"Rabatt","columnMinQuantity":"Von","columnMaxQuantity":"Bis","columnActive":"Aktiv","columnCustomerAssignmentType":"Kundenzuordnung","columnProductAssignmentType":"Produktzuordnung","columnListPriceType":"Art des Listenpreises","columnCalculationBase":"Berechnungsbasis","columnExcluded":"Rabatte mit geringerer Priorit\xe4t ausschlie\xdfen","columnAccountDisplay":"Im Accountbereich anzeigen","columnDisplayName":"Angezeigter Name der Rabattgruppe","customerAssignmentOptionCustomer":"Kunde:","customerAssignmentOptionRules":"Regeln:","customerAssignmentOptionMaterialGroup":"Kunden-Rabattgruppe:","customerAssignmentOptionNoRules":"Regeln","customerAssignmentOptionEveryCustomer":"Jeder Kunde","productAssignmentOptionProduct":"Produkt:","productAssignmentOptionMaterialGroup":"Warengruppe (Rabattgruppe):","productAssignmentOptionDynamicProductGroup":"Dynamische Produktgruppen:","productAssignmentOptionEveryProduct":"Jedes Produkt","productAssignmentOptionDynamicProductGroupEmpty":"Dynamische Produktgruppen","calculationBaseOptionPrice":"Produktpreis","calculationBaseOptionListPrice":"Streichpreis","calculationBaseOptionRrp":"UVP","calculationBaseOptionPurchasePrice":"Einkaufspreis","contentEmpty":"Es sind noch keine Rabattgruppen vorhanden.","messageSaveError":"Die Rabattgruppe konnte nicht gespeichert werden.","messageSaveSuccess":"Die Rabattgruppe wurde gespeichert.","titleSidebarItemRefresh":"Aktualisieren"},"detail":{"textHeadline":"Konfiguration der Rabattgruppe","buttonSave":"Speichern","buttonCancel":"Abbrechen","cardGeneral":"Allgemein","cardDiscount":"Rabatt","cardCustomer":"Kundenzuordnung","cardProduct":"Produktzuordnung","cardScalePrice":"Staffelrabatte","cardAccountDisplay":"Anzeige im Accountbereich","fieldTitleLabelInternalName":"Interner Name","fieldTitlePlaceholderInternalName":"Interner Name eingeben...","fieldTitleLabelInternalId":"Interne ID","fieldTitleHelpTextInternalId":"Wird im Bestellprozess gespeichert und ist n\xfctzlich f\xfcr weitere Prozesse um zu wissen, welche Rabattgruppen zur Anwendung kamen.","fieldTitlePlaceholderInternalId":"Interne ID eingeben...","fieldTitleLabelPriority":"Priorit\xe4t","fieldTitleHelpTextPriority":"Die Priorit\xe4t bestimmt, welcher Rabatt zuerst angewendet werden soll. Umso h\xf6her die Priorit\xe4t, desto fr\xfcher wird der Rabatt angewendet. Dies ist vor allem auch relevant, wenn Rabatte in Prozent angegeben werden.","fieldTitlePlaceholderPriority":"Priorit\xe4t eingeben...","fieldTitleLabelDiscountType":"Rabatt-Typ","fieldTitleLabelListPriceType":"Wie sollen der Streichpreis und die Ersparnis dargestellt werden?","fieldTitleLabelCalculationBase":"Rabattberechnung ausgehend von","fieldTitleHelpTextLabelCalculationBase":"<strong>Beispiel \\"Produktpreis\\":</strong><ul>Produktpreis:  100,-<br>Streichpreis  120,-<br>Prozentueller Rabatt: 50%<br><strong>Ergebnis Verkaufspreis:  50,-</strong><br><br></ul><strong>Beispiel \\"Streichpreis\\":</strong><ul>Produktpreis:  100,-<br>Streichpreis  120,-<br>Prozentueller Rabatt: 50%<br><strong>Ergebnis Verkaufspreis:  60,-</strong><br><br></ul><strong>Beispiel \\"UVP\\" (ACRIS UVP Plugin):</strong><ul>Produktpreis:  100,-<br>Streichpreis  120,-<br>UVP  180,-<br>Prozentueller Rabatt: 50%<br><strong>Ergebnis Verkaufspreis:  90,-</strong><br></ul>","fieldTitleLabelRrpTax":"Berechnung auf Basis des UVP Brutto / Netto","fieldTitleLabelRrpTaxDisplay":"Anzeige UVP Brutto / Netto","fieldTitleLabelCalculationType":"Aufschlag / Abschlag","fieldTitleHelpTextCalculationType":"Die Rabattgruppe weist je nach ausgew\xe4hlter Option einen Rabatt oder einen Aufschlag zu.","calculationOptionSurcharge":"Aufschlag","calculationOptionDiscount":"Abschlag","fieldTitleLabelDiscount":"Rabatt","fieldTitlePlaceholderDiscount":"Rabatt eingeben...","fieldTitleLabelActive":"Aktiv","fieldTitleHelpTextActive":"Wenn die Rabattgruppe aktiv ist, wird sie an der Storefront verwendet.","rulesSelectFieldLabel":"Zuweisung der Rabattregeln","rulesSelectFieldHelpText":"Die Rabattregel wird aktiv, wenn eine der angegebenen Regeln \xfcbereinstimmt (ODER-Verkn\xfcpfung). Wird keine Regel ausgew\xe4hlt, wird der Rabatt immer f\xfcr die der dynamischen Produktgruppe zugewiesenen Produkte berechnet.","rulesSelectFieldPlaceholder":"Rabattregeln ausw\xe4hlen...","productStreamsSelectFieldLabel":"Zuweisung der Produkte","productStreamsSelectFieldHelpText":"Der Rabatt wird angewendet, wenn eine der dynamischen Produktgruppen zutrifft (ODER-Verkn\xfcpfung).","productStreamsSelectFieldPlaceholder":"Dynamische Produktgruppen ausw\xe4hlen...","fieldTitleLabelActiveFrom":"Aktiv von","fieldTitlePlaceholderActiveFrom":"W\xe4hlen Sie aktiv ab Datum...","fieldTitleLabelActiveUntil":"Aktiv bis","fieldTitlePlaceholderActiveUntil":"W\xe4hlen Sie aktiv bis Datum...","absoluteOption":"Absolut","percentageOption":"Prozentsatz","fieldTitleLabelCustomerAssignmentType":"Kundenzuordnung","fieldTitleHelpTextCustomerAssignmentType":"Die Rabattgruppe wird dem Kunden mit einem der ausgew\xe4hlten Zuordnungstypen zugewiesen.","fieldTitleLabelCustomer":"Kunde","fieldTitlePlaceholderCustomer":"Kunde ausw\xe4hlen...","fieldTitleHelpTextCustomer":"Die Rabattgruppe wird dem ausgew\xe4hlten Kunden zugewiesen.","fieldTitleLabelProductAssignmentType":"Produktzuordnung","fieldTitleHelpTextProductAssignmentType":"Die Rabattgruppe wird dem Produkt mit einem der ausgew\xe4hlten Zuordnungstypen zugeordnet.","fieldTitleLabelProduct":"Produkt","fieldTitlePlaceholderProduct":"Produkt ausw\xe4hlen...","fieldTitleHelpTextProduct":"Die Rabattgruppe wird dem ausgew\xe4hlten Produkt zugewiesen.","fieldTitleLabelMaterialGroupProduct":"Warengruppe (Rabattgruppe)","fieldTitlePlaceholderMaterialGroupProduct":"Warengruppe (Rabattgruppe) eingeben...","fieldTitleHelpTextMaterialGroupProduct":"Die Warengruppe (Rabattgruppe) kann \xfcber das ACRIS Plugin verwendet werden, um allen Produkten mit derselben Warengruppe (Rabattgruppe) einen Rabatt zu erm\xf6glichen.","fieldTitleLabelMaterialGroupCustomer":"Kunden-Rabattgruppe","fieldTitlePlaceholderMaterialGroupCustomer":"Kunden-Rabattgruppe eingeben...","fieldTitleHelpTextMaterialGroupCustomer":"Die Kunden-Rabattgruppe kann \xfcber das ACRIS Plugin verwendet werden, um mehreren Kunden mit derselben Kunden-Rabattgruppe einen Rabatt zu erm\xf6glichen.","fieldTitleHelpTextInternalName":"Der interne Name der Rabattgruppe wird auf der Seite mit den Rabattgruppen in der Verwaltung angezeigt.","fieldTitleLabelAccountDisplay":"Im Accountbereich anzeigen","fieldTitleHelpTextAccountDisplay":"","fieldTitleLabelAccountDisplayText":"Anzeige Text im Accountbereich","fieldTitlePlaceholderAccountDisplayText":"","fieldTitleLabelMinQuantity":"Von","fieldTitleLabelMaxQuantity":"Bis","fieldTitleHelpTextMaxQuantity":"Wird \\"Bis\\" leer gelassen, gibt es keine Obergrenze f\xfcr den Rabatt.","fieldTitleLabelDisplayName":"Angezeigter Name der Rabattgruppe","fieldTitlePlaceholderDisplayName":"Angezeigter Name der Rabattgruppe eingeben...","fieldTitleHelpTextDisplayName":"Der Name wird auf der Produktdetailseite ausgegeben, wenn die Anzeige der Preisstaffeln in den Plugineinstellungen aktiviert wurde.","customerAssignmentOptionCustomer":"Kunde","customerAssignmentOptionRules":"Regeln","customerAssignmentOptionMaterialGroup":"Kunden-Rabattgruppe","customerAssignmentOptionNoRules":"Regeln","customerAssignmentOptionEveryCustomer":"F\xfcr alle Kunden anwenden (angemeldet oder unangemeldet)","productAssignmentOptionProduct":"Produkt","productAssignmentOptionMaterialGroup":"Warengruppe (Rabattgruppe)","productAssignmentOptionDynamicProductGroup":"Dynamische Produktgruppen","productAssignmentOptionEveryProduct":"F\xfcr alle Produkte anwenden","productAssignmentOptionDynamicProductGroupEmpty":"Dynamische Produktgruppen","listPriceOptionIgnore":"Streichpreis am Produkt vorhanden: diesen anzeigen. - Kein Streichpreis am Produkt vorhanden: keinen anzeigen.","listPriceOptionRrp":"UVP am Produkt vorhanden: diesen anzeigen. - Kein UVP am Produkt vorhanden: keinen anzeigen.","listPriceOptionSet":"Streichpreis am Produkt vorhanden: diesen anzeigen. - Kein Streichpreis am Produkt vorhanden: urspr\xfcnglichen Produktpreis als Streichpreis anzeigen.","listPriceOptionSetRrp":"UVP am Produkt vorhanden: diesen anzeigen. - Kein UVP am Produkt vorhanden: urspr\xfcnglichen Produktpreis als Streichpreis anzeigen.","listPriceOptionSetPrice":"Immer den urspr\xfcnglichen Verkaufspreises des Produktes als Streichpreis anzeigen, auch wenn das Produkt einen eigenen Streichpreis oder UVP besitzt.","listPriceOptionPurchasePrice":"Einkaufspreis am Produkt vorhanden: diesen anzeigen. - Kein Einkaufspreis am Produkt vorhanden: keinen anzeigen.","listPriceOptionRemove":"Keinen Streichpreis anzeigen.","fieldTitleLabelExcluded":"Rabatte mit geringerer Priorit\xe4t ausschlie\xdfen","fieldTitleHelpTextExcluded":"Die Rabatte mit niedrigerer Priorit\xe4t werden von der Preisberechnung f\xfcr das Produkt ausgeschlossen. Der Ausschluss erfolgt ohne Ber\xfccksichtigung auf Staffelrabatte.","calculationBaseOptionPrice":"Produktpreis (Standard)","calculationBaseOptionListPrice":"Streichpreis (Fallback: Produktpreis)","calculationBaseOptionRrp":"UVP (Fallback: Produktpreis) (Aus ACRIS UVP Plugin)","calculationBaseOptionPurchasePrice":"Einkaufspreis (Fallback: Produktpreis)","rrpTaxOptionAuto":"Auto","rrpTaxOptionGross":"Berechnung immer auf Basis des Brutto UVP","rrpTaxOptionNet":"Berechnung immer auf Basis des Netto UVP","titleSaveError":"Fehler","titleSaveSuccess":"Erfolg","messageSaveError":"Die Rabattgruppe konnte nicht gespeichert werden.","messageSaveSuccess":"Die Rabattgruppe wurde gespeichert.","acrisRrpPluginAlert":"Wichtig: Um die Funktionalit\xe4t zu gew\xe4hrleisten muss das \\"ACRIS UVP\\" Plugin ebenfalls installiert und aktiviert sein."},"product":{"discountGroupTabTitle":"Rabattgruppen","buttonDeleteTab":"L\xf6schen","deleteConfirmTitle":"Rabattgruppe l\xf6schen","deleteConfirmText":"M\xf6chten Sie eine Rabattgruppe l\xf6schen?","deleteButtonCancel":"Abbrechen","deleteButtonDelete":"L\xf6schen","titleSaveError":"Fehler","messageSaveErrorDiscount":"Das Rabattgruppenfeld Rabatt muss gr\xf6\xdfer als 0 sein (Rabatt > 0).","messageSaveError":"Das Rabattgruppenfeld {Name} darf nicht leer sein.","messageSaveErrorRules":"Der Rabattgruppe m\xfcssen Regeln zugeordnet sein.","buttonAddDiscountGroup":"Neue Rabattgruppe hinzuf\xfcgen","emptyStateDescription":"F\xfcr dieses Produkt wurden noch keine Rabattgruppen konfiguriert.","generalDiscountGroupCard":"Direkt dem Produkt zugeordnete Rabatte","fieldTitleLabelDiscountGroupValue":"Warengruppe (Rabattgruppe)","fieldTitlePlaceholderDiscountGroupValue":"Warengruppe (Rabattgruppe) eingeben...","fieldTitleHelpTextDiscountGroupValue":"Die Warengruppe (Rabattgruppe) kann \xfcber das ACRIS Plugin verwendet werden, um allen Produkten mit derselben Warengruppe (Rabattgruppe) einen Rabatt zu erm\xf6glichen."},"customer":{"discountGroupTabTitle":"Rabattgruppen","buttonDeleteTab":"L\xf6schen","deleteConfirmTitle":"Rabattgruppe l\xf6schen","deleteConfirmText":"M\xf6chten Sie eine Rabattgruppe l\xf6schen?","deleteButtonCancel":"Abbrechen","deleteButtonDelete":"L\xf6schen","titleSaveError":"Fehler","messageSaveErrorDiscount":"Das Rabattgruppenfeld Rabatt muss gr\xf6\xdfer als 0 sein (Rabatt > 0).","messageSaveError":"Das Rabattgruppenfeld {Name} darf nicht leer sein.","messageSaveErrorRules":"Der Rabattgruppe m\xfcssen Regeln zugeordnet sein.","buttonAddDiscountGroup":"Neue Rabattgruppe hinzuf\xfcgen","emptyStateDescription":"F\xfcr diesen Kunden wurden noch keine Rabattgruppen konfiguriert.","messageSaveErrorDynamicProductGroups":"Der Rabattgruppe m\xfcssen dynamische Produktgruppen zugeordnet sein.","messageSaveErrorProductAssignmentTypeError":"Das Rabattgruppenfeld Produktzuordnungsart darf nicht leer sein.","generalDiscountGroupCard":"Direkt dem Kunden zugeordnete Rabatte","fieldTitleLabelDiscountGroupValue":"Kunden-Rabattgruppe","fieldTitlePlaceholderDiscountGroupValue":"Kunden-Rabattgruppe eingeben...","fieldTitleHelpTextDiscountGroupValue":"Die Kunden-Rabattgruppe kann \xfcber das ACRIS Plugin verwendet werden, um mehreren Kunden mit derselben Kunden-Rabattgruppe einen Rabatt zu erm\xf6glichen."},"import-export-profile":{"discountGroupLabel":"ACRIS Rabattgruppen"},"promotion":{"preventCombinationFieldLabel":"Verhindert die Kombination mit ACRIS Rabatt Gruppen","preventCombinationFieldHelpText":"Wenn aktiv, dann werden die aktiven Rabattgruppen aus dem Warenkorb entfernt und es wird nicht m\xf6glich sein, die Rabattgruppe zum Warenkorb hinzuzuf\xfcgen, wenn dieser Aktionsrabatt f\xfcr den Warenkorb im Schaufenster gilt."}}}'),m=JSON.parse('{"acris-discount-group-c-s":{"general":{"mainMenuItemGeneral":"Discount groups","mainMenuItemMoreSettings":"More settings","descriptionTextModule":"Configure discount groups.","placeholderSearchBar":"Search discount groups","initialSearchType":"Discount groups"},"list":{"textHeadline":"Discount groups","buttonAdd":"Add discount group","columnInternalName":"Internal name","columnInternalId":"Internal id","columnPriority":"Priority","columnRules":"Rules","columnProductStreams":"Dynamic product groups","columnDiscountType":"Discount type","columnDiscount":"Discount","columnMinQuantity":"From","columnMaxQuantity":"To","columnActive":"Active","columnCustomerAssignmentType":"Type of customer assignment","columnProductAssignmentType":"Type of product assignment","columnListPriceType":"Type of the list price","columnCalculationBase":"Calculation basis","columnExcluded":"Exclude discounts with lower priority","columnAccountDisplay":"Display in the account area","columnDisplayName":"Display name of discount group","customerAssignmentOptionCustomer":"Customer:","customerAssignmentOptionRules":"Rules:","customerAssignmentOptionMaterialGroup":"Customer discount group:","customerAssignmentOptionNoRules":"Rules","customerAssignmentOptionEveryCustomer":"Every Customer","productAssignmentOptionProduct":"Product:","productAssignmentOptionMaterialGroup":"Merchandise group (discount group):","productAssignmentOptionDynamicProductGroup":"Dynamic product groups:","productAssignmentOptionEveryProduct":"Every product","productAssignmentOptionDynamicProductGroupEmpty":"Dynamic product groups","calculationBaseOptionPrice":"Product price","calculationBaseOptionListPrice":"List price","calculationBaseOptionRrp":"RRP","calculationBaseOptionPurchasePrice":"Purchase price","contentEmpty":"There are no discount groups yet.","messageSaveError":"Discount group could not be saved.","messageSaveSuccess":"Discount group has been saved.","titleSidebarItemRefresh":"Refresh"},"detail":{"textHeadline":"Discount group configuration","buttonSave":"Save","buttonCancel":"Cancel","cardGeneral":"General","cardDiscount":"Discount","cardCustomer":"Customer selection","cardProduct":"Product assignment","cardScalePrice":"Scale discounts","cardAccountDisplay":"Display in the account area","fieldTitleLabelInternalName":"Internal name","fieldTitlePlaceholderInternalName":"Enter internal name...","fieldTitleLabelInternalId":"Internal id","fieldTitleHelpTextInternalId":"Saved in the order process and useful for further processes to know which discount groups were applied.","fieldTitlePlaceholderInternalId":"Enter internal id...","fieldTitleLabelPriority":"Priority","fieldTitleHelpTextPriority":"The priority determines which discount should be applied first. The higher the priority, the earlier the discount is applied. This is also particularly relevant when discounts are given as a percentage.","fieldTitlePlaceholderPriority":"Enter priority...","fieldTitleLabelDiscountType":"Discount type","fieldTitleLabelListPriceType":"How should the list price and savings be presented?","fieldTitleLabelCalculationBase":"Discount calculation based on","fieldTitleHelpTextLabelCalculationBase":"<strong>Example \\"Product price\\":</strong><ul>Product price:  100,-<br>List price  120,-<br>Percentage discount: 50%<br><strong>Result sale price:  50,-</strong><br><br></ul><strong>Example \\"List price\\":</strong><ul>Product price:  100,-<br>List price  120,-<br>Percentage discount: 50%<br><strong>Result sale price:  60,-</strong><br></ul><br><strong>Example \\"RRP\\" (ACRIS RRP plugin):</strong><ul>Product price:  100,-<br>List price  120,-<br>RRP  180,-<br>Percentage discount: 50%<br><strong>Result sale price:  90,-</strong><br></ul>","fieldTitleLabelRrpTax":"Calculation based on RRP gross / net","fieldTitleLabelRrpTaxDisplay":"Display RRP gross / net","fieldTitleLabelCalculationType":"Surcharge / Discount","fieldTitleHelpTextCalculationType":"The discount group will assign discount or surcharge based on selected option.","calculationOptionSurcharge":"Surcharge","calculationOptionDiscount":"Discount","fieldTitleLabelDiscount":"Discount","fieldTitlePlaceholderDiscount":"Enter discount...","fieldTitleLabelActive":"Active","fieldTitleHelpTextActive":"If discount group is active then it will be used at Storefront.","rulesSelectFieldLabel":"Assignment of rules","rulesSelectFieldHelpText":"The discount rule becomes active if one of the specified rules matches (OR link). If no rule is selected, the discount is always calculated for the products assigned to the dynamic product group.","rulesSelectFieldPlaceholder":"Select rules...","productStreamsSelectFieldLabel":"Product assignment","productStreamsSelectFieldHelpText":"The discount is applied if one of the dynamic product groups applies (OR link).","productStreamsSelectFieldPlaceholder":"Select dynamic product groups...","fieldTitleLabelActiveFrom":"Active from","fieldTitlePlaceholderActiveFrom":"Select active from date...","fieldTitleLabelActiveUntil":"Active until","fieldTitlePlaceholderActiveUntil":"Select active until date...","absoluteOption":"Absolute","percentageOption":"Percentage","fieldTitleLabelCustomerAssignmentType":"Type of customer assignment","fieldTitleHelpTextCustomerAssignmentType":"The discount group will be assigned to the customer with one of the selected assignment type.","fieldTitleLabelCustomer":"Customer","fieldTitlePlaceholderCustomer":"Select customer...","fieldTitleHelpTextCustomer":"The discount group will be assigned to the selected customer.","fieldTitleLabelProductAssignmentType":"Type of product assignment","fieldTitleHelpTextProductAssignmentType":"The discount group will be assigned to the product with one of the selected assignment type.","fieldTitleLabelProduct":"Product","fieldTitlePlaceholderProduct":"Select product...","fieldTitleHelpTextProduct":"The discount group will be assigned to the selected product.","fieldTitleLabelMaterialGroupProduct":"Merchandise group (discount group)","fieldTitlePlaceholderMaterialGroupProduct":"Enter merchandise group (discount group)...","fieldTitleHelpTextMaterialGroupProduct":"The merchandise group (discount group) can be used via the ACRIS plugin to allow all products with the same merchandise group (discount group) to receive a discount.","fieldTitleLabelMaterialGroupCustomer":"Customer discount group","fieldTitlePlaceholderMaterialGroupCustomer":"Enter customer discount group...","fieldTitleHelpTextMaterialGroupCustomer":"The customer discount group can be used via the ACRIS plugin to allow multiple customers with the same customer discount group to receive a discount.","fieldTitleHelpTextInternalName":"The discount group internal name will be displayed at discount group listing page in Administration.","fieldTitleLabelAccountDisplay":"Display in the account area","fieldTitleHelpTextAccountDisplay":"","fieldTitleLabelAccountDisplayText":"Display text in account area","fieldTitlePlaceholderAccountDisplayText":"","fieldTitleLabelMinQuantity":"Von","fieldTitleLabelMaxQuantity":"To","fieldTitleHelpTextMaxQuantity":"If \\"To\\" is left blank, there is no upper limit for the discount.","fieldTitleLabelDisplayName":"Display name of discount group","fieldTitlePlaceholderDisplayName":"Enter display name of discount group...","fieldTitleHelpTextDisplayName":"The name is output on the product detail page if the display of price scales has been activated in the plugin settings.","customerAssignmentOptionCustomer":"Customer","customerAssignmentOptionRules":"Rules","customerAssignmentOptionMaterialGroup":"Customer discount group","customerAssignmentOptionNoRules":"Rules","customerAssignmentOptionEveryCustomer":"Use for all customers (registered or unregistered)","productAssignmentOptionProduct":"Product","productAssignmentOptionMaterialGroup":"Merchandise group (discount group)","productAssignmentOptionDynamicProductGroup":"Dynamic product groups","productAssignmentOptionEveryProduct":"Use for all products","productAssignmentOptionDynamicProductGroupEmpty":"Dynamic product groups","listPriceOptionIgnore":"List price available on the product: display this. - If there is no list price on the product: do not display one.","listPriceOptionRrp":"RRP available on the product: display this. - If there is no RRP on the product: do not display one.","listPriceOptionSet":"List price available on the product: display this. - If there is no list price on the product: display the original product price as the list price.","listPriceOptionSetRrp":"RRP available on the product: display this. - If there is no RRP on the product: display the original product price as the list price.","listPriceOptionSetPrice":"Always display the original selling price of the product as the list price, even if the product has its own list price or RRP.","listPriceOptionPurchasePrice":"Purchase price available on the product: display this. - If there is no Purchase price on the product: do not display one.","listPriceOptionRemove":"Do not display a list price.","fieldTitleLabelExcluded":"Exclude discounts with lower priority","fieldTitleHelpTextExcluded":"The discounts with lower priority will be excluded from price calculation for the product. The exclusion is without regard to sliding scale discounts.","calculationBaseOptionPrice":"Product price (default)","calculationBaseOptionListPrice":"List price (Fallback: Product price)","calculationBaseOptionRrp":"RRP (Fallback: Product price) (From ACRIS RRP plugin)","calculationBaseOptionPurchasePrice":"Purchase price (fallback: product price)","rrpTaxOptionAuto":"Auto","rrpTaxOptionGross":"Calculation always based on the gross RRP","rrpTaxOptionNet":"Calculation always based on the net RRP","titleSaveError":"Error","titleSaveSuccess":"Success","messageSaveError":"Discount group could not be saved.","messageSaveSuccess":"Discount group has been saved.","acrisRrpPluginAlert":"Important: To ensure functionality, the \\"ACRIS RRP\\" plugin must also be installed and activated."},"product":{"discountGroupTabTitle":"Discount groups","buttonDeleteTab":"Delete","deleteConfirmTitle":"Delete discount group","deleteConfirmText":"Do you want to delete discount group?","deleteButtonCancel":"Cancel","deleteButtonDelete":"Delete","titleSaveError":"Error","messageSaveErrorDiscount":"Discount group field discount must be higher than 0 (discount > 0).","messageSaveError":"Discount group field {name} must not be empty.","messageSaveErrorRules":"Discount group must have assigned rules.","buttonAddDiscountGroup":"Add new discount group","emptyStateDescription":"There are no discount groups configured for this product, yet.","generalDiscountGroupCard":"Discounts assigned directly to the product","fieldTitleLabelDiscountGroupValue":"Merchandise group (discount group)","fieldTitlePlaceholderDiscountGroupValue":"Enter merchandise group (discount group)...","fieldTitleHelpTextDiscountGroupValue":"The merchandise group (discount group) can be used via the ACRIS plugin to allow all products with the same merchandise group (discount group) to receive a discount."},"customer":{"discountGroupTabTitle":"Discount groups","buttonDeleteTab":"Delete","deleteConfirmTitle":"Delete discount group","deleteConfirmText":"Do you want to delete discount group?","deleteButtonCancel":"Cancel","deleteButtonDelete":"Delete","titleSaveError":"Error","messageSaveErrorDiscount":"Discount group field discount must be higher than 0 (discount > 0).","messageSaveError":"Discount group field {name} must not be empty.","messageSaveErrorRules":"Discount group must have assigned rules.","buttonAddDiscountGroup":"Add new discount group","emptyStateDescription":"There are no discount groups configured for this customer, yet.","messageSaveErrorDynamicProductGroups":"Discount group must have assigned dynamic product groups.","messageSaveErrorProductAssignmentTypeError":"Discount group field product assignment type must not be empty.","generalDiscountGroupCard":"Discounts assigned directly to the customer","fieldTitleLabelDiscountGroupValue":"Customer discount group","fieldTitlePlaceholderDiscountGroupValue":"Enter customer discount group...","fieldTitleHelpTextDiscountGroupValue":"The customer discount group can be used via the ACRIS plugin to allow multiple customers with the same customer discount group to receive a discount."},"import-export-profile":{"discountGroupLabel":"ACRIS Discount Groups"},"promotion":{"preventCombinationFieldLabel":"Prevents combination with ACRIS discount groups","preventCombinationFieldHelpText":"If active, then the active discount groups will be removed from the cart and it will not be possible to add the discount group to the cart if this promotion discount apply to the cart in the Storefront."}}}');let{Module:g}=Shopware;g.register("acris-discount-group",{type:"plugin",name:"AcrisDiscountGroup",title:"acris-discount-group.general.mainMenuItemGeneral",description:"acris-discount-group.general.descriptionTextModule",version:"1.0.0",targetVersion:"1.0.0",color:"#a6c836",icon:"regular-users",favicon:"icon-module-settings.png",snippets:{"de-DE":p,"en-GB":m},routes:{index:{component:"acris-discount-group-list",path:"index",meta:{parentPath:"acris.discount.group.menu.index"}},detail:{component:"acris-discount-group-detail",path:"detail/:id",meta:{parentPath:"acris.discount.group.index"}},create:{component:"acris-discount-group-create",path:"create",meta:{parentPath:"acris.discount.group.index"}}}});let{Mixin:_}=Shopware,{Component:b}=Shopware;b.register("acris-discount-group-menu",{template:'{% block acris_discount_group_index_index %}\n<sw-page class="acris-discount-group-menu-index sw-settings-index">\n    {% block acris_discount_group_index_index_smart_bar_header %}\n    <template #smart-bar-header>\n        {% block acris_discount_group_index_index_smart_bar_header_title %}\n        <h2>\n            {% block acris_discount_group_index_index_smart_bar_header_title_text %}\n                {{ $tc(\'acris-discount-group.general.mainMenuItemGeneral\') }}\n            {% endblock %}\n        </h2>\n        {% endblock %}\n    </template>\n    {% endblock %}\n\n    {% block acris_discount_group_index_index_content %}\n    <template #content>\n        {% block acris_discount_group_index_index_content_card_view %}\n        <sw-card-view>\n            {% block acris_discount_group_index_index_content_card %}\n            <sw-card class="acris-discount-group-menu_index__card">\n                {% block acris_discount_group_index_index_content_grid %}\n                <div class="acris-settings-content-grid sw-settings__content-grid sw-settings__tabs">\n                    {% block acris_discount_group_index_index_card_item %}\n                        {% block acris_discount_group_index_rule %}\n                            <sw-settings-item\n                                :label="$tc(\'acris-discount-group.general.mainMenuItemGeneral\')"\n                                :to="{ name: \'acris.discount.group.index\' }"\n                                class="acris-settings-item">\n                                <template #icon>\n                                    <sw-icon name="regular-rule"></sw-icon>\n                                </template>\n                            </sw-settings-item>\n                        {% endblock %}\n                        {% block acris_discount_group_more_config %}\n                            {% set baseUrl = app.request.getScheme() ~ \'://\' ~ app.request.getHost() %}\n                            <sw-settings-item\n                                id="acris-discount-group"\n                                :label="$tc(\'acris-discount-group.general.mainMenuItemMoreSettings\')"\n                                :to="{name: \'sw.extension.config\', params: { namespace: \'AcrisDiscountGroupCS\' }}"\n                                class="acris-settings-item">\n                                <template #icon>\n                                    <sw-icon name="regular-cog"></sw-icon>\n                                </template>\n                            </sw-settings-item>\n                        {% endblock %}\n                    {% endblock %}\n                </div>\n                {% endblock %}\n            </sw-card>\n            {% endblock %}\n        </sw-card-view>\n        {% endblock %}\n    </template>\n    {% endblock %}\n</sw-page>\n{% endblock %}\n',mixins:[_.getByName("notification")],metaInfo(){return{title:this.$createTitle()}}});let{Module:h}=Shopware;h.register("acris-discount-group-menu",{type:"plugin",name:"AcrisDiscountGroup",title:"acris-discount-group.general.mainMenuItemGeneral",description:"acris-discount-group.general.descriptionTextModule",version:"1.0.0",targetVersion:"1.0.0",color:"#a6c836",icon:"regular-cog",routes:{index:{component:"acris-discount-group-menu",path:"index",icon:"regular-cog",meta:{parentPath:"sw.settings.index.plugins"}}},settingsItem:[{name:"acris-discount-group-menu",to:"acris.discount.group.menu.index",label:"acris-discount-group.general.mainMenuItemGeneral",group:"plugins",icon:"regular-cog"}]}),i(979);let{Criteria:f}=Shopware.Data,{Component:v}=Shopware,{mapPropertyErrors:y,mapGetters:T,mapState:k}=v.getComponentHelper(),w=new c;v.register("acris-discount-groups-form",{template:'{% block acris_discount_groups_form %}\n<div class="acris-discount-group-detail-tabs">\n\n    {% block acris_discount_groups_form_card %}\n    <sw-card :title="acrisDiscountGroup.internalName" class="acris-discount-group-product-tab-card">\n        <div v-if="!isLoading && acrisDiscountGroup" class="product-detail-tab-form__card-container">\n            {% block acris_discount_groups_form_context_menu %}\n            <div class="acris-discount-group-detail-context-button">\n                <sw-context-button>\n                    {% block acris_discount_groups_form_context_button_delete %}\n                    <sw-context-menu-item\n                        variant="danger"\n                        class="acris-discount-group-context-acris_discount_group__delete-action"\n                        @click="onShowDeleteModal"\n                        :disabled="!allowEdit">\n                        {{ $tc(\'acris-discount-group.product.buttonDeleteTab\') }}\n                    </sw-context-menu-item>\n                    {% endblock %}\n                </sw-context-button>\n            </div>\n            {% endblock %}\n\n            <div class="acris-discount-group-headline">\n                <h2>{{ $tc(\'acris-discount-group.detail.cardGeneral\') }}</h2>\n            </div>\n            {% block acris_discount_group_detail_content_internal_name %}\n            <sw-text-field v-model:value="acrisDiscountGroup.internalName"\n                           class="acris-discount-group-detail__acris_discount_group_internalName"\n                           :label="$tc(\'acris-discount-group.detail.fieldTitleLabelInternalName\')"\n                           :helpText="$tc(\'acris-discount-group.detail.fieldTitleHelpTextInternalName\')"\n                           :placeholder="$tc(\'acris-discount-group.detail.fieldTitlePlaceholderInternalName\')">\n            </sw-text-field>\n            {% endblock %}\n\n            {% block acris_discount_group_detail_content_active %}\n            <sw-switch-field v-model:value="acrisDiscountGroup.active"\n                      class="acris-discount-group-detail__acris_discount_group_active"\n                      :label="$tc(\'acris-discount-group.detail.fieldTitleLabelActive\')"\n                      :helpText="$tc(\'acris-discount-group.detail.fieldTitleHelpTextActive\')">\n            </sw-switch-field>\n            {% endblock %}\n\n            {% block acris_discount_group_detail_base_active_container %}\n                <sw-container\n                    columns="1fr 1fr"\n                    gap="0 32px"\n                >\n\n                    {% block acris_discount_group_detail_active_from %}\n                        <sw-datepicker\n                            v-model:value="acrisDiscountGroup.activeFrom"\n                            class="acris-discount-group-detail-base__field-active-from"\n                            date-type="datetime-local"\n                            :label="$tc(\'acris-discount-group.detail.fieldTitleLabelActiveFrom\')"\n                            :placeholder-text="$tc(\'acris-discount-group.detail.fieldTitlePlaceholderActiveFrom\')"\n                        />\n                    {% endblock %}\n\n                    {% block acris_discount_group_detail_active_until %}\n                        <sw-datepicker\n                            v-model:value="acrisDiscountGroup.activeUntil"\n                            class="acris-discount-group-detail-base__field-active-until"\n                            date-type="datetime-local"\n                            :label="$tc(\'acris-discount-group.detail.fieldTitleLabelActiveUntil\')"\n                            :placeholder-text="$tc(\'acris-discount-group.detail.fieldTitlePlaceholderActiveUntil\')"\n                        />\n                    {% endblock %}\n\n                </sw-container>\n            {% endblock %}\n\n            {% block acris_discount_group_detail_content_priority %}\n            <sw-number-field numberType="int"\n                             v-model:value="acrisDiscountGroup.priority"\n                             :min="0"\n                             class="acris-discount-group-detail__acris_discount_group_priority"\n                             :label="$tc(\'acris-discount-group.detail.fieldTitleLabelPriority\')"\n                             :helpText="$tc(\'acris-discount-group.detail.fieldTitleHelpTextPriority\')"\n                             :placeholder="$tc(\'acris-discount-group.detail.fieldTitlePlaceholderPriority\')">\n            </sw-number-field>\n            {% endblock %}\n\n            {% block acris_discount_group_detail_content_excluded %}\n            <sw-switch-field v-model:value="acrisDiscountGroup.excluded"\n                      class="acris-discount-group-detail__acris_discount_group_excluded"\n                      :label="$tc(\'acris-discount-group.detail.fieldTitleLabelExcluded\')"\n                      :helpText="$tc(\'acris-discount-group.detail.fieldTitleHelpTextExcluded\')">\n            </sw-switch-field>\n            {% endblock %}\n\n            <div class="acris-discount-group-headline">\n                <h2>{{ $tc(\'acris-discount-group.detail.cardCustomer\') }}</h2>\n            </div>\n            {% block acris_discount_group_detail_content_customer_assignment_type %}\n                <sw-select-field\n                    v-model:value="acrisDiscountGroup.customerAssignmentType"\n                    required\n                    class="acris-discount-group-detail__acris_discount_group_customer_assignment_type"\n                    :label="$tc(\'acris-discount-group.detail.fieldTitleLabelCustomerAssignmentType\')"\n                    :helpText="$tc(\'acris-discount-group.detail.fieldTitleHelpTextCustomerAssignmentType\')">\n                        <option v-for="option in customerAssignmentTypes"\n                            :key="option.value"\n                            :value="option.value">\n                            {{ option.label }}\n                        </option>\n                </sw-select-field>\n            {% endblock %}\n\n            {% block acris_discount_group_detail_customer_select %}\n                <sw-entity-single-select\n                    v-model:value="acrisDiscountGroup.customerId"\n                    entity="customer"\n                    v-if="acrisDiscountGroup.customerAssignmentType === \'customer\'"\n                    required\n                    :label="$tc(\'acris-discount-group.detail.fieldTitleLabelCustomer\')"\n                    :helpText="$tc(\'acris-discount-group.detail.fieldTitleHelpTextCustomer\')"\n                    :placeholder="$tc(\'acris-discount-group.detail.fieldTitlePlaceholderCustomer\')">\n\n                    {% block acris_discount_group_detail_customer_variant_label %}\n                        <template #selection-label-property="{ item }">\n                            {{ item.firstName }} {{ item.lastName }}\n                        </template>\n                    {% endblock %}\n\n                    {% block acris_discount_group_detail_customer_select_result_item %}\n                        <template #result-item="{ item, index }">\n                            <li is="sw-select-result" v-bind="{ item, index }">\n                                {% block acris_discount_group_detail_single_select_customer_base_results_list_result_label %}\n                                    <span class="sw-select-result__result-item-text">\n                                    {{ item.firstName }} {{ item.lastName }}\n                                </span>\n                                {% endblock %}\n                            </li>\n                        </template>\n                    {% endblock %}\n                </sw-entity-single-select>\n            {% endblock %}\n\n            {% block acris_discount_group_detail_content_discount_group %}\n                <sw-text-field v-model:value="acrisDiscountGroup.discountGroup"\n                               required\n                               v-if="acrisDiscountGroup.customerAssignmentType === \'materialGroup\'"\n                               class="acris-discount-group-detail__item_materialGroup"\n                               :label="$tc(\'acris-discount-group.detail.fieldTitleLabelMaterialGroupCustomer\')"\n                               :helpText="$tc(\'acris-discount-group.detail.fieldTitleHelpTextMaterialGroupCustomer\')"\n                               :placeholder="$tc(\'acris-discount-group.detail.fieldTitlePlaceholderMaterialGroupCustomer\')">\n                </sw-text-field>\n            {% endblock %}\n\n            {% block acris_discount_group_detail_content_rules %}\n                <sw-entity-many-to-many-select\n                    v-if="acrisDiscountGroup && acrisDiscountGroup.rules && acrisDiscountGroup.customerAssignmentType === \'rules\'"\n                    :localMode="true"\n                    required\n                    class="acris-discount-group-detail__rules"\n                    :label="$tc(\'acris-discount-group.detail.rulesSelectFieldLabel\')"\n                    :helpText="$tc(\'acris-discount-group.detail.rulesSelectFieldHelpText\')"\n                    :placeholder="$tc(\'acris-discount-group.detail.rulesSelectFieldPlaceholder\')"\n                    v-model:entityCollection="acrisDiscountGroup.rules">\n                </sw-entity-many-to-many-select>\n            {% endblock %}\n\n            <div class="acris-discount-group-headline">\n                <h2>{{ $tc(\'acris-discount-group.detail.cardDiscount\') }}</h2>\n            </div>\n            {% block acris_discount_group_detail_content_discount_container %}\n                <sw-container columns="1fr 1fr" gap="0px 30px">\n                    {% block acris_discount_group_detail_content_discount_type %}\n                        <sw-select-field\n                            v-model:value="acrisDiscountGroup.discountType"\n                            class="acris-discount-group-detail__acris_discount_group_discount_type"\n                            :label="$tc(\'acris-discount-group.detail.fieldTitleLabelDiscountType\')">\n                            <option v-for="option in discountTypes"\n                                    :key="option.value"\n                                    :value="option.value">\n                                {{ option.label }}\n                            </option>\n                        </sw-select-field>\n                    {% endblock %}\n\n                    {% block acris_discount_group_detail_content_discount %}\n                        <sw-number-field\n                            v-model:value="acrisDiscountGroup.discount"\n                            required\n                            :min="0"\n                            class="acris-discount-group-detail__acris_discount_group_discount"\n                            :label="$tc(\'acris-discount-group.detail.fieldTitleLabelDiscount\')"\n                            :placeholder="$tc(\'acris-discount-group.detail.fieldTitlePlaceholderDiscount\')">\n                            <template #suffix>\n                                {{ discountSuffix }}\n                            </template>\n                        </sw-number-field>\n                    {% endblock %}\n                </sw-container>\n            {% endblock %}\n\n            {% block acris_discount_group_detail_content_calcualtion_type %}\n                <sw-select-field\n                    v-model:value="acrisDiscountGroup.calculationType"\n                    class="acris-discount-group-detail__acris_discount_group_calculation_type"\n                    :label="$tc(\'acris-discount-group.detail.fieldTitleLabelCalculationType\')">\n                    <option v-for="option in calculationTypes"\n                            :key="option.value"\n                            :value="option.value">\n                        {{ option.label }}\n                    </option>\n                </sw-select-field>\n            {% endblock %}\n\n            {% block acris_discount_group_detail_content_list_price_type %}\n                <sw-select-field\n                    v-model:value="acrisDiscountGroup.listPriceType"\n                    v-if="acrisDiscountGroup.calculationType === \'discount\'"\n                    required\n                    class="acris-discount-group-detail__acris_discount_group_list_price_type"\n                    :label="$tc(\'acris-discount-group.detail.fieldTitleLabelListPriceType\')">\n                    <option v-for="option in listPriceTypes"\n                            :key="option.value"\n                            :value="option.value">\n                        {{ option.label }}\n                    </option>\n                </sw-select-field>\n            {% endblock %}\n\n            <div class="acris-discount-group-headline">\n                <h2>{{ $tc(\'acris-discount-group.detail.cardScalePrice\') }}</h2>\n            </div>\n\n            {% block acris_discount_group_detail_content_min_quantity %}\n                <sw-number-field\n                    v-model:value="acrisDiscountGroup.minQuantity"\n                    required\n                    class="acris-discount-group-detail__item_min_quantity"\n                    numberType="int"\n                    :min="1"\n                    :label="$tc(\'acris-discount-group.detail.fieldTitleLabelMinQuantity\')">\n                </sw-number-field>\n            {% endblock %}\n\n            {% block acris_discount_group_detail_content_max_quantity %}\n                <sw-number-field\n                    v-model:value="acrisDiscountGroup.maxQuantity"\n                    class="acris-discount-group-detail__item_max_quantity"\n                    numberType="int"\n                    :min="1"\n                    :allowEmpty="true"\n                    :label="$tc(\'acris-discount-group.detail.fieldTitleLabelMaxQuantity\')"\n                    :helpText="$tc(\'acris-discount-group.detail.fieldTitleHelpTextMaxQuantity\')">\n                </sw-number-field>\n            {% endblock %}\n        </div>\n    </sw-card>\n    {% endblock %}\n\n    {% block acris_discount_groups_form_modal_delete %}\n    <sw-modal v-if="showDeleteModal"\n              @modal-close="onCloseDeleteModal"\n              variant="small"\n              :title="$tc(\'acris-discount-group.product.deleteConfirmTitle\')"\n              class="acris-discount-group-detail-delete-modal">\n        {% block acris_discount_groups_form_delete_text %}\n        <p>\n            {{ $tc(\'acris-discount-group.product.deleteConfirmText\') }}\n        </p>\n        {% endblock %}\n\n        {% block acris_discount_groups_form_modal_delete_footer %}\n        <template #modal-footer>\n            {% block acris_product_tabs_modal_delete_action_cancel %}\n            <sw-button @click="onCloseDeleteModal" size="small">\n                {{ $tc(\'acris-discount-group.product.deleteButtonCancel\') }}\n            </sw-button>\n            {% endblock %}\n\n            {% block acris_discount_groups_form_modal_delete_action_delete %}\n            <sw-button\n                class="acris-discount-group-detail-delete-button"\n                size="small"\n                variant="danger"\n                @click="onConfirmDelete">\n                {{ $tc(\'acris-discount-group.product.deleteButtonDelete\') }}\n            </sw-button>\n            {% endblock %}\n        </template>\n        {% endblock %}\n    </sw-modal>\n    {% endblock %}\n</div>\n{% endblock %}\n',inject:["repositoryFactory","acl"],props:{acrisDiscountGroup:{type:Object,required:!0},allowEdit:{type:Boolean,required:!1,default:!0}},data(){return{showDeleteModal:!1,showModalPreview:!1,productStream:null,productStreamFilter:[],optionSearchTerm:"",useManualAssignment:!1,showLayoutModal:!1,emptyCmsPage:null,sortBy:"name",sortDirection:"ASC",assignmentKey:0,currencies:[],defaultCurrency:null,currencySymbol:null}},computed:{...y("acrisDiscountGroup",["discount","customerAssignmentType","productAssignmentType"]),...k("swProductDetail",["product"]),...T("swProductDetail",["isLoading"]),discountSuffix(){return w.getValueSuffix(this.acrisDiscountGroup.discountType,this.currencySymbol)},currencyRepository(){return this.repositoryFactory.create("currency")},discountTypes(){return[{label:this.$tc("acris-discount-group.detail.absoluteOption"),value:"absolute"},{label:this.$tc("acris-discount-group.detail.percentageOption"),value:"percentage"}]},customerAssignmentTypes(){return[{label:this.$tc("acris-discount-group.detail.customerAssignmentOptionCustomer"),value:"customer"},{label:this.$tc("acris-discount-group.detail.customerAssignmentOptionMaterialGroup"),value:"materialGroup"},{label:this.$tc("acris-discount-group.detail.customerAssignmentOptionRules"),value:"rules"},{label:this.$tc("acris-discount-group.detail.customerAssignmentOptionEveryCustomer"),value:"everyCustomer"}]},productAssignmentTypes(){return[{label:this.$tc("acris-discount-group.detail.productAssignmentOptionProduct"),value:"product"},{label:this.$tc("acris-discount-group.detail.productAssignmentOptionMaterialGroup"),value:"materialGroup"},{label:this.$tc("acris-discount-group.detail.productAssignmentOptionDynamicProductGroup"),value:"dynamicProductGroup"},{label:this.$tc("acris-discount-group.detail.productAssignmentOptionEveryProduct"),value:"everyProduct"}]},listPriceTypes(){return[{label:this.$tc("acris-discount-group.detail.listPriceOptionIgnore"),value:"ignore"},{label:this.$tc("acris-discount-group.detail.listPriceOptionSet"),value:"set"},{label:this.$tc("acris-discount-group.detail.listPriceOptionSetPrice"),value:"setPrice"},{label:this.$tc("acris-discount-group.detail.listPriceOptionRemove"),value:"remove"}]},calculationTypes(){return[{label:this.$tc("acris-discount-group.detail.calculationOptionSurcharge"),value:"surcharge"},{label:this.$tc("acris-discount-group.detail.calculationOptionDiscount"),value:"discount"}]},sortingConCat(){return`${this.acrisDiscountGroup.sortBy}:${this.acrisDiscountGroup.sortDirection}`},disablePositioning(){return!!this.term||"position"!==this.sortBy}},created(){this.createdComponent()},methods:{createdComponent(){this.currencyRepository.search(new f,Shopware.Context.api).then(e=>{this.currencies=e,this.defaultCurrency=this.currencies.find(e=>e.isSystemDefault),this.currencySymbol=this.defaultCurrency.symbol})},onShowDeleteModal(){this.showDeleteModal=!0},onCloseDeleteModal(){this.showDeleteModal=!1},onConfirmDelete(){this.onCloseDeleteModal(),this.$nextTick(()=>{this.product.extensions.acrisDiscountGroups.remove(this.acrisDiscountGroup.id)})},onSortingChanged(e){[this.acrisDiscountGroup.sortBy,this.acrisDiscountGroup.sortDirection]=e.split(":")}}});var x=JSON.parse('{"sw.product.discount.group.tab":{"acris_discount_group":["discount","customerAssignmentType","productAssignmentType"]}}');let{Component:P}=Shopware,{Criteria:D}=Shopware.Data,{mapPageErrors:S}=Shopware.Component.getComponentHelper();P.override("sw-product-detail",{template:'{% block sw_product_detail_content_tabs_cross_selling %}\r\n    {% parent() %}\r\n\r\n<sw-tabs-item class="acris-discount-group-product-tab"\r\n              :route="{ name: \'acris.discount.group.product.tab\', params: { id: $route.params.id } }"\r\n              :product="product"\r\n              v-if="!isChild"\r\n              :hasError="swProductDiscountGroupTabError"\r\n              :title="$tc(\'acris-discount-group.product.discountGroupTabTitle\')">\r\n    {{ $tc(\'acris-discount-group.product.discountGroupTabTitle\') }}\r\n</sw-tabs-item>\r\n{% endblock %}\r\n\r\n',computed:{...S(x),productCriteria(){let e=this.$super("productCriteria");return e.addAssociation("acrisDiscountGroups"),e.addAssociation("acrisDiscountGroups.product"),e.addAssociation("acrisDiscountGroups.customer"),e.addAssociation("acrisDiscountGroups.rules"),e.addAssociation("acrisDiscountGroups.productStreams"),e.getAssociation("acrisDiscountGroups").addSorting(D.sort("priority","DESC")),e},isDisabled(){return Shopware.State.get("acrisDiscountGroup").isDisabled}},methods:{onSave(){if(this.errorExists=!1,this.product&&this.product.extensions&&this.product.extensions.acrisDiscountGroups){this.product.acrisDiscountGroups=this.product.extensions.acrisDiscountGroups;let e=this.$tc("acris-discount-group.product.titleSaveError");this.product.extensions.acrisDiscountGroups.forEach(t=>{if(t.discount<0&&!this.errorExists){let t=this.$tc("acris-discount-group.product.messageSaveErrorDiscount",0,{name:"discount"});this.errorExists=!0,this.createNotificationError({title:e,message:t})}if(t.discount||this.errorExists||(t.discount=0),"customer"!==t.customerAssignmentType||this.errorExists){if("materialGroup"!==t.customerAssignmentType||this.errorExists){if("rules"===t.customerAssignmentType&&t.rules.length<=0&&!this.errorExists){let t=this.$tc("acris-discount-group.product.messageSaveErrorRules",0,{name:"rules"});this.errorExists=!0,this.createNotificationError({title:e,message:t})}}else if(!t.discountGroup){let t=this.$tc("acris-discount-group.product.messageSaveError",0,{name:"discountGroup"});this.errorExists=!0,this.createNotificationError({title:e,message:t})}}else if(!t.customerId){let t=this.$tc("acris-discount-group.product.messageSaveError",0,{name:"customerId"});this.errorExists=!0,this.createNotificationError({title:e,message:t})}})}if(!this.errorExists)return this.$super("onSave")}}}),i(625);let{Component:G}=Shopware,{mapGetters:A,mapState:$}=Shopware.Component.getComponentHelper();G.register("acris-discount-group-product-tab",{template:'{% block acris_discount_group_detail_tabs %}\n<div class="acris-discount-group-detail-tabs" v-if="!isLoading">\n\n    {% block acris_discount_group_detail_discount_group_custom_field %}\n    <sw-card v-if="!isLoading" class="acris-discount-group-detail-tabs__discount_group_custom_field">\n        {% block acris_discount_group_detail_content_discount_group %}\n            <sw-text-field v-model:value="discountGroupValue"\n                           @update:value="discountGroupValueChange"\n                           class="acris-discount-group-detail__acris_discount_group_discount_value"\n                           :label="$tc(\'acris-discount-group.product.fieldTitleLabelDiscountGroupValue\')"\n                           :helpText="$tc(\'acris-discount-group.product.fieldTitleHelpTextDiscountGroupValue\')"\n                           :placeholder="$tc(\'acris-discount-group.product.fieldTitlePlaceholderDiscountGroupValue\')">\n            </sw-text-field>\n        {% endblock %}\n    </sw-card>\n    {% endblock %}\n\n    {% block acris_discount_group_detail_discount_group_label %}\n    <h2 class="sw-card acris-discount-group-detail-tabs__discount_group_label">{{ $tc(\'acris-discount-group.product.generalDiscountGroupCard\') }}</h2>\n    {% endblock %}\n\n    {% block acris_discount_group_detail_tabs_items %}\n        <ul v-if="!isLoading && product.extensions.acrisDiscountGroups && product.extensions.acrisDiscountGroups.length > 0" class="acris-discount-group-detail-tabs__tabs-list">\n            <acris-discount-groups-form\n                v-for="item in product.extensions.acrisDiscountGroups"\n                :key="item.id"\n                :acrisDiscountGroup="item"\n                :allowEdit="acl.can(\'product.editor\')">\n            </acris-discount-groups-form>\n        </ul>\n    {% endblock %}\n\n    {% block acris_discount_group_detail_tabs_add %}\n        <sw-card v-if="product && product.extensions && product.extensions.acrisDiscountGroups && product.extensions.acrisDiscountGroups.length > 0" hero>\n            <sw-button\n                    variant="ghost"\n                    @click="onAddDiscountGroup"\n                    :disabled="!acl.can(\'product.editor\')"\n                    v-tooltip="{\n                        message: this.$tc(\'sw-privileges.tooltip.warning\'),\n                        disabled: this.acl.can(\'product.editor\'),\n                        showOnDisabledElements: true\n                }">\n                {{ $tc(\'acris-discount-group.product.buttonAddDiscountGroup\') }}\n            </sw-button>\n        </sw-card>\n    {% endblock %}\n\n    {% block acris_discount_group_detail_empty_state %}\n    <sw-card class="acris-discount-group-detail-tabs__empty-state"  v-else>\n        <sw-loader v-if="isLoading"></sw-loader>\n        <div v-else>\n            <template>\n                <div class="acris-discount-group-detail-tabs__empty-state-inner">\n                    <img :src="assetFilter(\'/administration/static/img/empty-states/products-empty-state.svg\')">\n\n                    <div class="acris-discount-group-detail-tabs__empty-state-inner--label">\n                        <p>{{ $tc(\'acris-discount-group.product.emptyStateDescription\') }}</p>\n                    </div>\n\n                    {% block acris_discount_group_detail_empty_state_tabs_add %}\n                    <sw-button\n                        variant="ghost"\n                        @click="onAddDiscountGroup"\n                        :disabled="!acl.can(\'product.editor\')"\n                        v-tooltip="{\n                                        message: this.$tc(\'sw-privileges.tooltip.warning\'),\n                                        disabled: this.acl.can(\'product.editor\'),\n                                        showOnDisabledElements: true\n                                }">\n                        {{ $tc(\'acris-discount-group.product.buttonAddDiscountGroup\') }}\n                    </sw-button>\n                    {% endblock %}\n                </div>\n            </template>\n        </div>\n    </sw-card>\n    {% endblock %}\n</div>\n{% endblock %}\n',inject:["repositoryFactory","acl"],props:{allowEdit:{type:Boolean,required:!1,default:!0}},data(){return{discountGroup:null}},computed:{...$("swProductDetail",["product"]),...A("swProductDetail",["isLoading"]),discountGroupValue(){return(null==this.product.customFields&&(this.product.customFields={acris_discount_group_product_value:null}),this.product.customFields.acris_discount_group_product_value)?this.product.customFields.acris_discount_group_product_value:(this.product.customFields.acris_discount_group_product_value=null,null)},assetFilter(){return Shopware.Filter.getByName("asset")}},methods:{createdComponent(){this.updateProductDiscountGroupCustomFields(!0)},updatedComponent(){this.updateProductDiscountGroupCustomFields()},onAddDiscountGroup(){let e=this.repositoryFactory.create(this.product.extensions.acrisDiscountGroups.entity,this.product.extensions.acrisDiscountGroups.source);this.discountGroup=e.create(Shopware.Context.api),this.discountGroup.productId=this.product.id,this.discountGroup.productAssignmentType="product",this.discountGroup.priority=10,this.discountGroup.discount=0,this.discountGroup.minQuantity=1,this.discountGroup.discountType="percentage",this.discountGroup.listPriceType="ignore",this.discountGroup.calculationType="discount",this.discountGroup.customerAssignmentType="rules",this.discountGroup.active=!0,this.discountGroup.excluded=!0,this.product.extensions.acrisDiscountGroups.push(this.discountGroup)},discountGroupValueChange(e){this.product.customFields.acris_discount_group_product_value=e}}}),i(792);let{Criteria:C}=Shopware.Data,{Component:R}=Shopware,{mapPropertyErrors:E}=R.getComponentHelper(),L=new c;R.register("acris-discount-groups-customer-form",{template:'{% block acris_discount_groups_form %}\n<div class="acris-discount-group-detail-tabs">\n\n    {% block acris_discount_groups_form_card %}\n    <sw-card :title="acrisDiscountGroup.internalName" class="acris-discount-group-product-tab-card">\n        <div v-if="acrisDiscountGroup" class="product-detail-tab-form__card-container">\n            {% block acris_discount_groups_form_context_menu %}\n            <div class="acris-discount-group-detail-context-button">\n                <sw-context-button>\n                    {% block acris_discount_groups_form_context_button_delete %}\n                    <sw-context-menu-item\n                        variant="danger"\n                        class="acris-discount-group-context-acris_discount_group__delete-action"\n                        @click="onShowDeleteModal"\n                        :disabled="!allowEdit">\n                        {{ $tc(\'acris-discount-group.customer.buttonDeleteTab\') }}\n                    </sw-context-menu-item>\n                    {% endblock %}\n                </sw-context-button>\n            </div>\n            {% endblock %}\n\n            <div class="acris-discount-group-headline">\n                <h2>{{ $tc(\'acris-discount-group.detail.cardGeneral\') }}</h2>\n            </div>\n            {% block acris_discount_group_detail_content_internal_name %}\n            <sw-text-field v-model:value="acrisDiscountGroup.internalName"\n                           class="acris-discount-group-detail__acris_discount_group_internalName"\n                           :label="$tc(\'acris-discount-group.detail.fieldTitleLabelInternalName\')"\n                           :helpText="$tc(\'acris-discount-group.detail.fieldTitleHelpTextInternalName\')"\n                           :placeholder="$tc(\'acris-discount-group.detail.fieldTitlePlaceholderInternalName\')">\n            </sw-text-field>\n            {% endblock %}\n\n            {% block acris_discount_group_detail_content_active %}\n            <sw-switch-field v-model:value="acrisDiscountGroup.active"\n                      class="acris-discount-group-detail__acris_discount_group_active"\n                      :label="$tc(\'acris-discount-group.detail.fieldTitleLabelActive\')"\n                      :helpText="$tc(\'acris-discount-group.detail.fieldTitleHelpTextActive\')">\n            </sw-switch-field>\n            {% endblock %}\n\n            {% block acris_discount_group_detail_base_active_container %}\n                <sw-container\n                    columns="1fr 1fr"\n                    gap="0 32px"\n                >\n\n                    {% block acris_discount_group_detail_active_from %}\n                        <sw-datepicker\n                            v-model:value="acrisDiscountGroup.activeFrom"\n                            class="acris-discount-group-detail-base__field-active-from"\n                            date-type="datetime-local"\n                            :label="$tc(\'acris-discount-group.detail.fieldTitleLabelActiveFrom\')"\n                            :placeholder-text="$tc(\'acris-discount-group.detail.fieldTitlePlaceholderActiveFrom\')"\n                        />\n                    {% endblock %}\n\n                    {% block acris_discount_group_detail_active_until %}\n                        <sw-datepicker\n                            v-model:value="acrisDiscountGroup.activeUntil"\n                            class="acris-discount-group-detail-base__field-active-until"\n                            date-type="datetime-local"\n                            :label="$tc(\'acris-discount-group.detail.fieldTitleLabelActiveUntil\')"\n                            :placeholder-text="$tc(\'acris-discount-group.detail.fieldTitlePlaceholderActiveUntil\')"\n                        />\n                    {% endblock %}\n\n                </sw-container>\n            {% endblock %}\n\n            {% block acris_discount_group_detail_content_priority %}\n            <sw-number-field numberType="int"\n                             v-model:value="acrisDiscountGroup.priority"\n                             :min="0"\n                             class="acris-discount-group-detail__acris_discount_group_priority"\n                             :label="$tc(\'acris-discount-group.detail.fieldTitleLabelPriority\')"\n                             :helpText="$tc(\'acris-discount-group.detail.fieldTitleHelpTextPriority\')"\n                             :placeholder="$tc(\'acris-discount-group.detail.fieldTitlePlaceholderPriority\')">\n            </sw-number-field>\n            {% endblock %}\n\n            {% block acris_discount_group_detail_content_excluded %}\n                <sw-switch-field v-model:value="acrisDiscountGroup.excluded"\n                          class="acris-discount-group-detail__acris_discount_group_excluded"\n                          :label="$tc(\'acris-discount-group.detail.fieldTitleLabelExcluded\')"\n                          :helpText="$tc(\'acris-discount-group.detail.fieldTitleHelpTextExcluded\')">\n                </sw-switch-field>\n            {% endblock %}\n\n            <div class="acris-discount-group-headline">\n                <h2>{{ $tc(\'acris-discount-group.detail.cardProduct\') }}</h2>\n            </div>\n            {% block acris_discount_group_detail_content_product_assignment_type %}\n            <sw-select-field\n            v-model:value="acrisDiscountGroup.productAssignmentType"\n            required\n            class="acris-discount-group-detail__item_product_assignment_type"\n            :label="$tc(\'acris-discount-group.detail.fieldTitleLabelProductAssignmentType\')"\n            :helpText="$tc(\'acris-discount-group.detail.fieldTitleHelpTextProductAssignmentType\')">\n            <option v-for="option in productAssignmentTypes"\n            :key="option.value"\n            :value="option.value">\n            {{ option.label }}\n            </option>\n            </sw-select-field>\n            {% endblock %}\n\n            {% block acris_discount_group_detail_product_select %}\n                <sw-entity-single-select\n                    v-model:value="acrisDiscountGroup.productId"\n                    v-if="acrisDiscountGroup.productAssignmentType === \'product\'"\n                    entity="product"\n                    :label="$tc(\'acris-discount-group.detail.fieldTitleLabelProduct\')"\n                    :helpText="$tc(\'acris-discount-group.detail.fieldTitleHelpTextProduct\')"\n                    :placeholder="$tc(\'acris-discount-group.detail.fieldTitlePlaceholderProduct\')"\n                    required\n                    :criteria="productCriteria"\n                    :context="productSelectContext">\n\n                    {% block acris_discount_group_detail_product_variant_label %}\n                        <template #selection-label-property="{ item }">\n                            <sw-product-variant-info :variations="item.variation">\n                                {{ item.translated.name || item.name }}\n                            </sw-product-variant-info>\n                        </template>\n                    {% endblock %}\n\n                    {% block acris_discount_group_detail_product_select_result_item %}\n                        <template #result-item="{ item, index }">\n                            <li is="sw-select-result" v-bind="{ item, index }">\n                                {% block acris_discount_group_detail_single_select_base_results_list_result_label %}\n                                    <span class="sw-select-result__result-item-text">\n                                        <sw-product-variant-info :variations="item.variation">\n                                            {{ item.translated.name || item.name }}\n                                        </sw-product-variant-info>\n                                     </span>\n                                {% endblock %}\n\n                            </li>\n                        </template>\n                    {% endblock %}\n                </sw-entity-single-select>\n            {% endblock %}\n\n            {% block acris_discount_group_detail_content_material_group %}\n                <sw-text-field v-model:value="acrisDiscountGroup.materialGroup"\n                               required\n                               v-if="acrisDiscountGroup.productAssignmentType === \'materialGroup\'"\n                               class="acris-discount-group-detail__acrisDiscountGroup_materialGroup"\n                               :label="$tc(\'acris-discount-group.detail.fieldTitleLabelMaterialGroupProduct\')"\n                               :helpText="$tc(\'acris-discount-group.detail.fieldTitleHelpTextMaterialGroupProduct\')"\n                               :placeholder="$tc(\'acris-discount-group.detail.fieldTitlePlaceholderMaterialGroupProduct\')">\n                </sw-text-field>\n            {% endblock %}\n\n            {% block acris_discount_group_form_content_product_streams %}\n                <sw-entity-many-to-many-select\n                    v-if="acrisDiscountGroup && acrisDiscountGroup.productStreams && acrisDiscountGroup.productAssignmentType === \'dynamicProductGroup\'"\n                    :localMode="true"\n                    required\n                    class="acris-discount-group-detail__product_streams"\n                    :label="$tc(\'acris-discount-group.detail.productStreamsSelectFieldLabel\')"\n                    :helpText="$tc(\'acris-discount-group.detail.productStreamsSelectFieldHelpText\')"\n                    :placeholder="$tc(\'acris-discount-group.detail.productStreamsSelectFieldPlaceholder\')"\n                    v-model:entityCollection="acrisDiscountGroup.productStreams">\n                </sw-entity-many-to-many-select>\n            {% endblock %}\n\n            <div class="acris-discount-group-headline">\n                <h2>{{ $tc(\'acris-discount-group.detail.cardDiscount\') }}</h2>\n            </div>\n            {% block acris_discount_group_detail_content_discount_container %}\n                <sw-container columns="1fr 1fr" gap="0px 30px">\n                    {% block acris_discount_group_detail_content_discount_type %}\n                        <sw-select-field\n                            v-model:value="acrisDiscountGroup.discountType"\n                            class="acris-discount-group-detail__acris_discount_group_discount_type"\n                            :label="$tc(\'acris-discount-group.detail.fieldTitleLabelDiscountType\')">\n                            <option v-for="option in discountTypes"\n                                    :key="option.value"\n                                    :value="option.value">\n                                {{ option.label }}\n                            </option>\n                        </sw-select-field>\n                    {% endblock %}\n\n                    {% block acris_discount_group_detail_content_discount %}\n                        <sw-number-field\n                            v-model:value="acrisDiscountGroup.discount"\n                            required\n                            :min="0"\n                            class="acris-discount-group-detail__acris_discount_group_discount"\n                            :label="$tc(\'acris-discount-group.detail.fieldTitleLabelDiscount\')"\n                            :placeholder="$tc(\'acris-discount-group.detail.fieldTitlePlaceholderDiscount\')">\n                            <template #suffix>\n                                {{ discountSuffix }}\n                            </template>\n                        </sw-number-field>\n                    {% endblock %}\n                </sw-container>\n            {% endblock %}\n\n            {% block acris_discount_group_detail_content_calcualtion_type %}\n                <sw-select-field\n                    v-model:value="acrisDiscountGroup.calculationType"\n                    class="acris-discount-group-detail__acris_discount_group_calculation_type"\n                    :label="$tc(\'acris-discount-group.detail.fieldTitleLabelCalculationType\')">\n                    <option v-for="option in calculationTypes"\n                            :key="option.value"\n                            :value="option.value">\n                        {{ option.label }}\n                    </option>\n                </sw-select-field>\n            {% endblock %}\n\n            {% block acris_discount_group_detail_content_list_price_type %}\n                <sw-select-field\n                    v-model:value="acrisDiscountGroup.listPriceType"\n                    v-if="acrisDiscountGroup.calculationType === \'discount\'"\n                    required\n                    class="acris-discount-group-detail__acris_discount_group_list_price_type"\n                    :label="$tc(\'acris-discount-group.detail.fieldTitleLabelListPriceType\')">\n                    <option v-for="option in listPriceTypes"\n                            :key="option.value"\n                            :value="option.value">\n                        {{ option.label }}\n                    </option>\n                </sw-select-field>\n            {% endblock %}\n\n            <div class="acris-discount-group-headline">\n                <h2>{{ $tc(\'acris-discount-group.detail.cardScalePrice\') }}</h2>\n            </div>\n\n            {% block acris_discount_group_detail_content_min_quantity %}\n                <sw-number-field\n                    v-model:value="acrisDiscountGroup.minQuantity"\n                    required\n                    class="acris-discount-group-detail__item_min_quantity"\n                    numberType="int"\n                    :min="1"\n                    :label="$tc(\'acris-discount-group.detail.fieldTitleLabelMinQuantity\')">\n                </sw-number-field>\n            {% endblock %}\n\n            {% block acris_discount_group_detail_content_max_quantity %}\n                <sw-number-field\n                    v-model:value="acrisDiscountGroup.maxQuantity"\n                    class="acris-discount-group-detail__item_max_quantity"\n                    numberType="int"\n                    :min="1"\n                    :allowEmpty="true"\n                    :label="$tc(\'acris-discount-group.detail.fieldTitleLabelMaxQuantity\')"\n                    :helpText="$tc(\'acris-discount-group.detail.fieldTitleHelpTextMaxQuantity\')">\n                </sw-number-field>\n            {% endblock %}\n        </div>\n    </sw-card>\n    {% endblock %}\n\n    {% block acris_discount_groups_form_modal_delete %}\n    <sw-modal v-if="showDeleteModal"\n              @modal-close="onCloseDeleteModal"\n              variant="small"\n              :title="$tc(\'acris-discount-group.customer.deleteConfirmTitle\')"\n              class="acris-discount-group-detail-delete-modal">\n        {% block acris_discount_groups_form_delete_text %}\n        <p>\n            {{ $tc(\'acris-discount-group.customer.deleteConfirmText\') }}\n        </p>\n        {% endblock %}\n\n        {% block acris_discount_groups_form_modal_delete_footer %}\n        <template #modal-footer>\n            {% block acris_product_tabs_modal_delete_action_cancel %}\n            <sw-button @click="onCloseDeleteModal" size="small">\n                {{ $tc(\'acris-discount-group.customer.deleteButtonCancel\') }}\n            </sw-button>\n            {% endblock %}\n\n            {% block acris_discount_groups_form_modal_delete_action_delete %}\n            <sw-button\n                class="acris-discount-group-detail-delete-button"\n                size="small"\n                variant="danger"\n                @click="onConfirmDelete">\n                {{ $tc(\'acris-discount-group.customer.deleteButtonDelete\') }}\n            </sw-button>\n            {% endblock %}\n        </template>\n        {% endblock %}\n    </sw-modal>\n    {% endblock %}\n</div>\n{% endblock %}\n',inject:["repositoryFactory","acl"],props:{acrisDiscountGroup:{type:Object,required:!0},allowEdit:{type:Boolean,required:!1,default:!0},customer:{type:Object,required:!0}},data(){return{showDeleteModal:!1,showModalPreview:!1,productStream:null,productStreamFilter:[],optionSearchTerm:"",useManualAssignment:!1,showLayoutModal:!1,emptyCmsPage:null,sortBy:"name",sortDirection:"ASC",assignmentKey:0,currencies:[],defaultCurrency:null,currencySymbol:null}},computed:{...E("acrisDiscountGroup",["discount","customerAssignmentType","productAssignmentType"]),discountSuffix(){return L.getValueSuffix(this.acrisDiscountGroup.discountType,this.currencySymbol)},currencyRepository(){return this.repositoryFactory.create("currency")},discountTypes(){return[{label:this.$tc("acris-discount-group.detail.absoluteOption"),value:"absolute"},{label:this.$tc("acris-discount-group.detail.percentageOption"),value:"percentage"}]},customerAssignmentTypes(){return[{label:this.$tc("acris-discount-group.detail.customerAssignmentOptionCustomer"),value:"customer"},{label:this.$tc("acris-discount-group.detail.customerAssignmentOptionMaterialGroup"),value:"materialGroup"},{label:this.$tc("acris-discount-group.detail.customerAssignmentOptionRules"),value:"rules"},{label:this.$tc("acris-discount-group.detail.customerAssignmentOptionEveryCustomer"),value:"everyCustomer"}]},productAssignmentTypes(){return[{label:this.$tc("acris-discount-group.detail.productAssignmentOptionProduct"),value:"product"},{label:this.$tc("acris-discount-group.detail.productAssignmentOptionMaterialGroup"),value:"materialGroup"},{label:this.$tc("acris-discount-group.detail.productAssignmentOptionDynamicProductGroup"),value:"dynamicProductGroup"},{label:this.$tc("acris-discount-group.detail.productAssignmentOptionEveryProduct"),value:"everyProduct"}]},listPriceTypes(){return[{label:this.$tc("acris-discount-group.detail.listPriceOptionIgnore"),value:"ignore"},{label:this.$tc("acris-discount-group.detail.listPriceOptionSet"),value:"set"},{label:this.$tc("acris-discount-group.detail.listPriceOptionSetPrice"),value:"setPrice"},{label:this.$tc("acris-discount-group.detail.listPriceOptionRemove"),value:"remove"}]},productSelectContext(){return{...Shopware.Context.api,inheritance:!0}},productCriteria(){let e=new C;return e.addAssociation("options.group"),e},calculationTypes(){return[{label:this.$tc("acris-discount-group.detail.calculationOptionSurcharge"),value:"surcharge"},{label:this.$tc("acris-discount-group.detail.calculationOptionDiscount"),value:"discount"}]},sortingConCat(){return`${this.acrisDiscountGroup.sortBy}:${this.acrisDiscountGroup.sortDirection}`},disablePositioning(){return!!this.term||"position"!==this.sortBy}},created(){this.createdComponent()},methods:{createdComponent(){this.currencyRepository.search(new C,Shopware.Context.api).then(e=>{this.currencies=e,this.defaultCurrency=this.currencies.find(e=>e.isSystemDefault),this.currencySymbol=this.defaultCurrency.symbol})},onShowDeleteModal(){this.showDeleteModal=!0},onCloseDeleteModal(){this.showDeleteModal=!1},onConfirmDelete(){this.onCloseDeleteModal(),this.$nextTick(()=>{this.customer.extensions.acrisDiscountGroups.remove(this.acrisDiscountGroup.id)})},onSortingChanged(e){[this.acrisDiscountGroup.sortBy,this.acrisDiscountGroup.sortDirection]=e.split(":")}}});let{Component:O}=Shopware,{Criteria:I}=Shopware.Data;O.override("sw-customer-detail",{template:"{% block sw_customer_detail_content_tab_order %}\r\n{% parent %}\r\n\r\n<sw-tabs-item class=\"acris-discount-group-customer-tab\"\r\n              :route=\"{ name: 'acris.discount.group.customer.tab', params: { id: $route.params.id } }\"\r\n              :title=\"$tc('acris-discount-group.customer.discountGroupTabTitle')\">\r\n    {{ $tc('acris-discount-group.customer.discountGroupTabTitle') }}\r\n</sw-tabs-item>\r\n{% endblock %}\r\n\r\n",computed:{defaultCriteria(){let e=this.$super("defaultCriteria");return e.addAssociation("acrisDiscountGroups"),e.addAssociation("acrisDiscountGroups.product"),e.addAssociation("acrisDiscountGroups.customer"),e.addAssociation("acrisDiscountGroups.rules"),e.addAssociation("acrisDiscountGroups.productStreams"),e.getAssociation("acrisDiscountGroups").addSorting(I.sort("priority","DESC")),e}},methods:{async onSave(){if(this.errorExists=!1,this.customer&&this.customer.extensions&&this.customer.extensions.acrisDiscountGroups){this.customer.acrisDiscountGroups=this.customer.extensions.acrisDiscountGroups;let e=this.$tc("acris-discount-group.customer.titleSaveError");this.customer.extensions.acrisDiscountGroups.forEach(t=>{if(t.discount<0&&!this.errorExists){let t=this.$tc("acris-discount-group.customer.messageSaveErrorDiscount",0,{name:"discount"});this.errorExists=!0,this.createNotificationError({title:e,message:t})}if(!t.productAssignmentType&&!this.errorExists){let t=this.$tc("acris-discount-group.customer.messageSaveErrorProductAssignmentTypeError");this.errorExists=!0,this.createNotificationError({title:e,message:t})}if(t.discount||this.errorExists||(t.discount=0),"product"!==t.productAssignmentType||this.errorExists){if("materialGroup"!==t.productAssignmentType||this.errorExists){if("dynamicProductGroup"===t.productAssignmentType&&t.productStreams.length<=0&&!this.errorExists){let t=this.$tc("acris-discount-group.customer.messageSaveErrorDynamicProductGroups",0,{name:"productDynamicGroups"});this.errorExists=!0,this.createNotificationError({title:e,message:t})}}else if(!t.materialGroup){let t=this.$tc("acris-discount-group.customer.messageSaveError",0,{name:"discountGroup"});this.errorExists=!0,this.createNotificationError({title:e,message:t})}}else if(!t.productId){let t=this.$tc("acris-discount-group.customer.messageSaveError",0,{name:"productId"});this.errorExists=!0,this.createNotificationError({title:e,message:t})}})}if(!this.errorExists)return this.$super("onSave")}}}),i(922);let{Component:M}=Shopware;M.register("acris-discount-group-customer-tab",{template:'{% block acris_discount_group_detail_tabs %}\n<div class="acris-discount-group-detail-tabs" v-if="!isLoading">\n\n    {% block acris_discount_group_detail_discount_group_custom_field %}\n    <sw-card v-if="!isLoading" class="acris-discount-group-detail-tabs__discount_group_custom_field">\n        {% block acris_discount_group_detail_content_discount_group %}\n        <sw-text-field v-model:value="discountGroupValue"\n                       @update:value="discountGroupValueChange"\n                       :disabled="!customerEditMode"\n                       class="acris-discount-group-detail__acris_discount_group_discount_value"\n                       :label="$tc(\'acris-discount-group.customer.fieldTitleLabelDiscountGroupValue\')"\n                       :helpText="$tc(\'acris-discount-group.customer.fieldTitleHelpTextDiscountGroupValue\')"\n                       :placeholder="$tc(\'acris-discount-group.customer.fieldTitlePlaceholderDiscountGroupValue\')">\n        </sw-text-field>\n        {% endblock %}\n    </sw-card>\n    {% endblock %}\n\n    {% block acris_discount_group_detail_discount_group_label %}\n    <h2 class="sw-card acris-discount-group-detail-tabs__discount_group_label">{{ $tc(\'acris-discount-group.customer.generalDiscountGroupCard\') }}</h2>\n    {% endblock %}\n\n    {% block acris_discount_group_detail_tabs_items %}\n        <ul v-if="!isLoading && customer.extensions.acrisDiscountGroups && customer.extensions.acrisDiscountGroups.length > 0" class="acris-discount-group-detail-tabs__tabs-list">\n            <acris-discount-groups-customer-form\n                v-for="item in customer.extensions.acrisDiscountGroups"\n                :key="item.id"\n                :acrisDiscountGroup="item"\n                :allowEdit="customerEditMode"\n                :customer="customer">\n            </acris-discount-groups-customer-form>\n        </ul>\n    {% endblock %}\n\n    {% block acris_discount_group_detail_tabs_add %}\n        <sw-card v-if="customer && customer.extensions && customer.extensions.acrisDiscountGroups && customer.extensions.acrisDiscountGroups.length > 0" hero>\n            <sw-button\n                    variant="ghost"\n                    @click="onAddDiscountGroup"\n                    :disabled="!customerEditMode"\n                    v-tooltip="{\n                        message: this.$tc(\'sw-privileges.tooltip.warning\'),\n                        disabled: !customerEditMode,\n                        showOnDisabledElements: true\n                }">\n                {{ $tc(\'acris-discount-group.customer.buttonAddDiscountGroup\') }}\n            </sw-button>\n        </sw-card>\n    {% endblock %}\n\n    {% block acris_discount_group_detail_empty_state %}\n    <sw-card class="acris-discount-group-detail-tabs__empty-state" v-else>\n        <sw-loader v-if="isLoading"></sw-loader>\n        <div v-else>\n            <template>\n                <div class="acris-discount-group-detail-tabs__empty-state-inner">\n                    <img :src="assetFilter(\'/administration/static/img/empty-states/customer-empty-state.svg\')">\n                    <div class="acris-discount-group-detail-tabs__empty-state-inner--label">\n                        <p>{{ $tc(\'acris-discount-group.customer.emptyStateDescription\') }}</p>\n                    </div>\n\n                    {% block acris_discount_group_detail_empty_state_tabs_add %}\n                    <sw-button\n                        variant="ghost"\n                        @click="onAddDiscountGroup"\n                        :disabled="!customerEditMode"\n                        v-tooltip="{\n                                        message: this.$tc(\'sw-privileges.tooltip.warning\'),\n                                        disabled: !customerEditMode,\n                                        showOnDisabledElements: true\n                                }">\n                        {{ $tc(\'acris-discount-group.customer.buttonAddDiscountGroup\') }}\n                    </sw-button>\n                    {% endblock %}\n                </div>\n            </template>\n        </div>\n    </sw-card>\n    {% endblock %}\n</div>\n{% endblock %}\n',inject:["repositoryFactory","acl"],props:{customer:{type:Object,required:!0},customerEditMode:{type:Boolean,required:!0,default:!1},isLoading:{type:Boolean,required:!1,default:!1}},data(){return{discountGroup:null}},computed:{discountGroupValue(){return(null==this.customer.customFields&&(this.customer.customFields={acris_discount_group_customer_value:null}),this.customer.customFields.acris_discount_group_customer_value)?this.customer.customFields.acris_discount_group_customer_value:null},assetFilter(){return Shopware.Filter.getByName("asset")}},methods:{onAddDiscountGroup(){let e=this.repositoryFactory.create(this.customer.extensions.acrisDiscountGroups.entity,this.customer.extensions.acrisDiscountGroups.source);this.discountGroup=e.create(Shopware.Context.api),this.discountGroup.customerId=this.customer.id,this.discountGroup.customerAssignmentType="customer",this.discountGroup.priority=10,this.discountGroup.discount=0,this.discountGroup.minQuantity=1,this.discountGroup.discountType="percentage",this.discountGroup.listPriceType="ignore",this.discountGroup.calculationType="discount",this.discountGroup.productAssignmentType="dynamicProductGroup",this.discountGroup.active=!0,this.discountGroup.excluded=!0,this.customer.extensions.acrisDiscountGroups.push(this.discountGroup)},discountGroupValueChange(e){this.customer.customFields.acris_discount_group_customer_value=e}}}),i(305);let{Component:N}=Shopware;N.override("sw-promotion-v2-conditions",{template:'{% block sw_promotion_v2_conditions_pre_conditions_exclusions %}\n    {% parent %}\n\n    {% block acris_discount_group_pre_conditions_prevent_combination_with_discont_group %}\n        <sw-switch-field\n            v-model:value="preventCombinationDiscountGroup"\n            class="acris-discount-group-conditions__prevent-combination"\n            @update:value="onPreventCombinationChange"\n            :label="$tc(\'acris-discount-group.promotion.preventCombinationFieldLabel\')"\n            :helpText="$tc(\'acris-discount-group.promotion.preventCombinationFieldHelpText\')"\n        />\n    {% endblock %}\n{% endblock %}\n',data(){return{preventCombinationDiscountGroup:!1}},methods:{createdComponent(){this.$super("createdComponent"),this.preventCombinationDiscountGroup=this.promotion&&this.promotion.customFields&&!0===this.promotion.customFields.acris_discount_group_promotion_prevent},onPreventCombinationChange(e){this.assignCustomField(e)},assignCustomField(e){this.promotion&&(null==this.promotion.customFields?this.promotion.customFields={acris_discount_group_promotion_prevent:e}:this.promotion.customFields.acris_discount_group_promotion_prevent=e)}}})}()}();