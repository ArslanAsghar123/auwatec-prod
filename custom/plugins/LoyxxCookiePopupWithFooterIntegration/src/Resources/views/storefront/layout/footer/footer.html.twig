{% sw_extends '@Storefront/storefront/layout/footer/footer.html.twig' %}

{% block layout_footer_copyright %}
    {{ parent() }}
    {% set pluginConfigurations = context.context.extensions.loyxx_configrations.configs %}
    {% if pluginConfigurations.loyxx_cookie_enabled and pluginConfigurations.loyxx_cookie_button_pos == 'button' %}
        <div class="loyxx-reload-cookie-settings">
            <div class="loyxx-cookie-button">
                <a href="{{ path('frontend.cookie.offcanvas') }}" class="btn btn-primary">
                    {% block layout_scroll_up_button_icon %}
                        {% sw_icon 'settings' style { 'size': 'sm' } %}
                    {% endblock %}
                </a>
            </div>
        </div>
    {% endif %}
{% endblock %}

{% block layout_footer_navigation_information_link_item %}
    <li class="footer-link-item">
        {% block layout_footer_navigation_information_link %}
            {% set pluginConfigurations = context.context.extensions.loyxx_configrations.configs %}
            {% if category.type == 'folder' %}
                <div>{{ name }}</div>
            {% else %}
                {% if (category.id == pluginConfigurations.loyxx_category_id) %}
                    {% if  (pluginConfigurations.loyxx_cookie_enabled) and
                        (pluginConfigurations.loyxx_cookie_button_pos == 'category') %}
                        <a class="footer-link"
                           href="{{ path('frontend.cookie.offcanvas') }}"
                           title="{{ name }}">
                            {{ name }}
                        </a>
                    {% endif %}
                {% else %}
                    {{ parent() }}
                {% endif %}
            {% endif %}
        {% endblock %}
    </li>
{% endblock %}

{% block layout_footer_service_menu_item %}
    {% set pluginConfigurations = context.context.extensions.loyxx_configrations.configs %}
    <li class="footer-service-menu-item">
        {% if (serviceMenuItem.id == pluginConfigurations.loyxx_category_id) %}
            {% if  (pluginConfigurations.loyxx_cookie_enabled) and
                (pluginConfigurations.loyxx_cookie_button_pos == 'category') %}
                <a class="footer-service-menu-link"
                   href="{{ path('frontend.cookie.offcanvas') }}"
                   title="{{ serviceMenuItem.translated.name }}">
                    {{ serviceMenuItem.translated.name }}
                </a>
            {% endif %}
        {% else %}
            {{ parent() }}
        {% endif %}
    </li>
{% endblock %}

{% block layout_footer_navigation_information_headline %}
    {% set pluginConfigurations = context.context.extensions.loyxx_configrations.configs %}
    {% if (root.category.id == pluginConfigurations.loyxx_category_id) %}
        {% if  (pluginConfigurations.loyxx_cookie_enabled) and
            (pluginConfigurations.loyxx_cookie_button_pos == 'category') %}
            <div class="footer-column-headline footer-headline js-collapse-footer-column-trigger"
            {{ dataBsTargetAttr }}="#collapseFooterTitle{{ loop.index }}"
            aria-expanded="true"
            aria-controls="collapseFooter{{ loop.index }}">
            <a href="{{ path('frontend.cookie.offcanvas') }}"
               {% if category_linknewtab(root.category) %}target="_blank"{% endif %}
               title="{{ root.category.translated.name }}">
                {{ root.category.translated.name }}
            </a>
            </div>
        {% endif %}
    {% else %}
        {{ parent() }}
    {% endif %}
{% endblock %}

{% block layout_footer_navigation_information_content %}
    {% set pluginConfigurations = context.context.extensions.loyxx_configrations.configs %}
    {% if (root.category.id == pluginConfigurations.loyxx_category_id) %}
        {% if  (pluginConfigurations.loyxx_cookie_enabled) and
            (pluginConfigurations.loyxx_cookie_button_pos == 'category') %}
            {# No content shown #}
        {% endif %}
    {% else %}
        {{ parent() }}
    {% endif %}
{% endblock %}
