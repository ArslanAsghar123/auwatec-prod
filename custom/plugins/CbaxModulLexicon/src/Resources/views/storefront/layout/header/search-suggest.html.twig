{% sw_extends '@Storefront/storefront/layout/header/search-suggest.html.twig' %}

{% block layout_search_suggest_container %}

    {% if page.cbaxLexiconSuggestions is not defined
        or config('CbaxModulLexicon.config') is null
        or config('CbaxModulLexicon.config.searchShow') is null
    %}

        {{ parent() }}

    {% elseif page.cbaxManufacturersSuggestions is defined and page.cbaxManufacturersSuggestions %}

        {{ parent() }}

    {% else %}

        {% set displayClassCbax = config('CbaxModulLexicon.config.searchShow') %}
        {% set displayClassSW = displayClassCbax | replace({'block': "none"}) %}
        {% set searchSuggestWidth = config('CbaxModulLexicon.config.searchSuggestWidth') %}
        {% set searchSuggestWidth = searchSuggestWidth ?? 990 %}

        <div class="d-block {{ displayClassSW }}">
            {{ parent() }}
        </div>

        <div class="d-none {{ displayClassCbax }}">
            <div class="cbax-lexicon-search-suggest-container row row-cols-sm-1 row-cols-md-2" data-cbax-search-suggest-width="{{ searchSuggestWidth }}">
                <div class="cbax-lexicon-search-suggest-products">
                    {% sw_include '@Storefront/storefront/cbax-lexicon/layout/header/cbax-products-suggest.html.twig' %}
                </div>

                <div class="cbax-lexicon-search-suggest-adds">
                    {% if page.cbaxLexiconSuggestions %}

                        {% sw_include '@Storefront/storefront/cbax-lexicon/layout/header/cbax-lexicon-suggest.html.twig' %}

                    {% endif %}
                </div>
            </div>
        </div>

    {% endif %}

{% endblock %}


