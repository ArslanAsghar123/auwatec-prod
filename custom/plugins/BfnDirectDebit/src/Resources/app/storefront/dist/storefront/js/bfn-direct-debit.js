"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["bfn-direct-debit"],{3893:(e,t,n)=>{var i,l,d,c,a,u,o,r,m,s,b=n(8254),_=n(6285);class g extends _.Z{init(){if(this._client=new b.Z,null!==document.getElementById("bfn_direct_debit_owner_input")?document.getElementById("bfn_direct_debit_owner_input").value:null,i=null!==document.getElementById("bfn_direct_debit_iban_input")?document.getElementById("bfn_direct_debit_iban_input").value:null,l=null!==document.getElementById("bfn_direct_debit_bic_input")?document.getElementById("bfn_direct_debit_bic_input").value:null,d=null!==document.getElementById("af-base-url")?document.getElementById("af-base-url").value:null,a=document.getElementById("bfn_direct_debit_iban_input"),c=document.getElementById("bfn_direct_debit_bic_input"),u=document.getElementById("iban-error"),o=document.getElementById("swift-error"),!this.isDirectDebitSelected())return;null!==u&&(u.style.display="none"),null!==o&&(o.style.display="none"),null!==a?a.addEventListener("keyup",(()=>{i=document.getElementById("bfn_direct_debit_iban_input").value,this._ibanValidation()})):r=!0,null!==c?c.addEventListener("keyup",(()=>{l=document.getElementById("bfn_direct_debit_bic_input").value,this._swiftCodeValidation()})):m=!0,null!==document.getElementById("confirmFormSubmit")&&(document.getElementById("confirmFormSubmit").disabled=!0);const e=document.getElementById("mandateCheck");e?(e.addEventListener("change",(()=>{this._checkboxValidation()})),s=!1):s=!0,this._registerEvents()}isDirectDebitSelected(){const e=null!==document.getElementById("directDebitPaymentMethodId")?document.getElementById("directDebitPaymentMethodId").value:null;if(null===e)return!1;const t=document.querySelectorAll('input[name="paymentMethodId"]');for(let n=0;n<t.length;n++)if(t[n].checked&&t[n].value===e)return!0;return!1}_registerEvents(){this._ibanValidation(),null!==l&&this._swiftCodeValidation();document.getElementById("mandateCheck")&&this._checkboxValidation()}_ibanValidation(){if(null!==i&&""!==i.trim()&&i.trim().length>16){const e=JSON.stringify({getIbanNumber:i});this._client.post(d+"/directDebit/validateIban/iban",e,this._setContent.bind(this),"application/json",!0)}else i.trim().length>=1&&i.trim().length<=16&&(r=!1,u.style.display="block"),this._changeButtonAppearance()}_setContent(e){null!==u&&("true"==e?(u.style.display="none",r=!0):(u.style.display="block",r=!1),this._changeButtonAppearance())}_swiftCodeValidation(){if(null!==l&&""!==l.trim()&&l.trim().length>=8){const e=JSON.stringify({getSwiftNumber:l});this._client.post(d+"/directDebit/validateSwift/swiftCode",e,this._setSwiftContent.bind(this),"application/json",!0)}else l.trim().length>=1&&l.trim().length<=8&&(m=!1,o.style.display="block"),this._changeButtonAppearance()}_setSwiftContent(e){null!==o&&("true"==e?(o.style.display="none",m=!0):(o.style.display="block",m=!1),this._changeButtonAppearance())}_checkboxValidation(){const e=document.getElementById("mandateCheck");e&&(s=!!e.checked,this._changeButtonAppearance())}_changeButtonAppearance(){!0===r&&!0===m&&!0===s?null!==document.getElementById("confirmFormSubmit")&&(document.getElementById("confirmFormSubmit").disabled=!1):null!==document.getElementById("confirmFormSubmit")&&(document.getElementById("confirmFormSubmit").disabled=!0)}}window.PluginManager.register("BfnDebitPlugin",g,"[restrict-order-filter]")}},e=>{e.O(0,["vendor-node","vendor-shared"],(()=>{return t=3893,e(e.s=t);var t}));e.O()}]);